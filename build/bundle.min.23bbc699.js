!function b(a,c,d){function e(g,h){if(!c[g]){if(!a[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};a[g][0].call(k.exports,function(b){var c=a[g][1][b];return e(c?c:b)},k,k.exports,b,a,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(b,d){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(a,c,e){b.Backbone=d(b,e,a,c)});else if("undefined"!=typeof c){var e=a("underscore");d(b,c,e)}else b.Backbone=d(b,{},b._,b.jQuery||b.Zepto||b.ender||b.$)}(this,function(a,b,c,d){var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice;b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a,b){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();return b===this.fragment&&this.iframe&&(b=this.getFragment(this.getHash(this.iframe))),b===this.fragment?!1:(this.iframe&&this.navigate(b),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b})},{underscore:2}],2:[function(a,b,c){(function(a){!function(){var d="object"==typeof self&&self.self===self&&self||"object"==typeof a&&a.global===a&&a||this||{},e=d._,f=Array.prototype,g=Object.prototype,h="undefined"!=typeof Symbol?Symbol.prototype:null,i=f.push,j=f.slice,k=g.toString,l=g.hasOwnProperty,m=Array.isArray,n=Object.keys,o=Object.create,p=function(){},q=function(a){return a instanceof q?a:this instanceof q?void(this._wrapped=a):new q(a)};"undefined"==typeof c||c.nodeType?d._=q:("undefined"!=typeof b&&!b.nodeType&&b.exports&&(c=b.exports=q),c._=q),q.VERSION="1.9.1";var r,s=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)}}return function(){return a.apply(b,arguments)}},t=function(a,b,c){return q.iteratee!==r?q.iteratee(a,b):null==a?q.identity:q.isFunction(a)?s(a,b,c):q.isObject(a)&&!q.isArray(a)?q.matcher(a):q.property(a)};q.iteratee=r=function(a,b){return t(a,b,1/0)};var u=function(a,b){return b=null==b?a.length-1:+b,function(){for(var c=Math.max(arguments.length-b,0),d=Array(c),e=0;c>e;e++)d[e]=arguments[e+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d)}var f=Array(b+1);for(e=0;b>e;e++)f[e]=arguments[e];return f[b]=d,a.apply(this,f)}},v=function(a){if(!q.isObject(a))return{};if(o)return o(a);p.prototype=a;var b=new p;return p.prototype=null,b},w=function(a){return function(b){return null==b?void 0:b[a]}},x=function(a,b){return null!=a&&l.call(a,b)},y=function(a,b){for(var c=b.length,d=0;c>d;d++){if(null==a)return void 0;a=a[b[d]]}return c?a:void 0},z=Math.pow(2,53)-1,A=w("length"),B=function(a){var b=A(a);return"number"==typeof b&&b>=0&&z>=b};q.each=q.forEach=function(a,b,c){b=s(b,c);var d,e;if(B(a))for(d=0,e=a.length;e>d;d++)b(a[d],d,a);else{var f=q.keys(a);for(d=0,e=f.length;e>d;d++)b(a[f[d]],f[d],a)}return a},q.map=q.collect=function(a,b,c){b=t(b,c);for(var d=!B(a)&&q.keys(a),e=(d||a).length,f=Array(e),g=0;e>g;g++){var h=d?d[g]:g;f[g]=b(a[h],h,a)}return f};var C=function(a){var b=function(b,c,d,e){var f=!B(b)&&q.keys(b),g=(f||b).length,h=a>0?0:g-1;for(e||(d=b[f?f[h]:h],h+=a);h>=0&&g>h;h+=a){var i=f?f[h]:h;d=c(d,b[i],i,b)}return d};return function(a,c,d,e){var f=arguments.length>=3;return b(a,s(c,e,4),d,f)}};q.reduce=q.foldl=q.inject=C(1),q.reduceRight=q.foldr=C(-1),q.find=q.detect=function(a,b,c){var d=B(a)?q.findIndex:q.findKey,e=d(a,b,c);return void 0!==e&&-1!==e?a[e]:void 0},q.filter=q.select=function(a,b,c){var d=[];return b=t(b,c),q.each(a,function(a,c,e){b(a,c,e)&&d.push(a)}),d},q.reject=function(a,b,c){return q.filter(a,q.negate(t(b)),c)},q.every=q.all=function(a,b,c){b=t(b,c);for(var d=!B(a)&&q.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(!b(a[g],g,a))return!1}return!0},q.some=q.any=function(a,b,c){b=t(b,c);for(var d=!B(a)&&q.keys(a),e=(d||a).length,f=0;e>f;f++){var g=d?d[f]:f;if(b(a[g],g,a))return!0}return!1},q.contains=q.includes=q.include=function(a,b,c,d){return B(a)||(a=q.values(a)),("number"!=typeof c||d)&&(c=0),q.indexOf(a,b,c)>=0},q.invoke=u(function(a,b,c){var d,e;return q.isFunction(b)?e=b:q.isArray(b)&&(d=b.slice(0,-1),b=b[b.length-1]),q.map(a,function(a){var f=e;if(!f){if(d&&d.length&&(a=y(a,d)),null==a)return void 0;f=a[b]}return null==f?f:f.apply(a,c)})}),q.pluck=function(a,b){return q.map(a,q.property(b))},q.where=function(a,b){return q.filter(a,q.matcher(b))},q.findWhere=function(a,b){return q.find(a,q.matcher(b))},q.max=function(a,b,c){var d,e,f=-(1/0),g=-(1/0);if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=B(a)?a:q.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],null!=d&&d>f&&(f=d)}else b=t(b,c),q.each(a,function(a,c,d){e=b(a,c,d),(e>g||e===-(1/0)&&f===-(1/0))&&(f=a,g=e)});return f},q.min=function(a,b,c){var d,e,f=1/0,g=1/0;if(null==b||"number"==typeof b&&"object"!=typeof a[0]&&null!=a){a=B(a)?a:q.values(a);for(var h=0,i=a.length;i>h;h++)d=a[h],null!=d&&f>d&&(f=d)}else b=t(b,c),q.each(a,function(a,c,d){e=b(a,c,d),(g>e||e===1/0&&f===1/0)&&(f=a,g=e)});return f},q.shuffle=function(a){return q.sample(a,1/0)},q.sample=function(a,b,c){if(null==b||c)return B(a)||(a=q.values(a)),a[q.random(a.length-1)];var d=B(a)?q.clone(a):q.values(a),e=A(d);b=Math.max(Math.min(b,e),0);for(var f=e-1,g=0;b>g;g++){var h=q.random(g,f),i=d[g];d[g]=d[h],d[h]=i}return d.slice(0,b)},q.sortBy=function(a,b,c){var d=0;return b=t(b,c),q.pluck(q.map(a,function(a,c,e){return{value:a,index:d++,criteria:b(a,c,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index-b.index}),"value")};var D=function(a,b){return function(c,d,e){var f=b?[[],[]]:{};return d=t(d,e),q.each(c,function(b,e){var g=d(b,e,c);a(f,b,g)}),f}};q.groupBy=D(function(a,b,c){x(a,c)?a[c].push(b):a[c]=[b]}),q.indexBy=D(function(a,b,c){a[c]=b}),q.countBy=D(function(a,b,c){x(a,c)?a[c]++:a[c]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;q.toArray=function(a){return a?q.isArray(a)?j.call(a):q.isString(a)?a.match(E):B(a)?q.map(a,q.identity):q.values(a):[]},q.size=function(a){return null==a?0:B(a)?a.length:q.keys(a).length},q.partition=D(function(a,b,c){a[c?0:1].push(b)},!0),q.first=q.head=q.take=function(a,b,c){return null==a||a.length<1?null==b?void 0:[]:null==b||c?a[0]:q.initial(a,a.length-b)},q.initial=function(a,b,c){return j.call(a,0,Math.max(0,a.length-(null==b||c?1:b)))},q.last=function(a,b,c){return null==a||a.length<1?null==b?void 0:[]:null==b||c?a[a.length-1]:q.rest(a,Math.max(0,a.length-b))},q.rest=q.tail=q.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},q.compact=function(a){return q.filter(a,Boolean)};var F=function(a,b,c,d){d=d||[];for(var e=d.length,f=0,g=A(a);g>f;f++){var h=a[f];if(B(h)&&(q.isArray(h)||q.isArguments(h)))if(b)for(var i=0,j=h.length;j>i;)d[e++]=h[i++];else F(h,b,c,d),e=d.length;else c||(d[e++]=h)}return d};q.flatten=function(a,b){return F(a,b,!1)},q.without=u(function(a,b){return q.difference(a,b)}),q.uniq=q.unique=function(a,b,c,d){q.isBoolean(b)||(d=c,c=b,b=!1),null!=c&&(c=t(c,d));for(var e=[],f=[],g=0,h=A(a);h>g;g++){var i=a[g],j=c?c(i,g,a):i;b&&!c?(g&&f===j||e.push(i),f=j):c?q.contains(f,j)||(f.push(j),e.push(i)):q.contains(e,i)||e.push(i)}return e},q.union=u(function(a){return q.uniq(F(a,!0,!0))}),q.intersection=function(a){for(var b=[],c=arguments.length,d=0,e=A(a);e>d;d++){var f=a[d];if(!q.contains(b,f)){var g;for(g=1;c>g&&q.contains(arguments[g],f);g++);g===c&&b.push(f)}}return b},q.difference=u(function(a,b){return b=F(b,!0,!0),q.filter(a,function(a){return!q.contains(b,a)})}),q.unzip=function(a){for(var b=a&&q.max(a,A).length||0,c=Array(b),d=0;b>d;d++)c[d]=q.pluck(a,d);return c},q.zip=u(q.unzip),q.object=function(a,b){for(var c={},d=0,e=A(a);e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};var G=function(a){return function(b,c,d){c=t(c,d);for(var e=A(b),f=a>0?0:e-1;f>=0&&e>f;f+=a)if(c(b[f],f,b))return f;return-1}};q.findIndex=G(1),q.findLastIndex=G(-1),q.sortedIndex=function(a,b,c,d){c=t(c,d,1);for(var e=c(b),f=0,g=A(a);g>f;){var h=Math.floor((f+g)/2);c(a[h])<e?f=h+1:g=h}return f};var H=function(a,b,c){return function(d,e,f){var g=0,h=A(d);if("number"==typeof f)a>0?g=f>=0?f:Math.max(f+h,g):h=f>=0?Math.min(f+1,h):f+h+1;else if(c&&f&&h)return f=c(d,e),d[f]===e?f:-1;if(e!==e)return f=b(j.call(d,g,h),q.isNaN),f>=0?f+g:-1;for(f=a>0?g:h-1;f>=0&&h>f;f+=a)if(d[f]===e)return f;return-1}};q.indexOf=H(1,q.findIndex,q.sortedIndex),q.lastIndexOf=H(-1,q.findLastIndex),q.range=function(a,b,c){null==b&&(b=a||0,a=0),c||(c=a>b?-1:1);for(var d=Math.max(Math.ceil((b-a)/c),0),e=Array(d),f=0;d>f;f++,a+=c)e[f]=a;return e},q.chunk=function(a,b){if(null==b||1>b)return[];for(var c=[],d=0,e=a.length;e>d;)c.push(j.call(a,d,d+=b));return c};var I=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=v(a.prototype),g=a.apply(f,e);return q.isObject(g)?g:f};q.bind=u(function(a,b,c){if(!q.isFunction(a))throw new TypeError("Bind must be called on a function");var d=u(function(e){return I(a,d,b,this,c.concat(e))});return d}),q.partial=u(function(a,b){var c=q.partial.placeholder,d=function(){for(var e=0,f=b.length,g=Array(f),h=0;f>h;h++)g[h]=b[h]===c?arguments[e++]:b[h];for(;e<arguments.length;)g.push(arguments[e++]);return I(a,d,this,this,g)};return d}),q.partial.placeholder=q,q.bindAll=u(function(a,b){b=F(b,!1,!1);var c=b.length;if(1>c)throw new Error("bindAll must be passed function names");for(;c--;){var d=b[c];a[d]=q.bind(a[d],a)}}),q.memoize=function(a,b){var c=function(d){var e=c.cache,f=""+(b?b.apply(this,arguments):d);return x(e,f)||(e[f]=a.apply(this,arguments)),e[f]};return c.cache={},c},q.delay=u(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),q.defer=q.partial(q.delay,q,1),q.throttle=function(a,b,c){var d,e,f,g,h=0;c||(c={});var i=function(){h=c.leading===!1?0:q.now(),d=null,g=a.apply(e,f),d||(e=f=null)},j=function(){var j=q.now();h||c.leading!==!1||(h=j);var k=b-(j-h);return e=this,f=arguments,0>=k||k>b?(d&&(clearTimeout(d),d=null),h=j,g=a.apply(e,f),d||(e=f=null)):d||c.trailing===!1||(d=setTimeout(i,k)),g};return j.cancel=function(){clearTimeout(d),h=0,d=e=f=null},j},q.debounce=function(a,b,c){var d,e,f=function(b,c){d=null,c&&(e=a.apply(b,c))},g=u(function(g){if(d&&clearTimeout(d),c){var h=!d;d=setTimeout(f,b),h&&(e=a.apply(this,g))}else d=q.delay(f,b,this,g);return e});return g.cancel=function(){clearTimeout(d),d=null},g},q.wrap=function(a,b){return q.partial(b,a)},q.negate=function(a){return function(){return!a.apply(this,arguments)}},q.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},q.after=function(a,b){return function(){return--a<1?b.apply(this,arguments):void 0}},q.before=function(a,b){var c;return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},q.once=q.partial(q.before,2),q.restArguments=u;var J=!{toString:null}.propertyIsEnumerable("toString"),K=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],L=function(a,b){var c=K.length,d=a.constructor,e=q.isFunction(d)&&d.prototype||g,f="constructor";for(x(a,f)&&!q.contains(b,f)&&b.push(f);c--;)f=K[c],f in a&&a[f]!==e[f]&&!q.contains(b,f)&&b.push(f)};q.keys=function(a){if(!q.isObject(a))return[];if(n)return n(a);var b=[];for(var c in a)x(a,c)&&b.push(c);return J&&L(a,b),b},q.allKeys=function(a){if(!q.isObject(a))return[];var b=[];for(var c in a)b.push(c);return J&&L(a,b),b},q.values=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=a[b[e]];return d},q.mapObject=function(a,b,c){b=t(b,c);for(var d=q.keys(a),e=d.length,f={},g=0;e>g;g++){var h=d[g];f[h]=b(a[h],h,a)}return f},q.pairs=function(a){for(var b=q.keys(a),c=b.length,d=Array(c),e=0;c>e;e++)d[e]=[b[e],a[b[e]]];return d},q.invert=function(a){for(var b={},c=q.keys(a),d=0,e=c.length;e>d;d++)b[a[c[d]]]=c[d];return b},q.functions=q.methods=function(a){var b=[];for(var c in a)q.isFunction(a[c])&&b.push(c);return b.sort()};var M=function(a,b){return function(c){var d=arguments.length;if(b&&(c=Object(c)),2>d||null==c)return c;for(var e=1;d>e;e++)for(var f=arguments[e],g=a(f),h=g.length,i=0;h>i;i++){var j=g[i];b&&void 0!==c[j]||(c[j]=f[j])}return c}};q.extend=M(q.allKeys),q.extendOwn=q.assign=M(q.keys),q.findKey=function(a,b,c){b=t(b,c);for(var d,e=q.keys(a),f=0,g=e.length;g>f;f++)if(d=e[f],b(a[d],d,a))return d};var N=function(a,b,c){return b in c};q.pick=u(function(a,b){var c={},d=b[0];if(null==a)return c;q.isFunction(d)?(b.length>1&&(d=s(d,b[1])),b=q.allKeys(a)):(d=N,b=F(b,!1,!1),a=Object(a));for(var e=0,f=b.length;f>e;e++){var g=b[e],h=a[g];d(h,g,a)&&(c[g]=h)}return c}),q.omit=u(function(a,b){var c,d=b[0];return q.isFunction(d)?(d=q.negate(d),b.length>1&&(c=b[1])):(b=q.map(F(b,!1,!1),String),d=function(a,c){return!q.contains(b,c)}),q.pick(a,d,c)}),q.defaults=M(q.allKeys,!0),q.create=function(a,b){var c=v(a);return b&&q.extendOwn(c,b),c},q.clone=function(a){return q.isObject(a)?q.isArray(a)?a.slice():q.extend({},a):a},q.tap=function(a,b){return b(a),a},q.isMatch=function(a,b){var c=q.keys(b),d=c.length;if(null==a)return!d;for(var e=Object(a),f=0;d>f;f++){var g=c[f];if(b[g]!==e[g]||!(g in e))return!1;
}return!0};var O,P;O=function(a,b,c,d){if(a===b)return 0!==a||1/a===1/b;if(null==a||null==b)return!1;if(a!==a)return b!==b;var e=typeof a;return"function"!==e&&"object"!==e&&"object"!=typeof b?!1:P(a,b,c,d)},P=function(a,b,c,d){a instanceof q&&(a=a._wrapped),b instanceof q&&(b=b._wrapped);var e=k.call(a);if(e!==k.call(b))return!1;switch(e){case"[object RegExp]":case"[object String]":return""+a==""+b;case"[object Number]":return+a!==+a?+b!==+b:0===+a?1/+a===1/b:+a===+b;case"[object Date]":case"[object Boolean]":return+a===+b;case"[object Symbol]":return h.valueOf.call(a)===h.valueOf.call(b)}var f="[object Array]"===e;if(!f){if("object"!=typeof a||"object"!=typeof b)return!1;var g=a.constructor,i=b.constructor;if(g!==i&&!(q.isFunction(g)&&g instanceof g&&q.isFunction(i)&&i instanceof i)&&"constructor"in a&&"constructor"in b)return!1}c=c||[],d=d||[];for(var j=c.length;j--;)if(c[j]===a)return d[j]===b;if(c.push(a),d.push(b),f){if(j=a.length,j!==b.length)return!1;for(;j--;)if(!O(a[j],b[j],c,d))return!1}else{var l,m=q.keys(a);if(j=m.length,q.keys(b).length!==j)return!1;for(;j--;)if(l=m[j],!x(b,l)||!O(a[l],b[l],c,d))return!1}return c.pop(),d.pop(),!0},q.isEqual=function(a,b){return O(a,b)},q.isEmpty=function(a){return null==a?!0:B(a)&&(q.isArray(a)||q.isString(a)||q.isArguments(a))?0===a.length:0===q.keys(a).length},q.isElement=function(a){return!(!a||1!==a.nodeType)},q.isArray=m||function(a){return"[object Array]"===k.call(a)},q.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},q.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(a){q["is"+a]=function(b){return k.call(b)==="[object "+a+"]"}}),q.isArguments(arguments)||(q.isArguments=function(a){return x(a,"callee")});var Q=d.document&&d.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof Q&&(q.isFunction=function(a){return"function"==typeof a||!1}),q.isFinite=function(a){return!q.isSymbol(a)&&isFinite(a)&&!isNaN(parseFloat(a))},q.isNaN=function(a){return q.isNumber(a)&&isNaN(a)},q.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===k.call(a)},q.isNull=function(a){return null===a},q.isUndefined=function(a){return void 0===a},q.has=function(a,b){if(!q.isArray(b))return x(a,b);for(var c=b.length,d=0;c>d;d++){var e=b[d];if(null==a||!l.call(a,e))return!1;a=a[e]}return!!c},q.noConflict=function(){return d._=e,this},q.identity=function(a){return a},q.constant=function(a){return function(){return a}},q.noop=function(){},q.property=function(a){return q.isArray(a)?function(b){return y(b,a)}:w(a)},q.propertyOf=function(a){return null==a?function(){}:function(b){return q.isArray(b)?y(a,b):a[b]}},q.matcher=q.matches=function(a){return a=q.extendOwn({},a),function(b){return q.isMatch(b,a)}},q.times=function(a,b,c){var d=Array(Math.max(0,a));b=s(b,c,1);for(var e=0;a>e;e++)d[e]=b(e);return d},q.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},q.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},S=q.invert(R),T=function(a){var b=function(b){return a[b]},c="(?:"+q.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};q.escape=T(R),q.unescape=T(S),q.result=function(a,b,c){q.isArray(b)||(b=[b]);var d=b.length;if(!d)return q.isFunction(c)?c.call(a):c;for(var e=0;d>e;e++){var f=null==a?void 0:a[b[e]];void 0===f&&(f=c,e=d),a=q.isFunction(f)?f.call(a):f}return a};var U=0;q.uniqueId=function(a){var b=++U+"";return a?a+b:b},q.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var V=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},X=/\\|'|\r|\n|\u2028|\u2029/g,Y=function(a){return"\\"+W[a]};q.template=function(a,b,c){!b&&c&&(b=c),b=q.defaults({},b,q.templateSettings);var d=RegExp([(b.escape||V).source,(b.interpolate||V).source,(b.evaluate||V).source].join("|")+"|$","g"),e=0,f="__p+='";a.replace(d,function(b,c,d,g,h){return f+=a.slice(e,h).replace(X,Y),e=h+b.length,c?f+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?f+="'+\n((__t=("+d+"))==null?'':__t)+\n'":g&&(f+="';\n"+g+"\n__p+='"),b}),f+="';\n",b.variable||(f="with(obj||{}){\n"+f+"}\n"),f="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+f+"return __p;\n";var g;try{g=new Function(b.variable||"obj","_",f)}catch(h){throw h.source=f,h}var i=function(a){return g.call(this,a,q)},j=b.variable||"obj";return i.source="function("+j+"){\n"+f+"}",i},q.chain=function(a){var b=q(a);return b._chain=!0,b};var Z=function(a,b){return a._chain?q(b).chain():b};q.mixin=function(a){return q.each(q.functions(a),function(b){var c=q[b]=a[b];q.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),Z(this,c.apply(q,a))}}),q},q.mixin(q),q.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];q.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],Z(this,c)}}),q.each(["concat","join","slice"],function(a){var b=f[a];q.prototype[a]=function(){return Z(this,b.apply(this._wrapped,arguments))}}),q.prototype.value=function(){return this._wrapped},q.prototype.valueOf=q.prototype.toJSON=q.prototype.value,q.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return q})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(a,b,c){(function(a){"use strict";var c=function(b,c,d,e,f,g,h,i){if("production"!==a.env.NODE_ENV&&void 0===c)throw new Error("invariant requires an error message argument");if(!b){var j;if(void 0===c)j=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var k=[d,e,f,g,h,i],l=0;j=new Error("Invariant Violation: "+c.replace(/%s/g,function(){return k[l++]}))}throw j.framesToPop=1,j}};b.exports=c}).call(this,a("_process"))},{_process:12}],4:[function(a,b,c){b.exports.Dispatcher=a("./lib/Dispatcher")},{"./lib/Dispatcher":5}],5:[function(a,b,c){(function(d){"use strict";function e(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}c.__esModule=!0;var f=a("fbjs/lib/invariant"),g="ID_",h=function(){function a(){e(this,a),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return a.prototype.register=function(a){var b=g+this._lastID++;return this._callbacks[b]=a,b},a.prototype.unregister=function(a){this._callbacks[a]?void 0:"production"!==d.env.NODE_ENV?f(!1,"Dispatcher.unregister(...): `%s` does not map to a registered callback.",a):f(!1),delete this._callbacks[a]},a.prototype.waitFor=function(a){this._isDispatching?void 0:"production"!==d.env.NODE_ENV?f(!1,"Dispatcher.waitFor(...): Must be invoked while dispatching."):f(!1);for(var b=0;b<a.length;b++){var c=a[b];this._isPending[c]?this._isHandled[c]?void 0:"production"!==d.env.NODE_ENV?f(!1,"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",c):f(!1):(this._callbacks[c]?void 0:"production"!==d.env.NODE_ENV?f(!1,"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",c):f(!1),this._invokeCallback(c))}},a.prototype.dispatch=function(a){this._isDispatching?"production"!==d.env.NODE_ENV?f(!1,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."):f(!1):void 0,this._startDispatching(a);try{for(var b in this._callbacks)this._isPending[b]||this._invokeCallback(b)}finally{this._stopDispatching()}},a.prototype.isDispatching=function(){return this._isDispatching},a.prototype._invokeCallback=function(a){this._isPending[a]=!0,this._callbacks[a](this._pendingPayload),this._isHandled[a]=!0},a.prototype._startDispatching=function(a){for(var b in this._callbacks)this._isPending[b]=!1,this._isHandled[b]=!1;this._pendingPayload=a,this._isDispatching=!0},a.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},a}();b.exports=h}).call(this,a("_process"))},{_process:12,"fbjs/lib/invariant":3}],6:[function(a,b,c){},{}],7:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-->0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],8:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],9:[function(a,b,c){c.markdown=a("./markdown"),c.parse=c.markdown.toHTML},{"./markdown":10}],10:[function(b,c,d){!function(c){function d(){return"Markdown.mk_block( "+uneval(this.toString())+", "+uneval(this.trailing)+", "+uneval(this.lineNumber)+" )"}function e(){var a=b("util");return"Markdown.mk_block( "+a.inspect(this.toString())+", "+a.inspect(this.trailing)+", "+a.inspect(this.lineNumber)+" )"}function f(a){for(var b=0,c=-1;-1!==(c=a.indexOf("\n",c+1));)b++;return b}function g(a,b){function c(a){this.len_after=a,this.name="close_"+b}var d=a+"_state",e="strong"==a?"em_state":"strong_state";return function(f,g){if(this[d][0]==b)return this[d].shift(),[f.length,new c(f.length-b.length)];var h=this[e].slice(),i=this[d].slice();this[d].unshift(b);var j=this.processInline(f.substr(b.length)),k=j[j.length-1];this[d].shift();if(k instanceof c){j.pop();var l=f.length-k.len_after;return[l,[a].concat(j)]}return this[e]=h,this[d]=i,[b.length,b]}}function h(a){for(var b=a.split(""),c=[""],d=!1;b.length;){var e=b.shift();switch(e){case" ":d?c[c.length-1]+=e:c.push("");break;case"'":case'"':d=!d;break;case"\\":e=b.shift();default:c[c.length-1]+=e}}return c}function i(a){return r(a)&&a.length>1&&"object"==typeof a[1]&&!r(a[1])?a[1]:void 0}function j(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function k(a){if("string"==typeof a)return j(a);var b=a.shift(),c={},d=[];for(!a.length||"object"!=typeof a[0]||a[0]instanceof Array||(c=a.shift());a.length;)d.push(arguments.callee(a.shift()));var e="";for(var f in c)e+=" "+f+'="'+j(c[f])+'"';return"img"==b||"br"==b||"hr"==b?"<"+b+e+"/>":"<"+b+e+">"+d.join("")+"</"+b+">"}function l(a,b,c){var d;c=c||{};var e=a.slice(0);"function"==typeof c.preprocessTreeNode&&(e=c.preprocessTreeNode(e,b));var f=i(e);if(f){e[1]={};for(d in f)e[1][d]=f[d];f=e[1]}if("string"==typeof e)return e;switch(e[0]){case"header":e[0]="h"+e[1].level,delete e[1].level;break;case"bulletlist":e[0]="ul";break;case"numberlist":e[0]="ol";break;case"listitem":e[0]="li";break;case"para":e[0]="p";break;case"markdown":e[0]="html",f&&delete f.references;break;case"code_block":e[0]="pre",d=f?2:1;var g=["code"];g.push.apply(g,e.splice(d)),e[d]=g;break;case"inlinecode":e[0]="code";break;case"img":e[1].src=e[1].href,delete e[1].href;break;case"linebreak":e[0]="br";break;case"link":e[0]="a";break;case"link_ref":e[0]="a";var h=b[f.ref];if(!h)return f.original;delete f.ref,f.href=h.href,h.title&&(f.title=h.title),delete f.original;break;case"img_ref":e[0]="img";var h=b[f.ref];if(!h)return f.original;delete f.ref,f.src=h.href,h.title&&(f.title=h.title),delete f.original}if(d=1,f){for(var j in e[1])d=2;1===d&&e.splice(d,1)}for(;d<e.length;++d)e[d]=arguments.callee(e[d],b,c);return e}function m(a){for(var b=i(a)?2:1;b<a.length;)"string"==typeof a[b]?b+1<a.length&&"string"==typeof a[b+1]?a[b]+=a.splice(b+1,1)[0]:++b:(arguments.callee(a[b]),++b)}var n=c.Markdown=function s(a){switch(typeof a){case"undefined":this.dialect=s.dialects.Gruber;break;case"object":this.dialect=a;break;default:if(!(a in s.dialects))throw new Error("Unknown Markdown dialect '"+String(a)+"'");this.dialect=s.dialects[a]}this.em_state=[],this.strong_state=[],this.debug_indent=""};c.parse=function(a,b){var c=new n(b);return c.toTree(a)},c.toHTML=function(a,b,d){var e=c.toHTMLTree(a,b,d);return c.renderJsonML(e)},c.toHTMLTree=function(a,b,c){"string"==typeof a&&(a=this.parse(a,b));var d=i(a),e={};d&&d.references&&(e=d.references);var f=l(a,e,c);return m(f),f};var o=n.mk_block=function(a,b,c){1==arguments.length&&(b="\n\n");var f=new String(a);return f.trailing=b,f.inspect=e,f.toSource=d,void 0!=c&&(f.lineNumber=c),f};n.prototype.split_blocks=function(a,b){var c,d=/([\s\S]+?)($|\n(?:\s*\n|$)+)/g,e=[],g=1;for(null!=(c=/^(\s*\n)/.exec(a))&&(g+=f(c[0]),d.lastIndex=c[0].length);null!==(c=d.exec(a));)e.push(o(c[1],c[2],g)),g+=f(c[0]);return e},n.prototype.processBlock=function(a,b){var c=this.dialect.block,d=c.__order__;if("__call__"in c)return c.__call__.call(this,a,b);for(var e=0;e<d.length;e++){var f=c[d[e]].call(this,a,b);if(f)return(!r(f)||f.length>0&&!r(f[0]))&&this.debug(d[e],"didn't return a proper array"),f}return[]},n.prototype.processInline=function(a){return this.dialect.inline.__call__.call(this,String(a))},n.prototype.toTree=function(a,b){var c=a instanceof Array?a:this.split_blocks(a),d=this.tree;try{for(this.tree=b||this.tree||["markdown"];c.length;){var e=this.processBlock(c.shift(),c);e.length&&this.tree.push.apply(this.tree,e)}return this.tree}finally{b&&(this.tree=d)}},n.prototype.debug=function(){var a=Array.prototype.slice.call(arguments);a.unshift(this.debug_indent),"undefined"!=typeof print&&print.apply(print,a),"undefined"!=typeof console&&"undefined"!=typeof console.log&&console.log.apply(null,a)},n.prototype.loop_re_over_block=function(a,b,c){for(var d,e=b.valueOf();e.length&&null!=(d=a.exec(e));)e=e.substr(d[0].length),c.call(this,d);return e},n.dialects={},n.dialects.Gruber={block:{atxHeader:function(a,b){var c=a.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/);if(!c)return void 0;var d=["header",{level:c[1].length}];return Array.prototype.push.apply(d,this.processInline(c[2])),c[0].length<a.length&&b.unshift(o(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[d]},setextHeader:function(a,b){var c=a.match(/^(.*)\n([-=])\2\2+(?:\n|$)/);if(!c)return void 0;var d="="===c[2]?1:2,e=["header",{level:d},c[1]];return c[0].length<a.length&&b.unshift(o(a.substr(c[0].length),a.trailing,a.lineNumber+2)),[e]},code:function(a,b){var c=[],d=/^(?: {0,3}\t| {4})(.*)\n?/;if(!a.match(d))return void 0;a:for(;;){var e=this.loop_re_over_block(d,a.valueOf(),function(a){c.push(a[1])});if(e.length){b.unshift(o(e,a.trailing));break a}if(!b.length)break a;if(!b[0].match(d))break a;c.push(a.trailing.replace(/[^\n]/g,"").substring(2)),a=b.shift()}return[["code_block",c.join("\n")]]},horizRule:function(a,b){var c=a.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/);if(!c)return void 0;var d=[["hr"]];return c[1]&&d.unshift.apply(d,this.processBlock(c[1],[])),c[3]&&b.unshift(o(c[3])),d},lists:function(){function a(a){return new RegExp("(?:^("+i+"{0,"+a+"} {0,3})("+f+")\\s+)|(^"+i+"{0,"+(a-1)+"}[ ]{0,4})")}function b(a){return a.replace(/ {0,3}\t/g,"    ")}function c(a,b,c,d){if(b)return void a.push(["para"].concat(c));var e=a[a.length-1]instanceof Array&&"para"==a[a.length-1][0]?a[a.length-1]:a;d&&a.length>1&&c.unshift(d);for(var f=0;f<c.length;f++){var g=c[f],h="string"==typeof g;h&&e.length>1&&"string"==typeof e[e.length-1]?e[e.length-1]+=g:e.push(g)}}function d(a,b){for(var c=new RegExp("^("+i+"{"+a+"}.*?\\n?)*$"),d=new RegExp("^"+i+"{"+a+"}","gm"),e=[];b.length>0;){if(c.exec(b[0])){var f=b.shift(),g=f.replace(d,"");e.push(o(g,f.trailing,f.lineNumber))}break}return e}function e(a,b,c){var d=a.list,e=d[d.length-1];if(!(e[1]instanceof Array&&"para"==e[1][0]))if(b+1==c.length)e.push(["para"].concat(e.splice(1)));else{var f=e.pop();e.push(["para"].concat(e.splice(1)),f)}}var f="[*+-]|\\d+\\.",g=/[*+-]/,h=new RegExp("^( {0,3})("+f+")[ 	]+"),i="(?: {0,3}\\t| {4})";return function(f,i){function j(a){var b=g.exec(a[2])?["bulletlist"]:["numberlist"];return n.push({list:b,indent:a[1]}),b}var k=f.match(h);if(!k)return void 0;for(var l,m,n=[],o=j(k),p=!1,r=[n[0].list];;){for(var s=f.split(/(?=\n)/),t="",u=0;u<s.length;u++){var v="",w=s[u].replace(/^\n/,function(a){return v=a,""}),x=a(n.length);if(k=w.match(x),void 0!==k[1]){t.length&&(c(l,p,this.processInline(t),v),p=!1,t=""),k[1]=b(k[1]);var y=Math.floor(k[1].length/4)+1;if(y>n.length)o=j(k),l.push(o),l=o[1]=["listitem"];else{var z=!1;for(m=0;m<n.length;m++)if(n[m].indent==k[1]){o=n[m].list,n.splice(m+1),z=!0;break}z||(y++,y<=n.length?(n.splice(y),o=n[y-1].list):(o=j(k),l.push(o))),l=["listitem"],o.push(l)}v=""}w.length>k[0].length&&(t+=v+w.substr(k[0].length))}t.length&&(c(l,p,this.processInline(t),v),p=!1,t="");var A=d(n.length,i);A.length>0&&(q(n,e,this),l.push.apply(l,this.toTree(A,[])));var B=i[0]&&i[0].valueOf()||"";if(!B.match(h)&&!B.match(/^ /))break;f=i.shift();var C=this.dialect.block.horizRule(f,i);if(C){r.push.apply(r,C);break}q(n,e,this),p=!0}return r}}(),blockquote:function(a,b){if(!a.match(/^>/m))return void 0;var c=[];if(">"!=a[0]){for(var d=a.split(/\n/),e=[];d.length&&">"!=d[0][0];)e.push(d.shift());a=d.join("\n"),c.push.apply(c,this.processBlock(e.join("\n"),[]))}for(;b.length&&">"==b[0][0];){var f=b.shift();a=new String(a+a.trailing+f),a.trailing=f.trailing}var g=a.replace(/^> ?/gm,"");this.tree;return c.push(this.toTree(g,["blockquote"])),c},referenceDefn:function(a,b){var c=/^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/;if(!a.match(c))return void 0;i(this.tree)||this.tree.splice(1,0,{});var d=i(this.tree);void 0===d.references&&(d.references={});var e=this.loop_re_over_block(c,a,function(a){a[2]&&"<"==a[2][0]&&">"==a[2][a[2].length-1]&&(a[2]=a[2].substring(1,a[2].length-1));var b=d.references[a[1].toLowerCase()]={href:a[2]};void 0!==a[4]?b.title=a[4]:void 0!==a[5]&&(b.title=a[5])});return e.length&&b.unshift(o(e,a.trailing)),[]},para:function(a,b){return[["para"].concat(this.processInline(a))]}}},n.dialects.Gruber.inline={__oneElement__:function(a,b,c){var d,e;b=b||this.dialect.inline.__patterns__;var f=new RegExp("([\\s\\S]*?)("+(b.source||b)+")");if(d=f.exec(a),!d)return[a.length,a];if(d[1])return[d[1].length,d[1]];var e;return d[2]in this.dialect.inline&&(e=this.dialect.inline[d[2]].call(this,a.substr(d.index),d,c||[])),e=e||[d[2].length,d[2]]},__call__:function(a,b){function c(a){"string"==typeof a&&"string"==typeof e[e.length-1]?e[e.length-1]+=a:e.push(a)}for(var d,e=[];a.length>0;)d=this.dialect.inline.__oneElement__.call(this,a,b,e),a=a.substr(d.shift()),q(d,c);return e},"]":function(){},"}":function(){},"\\":function(a){return a.match(/^\\[\\`\*_{}\[\]()#\+.!\-]/)?[2,a[1]]:[1,"\\"]},"![":function(a){var b=a.match(/^!\[(.*?)\][ \t]*\([ \t]*(\S*)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/);if(b){b[2]&&"<"==b[2][0]&&">"==b[2][b[2].length-1]&&(b[2]=b[2].substring(1,b[2].length-1)),b[2]=this.dialect.inline.__call__.call(this,b[2],/\\/)[0];var c={alt:b[1],href:b[2]||""};return void 0!==b[4]&&(c.title=b[4]),[b[0].length,["img",c]]}return b=a.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/),b?[b[0].length,["img_ref",{alt:b[1],ref:b[2].toLowerCase(),original:b[0]}]]:[2,"!["]},"[":function t(a){var b=String(a),c=n.DialectHelpers.inline_until_char.call(this,a.substr(1),"]");if(!c)return[1,"["];var t,d,e=1+c[0],f=c[1];a=a.substr(e);var g=a.match(/^\s*\([ \t]*(\S+)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/);if(g){var h=g[1];if(e+=g[0].length,h&&"<"==h[0]&&">"==h[h.length-1]&&(h=h.substring(1,h.length-1)),!g[3])for(var i=1,j=0;j<h.length;j++)switch(h[j]){case"(":i++;break;case")":0==--i&&(e-=h.length-j,h=h.substring(0,j))}return h=this.dialect.inline.__call__.call(this,h,/\\/)[0],d={href:h||""},void 0!==g[3]&&(d.title=g[3]),t=["link",d].concat(f),[e,t]}return g=a.match(/^\s*\[(.*?)\]/),g?(e+=g[0].length,d={ref:(g[1]||String(f)).toLowerCase(),original:b.substr(0,e)},t=["link_ref",d].concat(f),[e,t]):1==f.length&&"string"==typeof f[0]?(d={ref:f[0].toLowerCase(),original:b.substr(0,e)},t=["link_ref",d,f[0]],[e,t]):[1,"["]},"<":function(a){var b;return null!=(b=a.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/))?b[3]?[b[0].length,["link",{href:"mailto:"+b[3]},b[3]]]:"mailto"==b[2]?[b[0].length,["link",{href:b[1]},b[1].substr("mailto:".length)]]:[b[0].length,["link",{href:b[1]},b[1]]]:[1,"<"]},"`":function(a){var b=a.match(/(`+)(([\s\S]*?)\1)/);return b&&b[2]?[b[1].length+b[2].length,["inlinecode",b[3]]]:[1,"`"]},"  \n":function(a){return[3,["linebreak"]]}},n.dialects.Gruber.inline["**"]=g("strong","**"),n.dialects.Gruber.inline.__=g("strong","__"),n.dialects.Gruber.inline["*"]=g("em","*"),n.dialects.Gruber.inline._=g("em","_"),n.buildBlockOrder=function(a){var b=[];for(var c in a)"__order__"!=c&&"__call__"!=c&&b.push(c);a.__order__=b},n.buildInlinePatterns=function(a){var b=[];for(var c in a)if(!c.match(/^__.*__$/)){var d=c.replace(/([\\.*+?|()\[\]{}])/g,"\\$1").replace(/\n/,"\\n");b.push(1==c.length?d:"(?:"+d+")")}b=b.join("|"),a.__patterns__=b;var e=a.__call__;a.__call__=function(a,c){return void 0!=c?e.call(this,a,c):e.call(this,a,b)}},n.DialectHelpers={},n.DialectHelpers.inline_until_char=function(a,b){for(var c=0,d=[];;){if(a[c]==b)return c++,[c,d];if(c>=a.length)return null;res=this.dialect.inline.__oneElement__.call(this,a.substr(c)),c+=res[0],d.push.apply(d,res.slice(1))}},n.subclassDialect=function(a){function b(){}function c(){}return b.prototype=a.block,c.prototype=a.inline,{block:new b,inline:new c}},n.buildBlockOrder(n.dialects.Gruber.block),n.buildInlinePatterns(n.dialects.Gruber.inline),n.dialects.Maruku=n.subclassDialect(n.dialects.Gruber),n.dialects.Maruku.processMetaHash=function(a){for(var b=h(a),c={},d=0;d<b.length;++d)if(/^#/.test(b[d]))c.id=b[d].substring(1);else if(/^\./.test(b[d]))c["class"]?c["class"]=c["class"]+b[d].replace(/./," "):c["class"]=b[d].substring(1);else if(/\=/.test(b[d])){var e=b[d].split(/\=/);c[e[0]]=e[1]}return c},n.dialects.Maruku.block.document_meta=function(a,b){if(a.lineNumber>1)return void 0;if(!a.match(/^(?:\w+:.*\n)*\w+:.*$/))return void 0;i(this.tree)||this.tree.splice(1,0,{});var c=a.split(/\n/);for(p in c){var d=c[p].match(/(\w+):\s*(.*)$/),e=d[1].toLowerCase(),f=d[2];this.tree[1][e]=f}return[]},n.dialects.Maruku.block.block_meta=function(b,c){var d=b.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/);if(!d)return void 0;var e,f=this.dialect.processMetaHash(d[2]);if(""===d[1]){var g=this.tree[this.tree.length-1];if(e=i(g),"string"==typeof g)return void 0;e||(e={},g.splice(1,0,e));for(a in f)e[a]=f[a];return[]}var h=b.replace(/\n.*$/,""),j=this.processBlock(h,[]);e=i(j[0]),e||(e={},j[0].splice(1,0,e));for(a in f)e[a]=f[a];return j},n.dialects.Maruku.block.definition_list=function(a,b){var c,d=/^((?:[^\s:].*\n)+):\s+([\s\S]+)$/,e=["dl"];if(!(h=a.match(d)))return void 0;for(var f=[a];b.length&&d.exec(b[0]);)f.push(b.shift());for(var g=0;g<f.length;++g){var h=f[g].match(d),i=h[1].replace(/\n$/,"").split(/\n/),j=h[2].split(/\n:\s+/);for(c=0;c<i.length;++c)e.push(["dt",i[c]]);for(c=0;c<j.length;++c)e.push(["dd"].concat(this.processInline(j[c].replace(/(\n)\s+/,"$1"))))}return[e]},n.dialects.Maruku.inline["{:"]=function(a,b,c){if(!c.length)return[2,"{:"];var d=c[c.length-1];if("string"==typeof d)return[2,"{:"];var e=a.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/);if(!e)return[2,"{:"];var f=this.dialect.processMetaHash(e[1]),g=i(d);g||(g={},d.splice(1,0,g));for(var h in f)g[h]=f[h];return[e[0].length,""]},n.buildBlockOrder(n.dialects.Maruku.block),n.buildInlinePatterns(n.dialects.Maruku.inline);var q,r=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)};q=Array.prototype.forEach?function(a,b,c){return a.forEach(b,c)}:function(a,b,c){for(var d=0;d<a.length;d++)b.call(c||a,a[d],d,a)},c.renderJsonML=function(a,b){b=b||{},b.root=b.root||!1;var c=[];if(b.root)c.push(k(a));else for(a.shift(),!a.length||"object"!=typeof a[0]||a[0]instanceof Array||a.shift();a.length;)c.push(k(a.shift()));return c.join("\n\n")}}(function(){return"undefined"==typeof d?(window.markdown={},window.markdown):d}())},{util:171}],11:[function(a,b,c){"use strict";function d(a){if(null===a||void 0===a)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function e(){try{if(!Object.assign)return!1;var a=new String("abc");if(a[5]="de","5"===Object.getOwnPropertyNames(a)[0])return!1;for(var b={},c=0;10>c;c++)b["_"+String.fromCharCode(c)]=c;var d=Object.getOwnPropertyNames(b).map(function(a){return b[a]});if("0123456789"!==d.join(""))return!1;var e={};return"abcdefghijklmnopqrst".split("").forEach(function(a){e[a]=a}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},e)).join("")?!1:!0}catch(f){return!1}}var f=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;b.exports=e()?Object.assign:function(a,b){for(var c,e,i=d(a),j=1;j<arguments.length;j++){c=Object(arguments[j]);for(var k in c)g.call(c,k)&&(i[k]=c[k]);if(f){e=f(c);for(var l=0;l<e.length;l++)h.call(c,e[l])&&(i[e[l]]=c[e[l]])}}return i}},{}],12:[function(a,b,c){function d(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function f(a){if(l===setTimeout)return setTimeout(a,0);if((l===d||!l)&&setTimeout)return l=setTimeout,setTimeout(a,0);try{return l(a,0)}catch(b){try{return l.call(null,a,0)}catch(b){return l.call(this,a,0)}}}function g(a){if(m===clearTimeout)return clearTimeout(a);if((m===e||!m)&&clearTimeout)return m=clearTimeout,clearTimeout(a);try{return m(a)}catch(b){try{return m.call(null,a)}catch(b){return m.call(this,a)}}}function h(){q&&o&&(q=!1,o.length?p=o.concat(p):r=-1,p.length&&i())}function i(){if(!q){var a=f(h);q=!0;for(var b=p.length;b;){for(o=p,p=[];++r<b;)o&&o[r].run();r=-1,b=p.length}o=null,q=!1,g(a)}}function j(a,b){this.fun=a,this.array=b}function k(){}var l,m,n=b.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:d}catch(a){l=d}try{m="function"==typeof clearTimeout?clearTimeout:e}catch(a){m=e}}();var o,p=[],q=!1,r=-1;n.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];p.push(new j(a,b)),1!==p.length||q||f(i)},j.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=k,n.addListener=k,n.once=k,n.off=k,n.removeListener=k,n.removeAllListeners=k,n.emit=k,n.prependListener=k,n.prependOnceListener=k,n.listeners=function(a){return[]},n.binding=function(a){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(a){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],13:[function(a,b,c){(function(a){!function(a){if("function"==typeof bootstrap)bootstrap("promise",a);else if("object"==typeof c)a(void 0,c);else if("function"==typeof define)define(a);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=function(){var b={};return a(void 0,b)}}else a(void 0,Q={})}(function(b,c){"use strict";function d(a){return"[object StopIteration]"===sa(a)||a instanceof la}function e(a,b){b.stack&&"object"==typeof a&&null!==a&&a.stack&&-1===a.stack.indexOf(ta)&&(a.stack=f(a.stack)+"\n"+ta+"\n"+f(b.stack))}function f(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];h(e)||g(e)||c.push(e)}return c.join("\n")}function g(a){return-1!==a.indexOf("(module.js:")||-1!==a.indexOf("(node.js:")}function h(a){var b=/at .+ \((.*):(\d+):\d+\)/.exec(a);if(!b)return!1;var c=b[1],d=b[2];return c===ba&&d>=ca&&Aa>=d}function i(){if(Error.captureStackTrace){var a,b,c=Error.prepareStackTrace;return Error.prepareStackTrace=function(c,d){a=d[1].getFileName(),b=d[1].getLineNumber()},(new Error).stack,Error.prepareStackTrace=c,ba=a,b}}function j(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function k(){function a(a){c&&(b=v(a),na(c,function(a,c){fa(function(){b.promiseSend.apply(b,c)})},void 0),c=void 0,d=void 0)}var b,c=[],d=[],e=qa(k.prototype),f=qa(m.prototype);return f.promiseSend=function(a,e,f,g){var h=ma(arguments);c?(c.push(h),"when"===a&&g&&d.push(g)):fa(function(){b.promiseSend.apply(b,h)})},f.valueOf=function(){return c?f:b.valueOf()},Error.captureStackTrace&&(Error.captureStackTrace(f,k),f.stack=f.stack.substring(f.stack.indexOf("\n")+1)),ea(f),e.promise=f,e.resolve=a,e.reject=function(b){a(u(b))},e.notify=function(a){c&&na(d,function(b,c){fa(function(){c(a)})},void 0)},
e}function l(a){var b=k();return J(a,b.resolve,b.reject,b.notify).fail(b.reject),b.promise}function m(a,b,c,d){void 0===b&&(b=function(a){return u(new Error("Promise does not support operation: "+a))});var e=qa(m.prototype);return e.promiseSend=function(c,d){var f,g=ma(arguments,2);try{f=a[c]?a[c].apply(e,g):b.apply(e,[c].concat(g))}catch(h){f=u(h)}d&&d(f)},c&&(e.valueOf=c),d&&(e.exception=d),ea(e),e}function n(a){return o(a)?a.valueOf():a}function o(a){return a&&"function"==typeof a.promiseSend}function p(a){return a&&"function"==typeof a.then}function q(a){return r(a)||s(a)}function r(a){return!p(n(a))}function s(a){return a=n(a),o(a)&&"exception"in a}function t(){ua||"undefined"==typeof window||window.Touch||!window.console||console.log("Should be empty:",wa),ua=!0}function u(a){var b=m({when:function(b){if(b){var c=oa(va,this);-1!==c&&(wa.splice(c,1),va.splice(c,1))}return b?b(a):u(a)}},function(){return u(a)},function(){return this},a);return t(),va.push(b),wa.push(a),b}function v(a){if(o(a))return a;if(a=n(a),p(a)){var b=k();return a.then(b.resolve,b.reject,b.notify),b.promise}return m({when:function(){return a},get:function(b){return a[b]},put:function(b,c){return a[b]=c,a},del:function(b){return delete a[b],a},post:function(b,c){return a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},fapply:function(b){return a.apply(void 0,b)},viewInfo:function(){function b(a){d[a]||(d[a]=typeof c[a])}for(var c=a,d={};c;)Object.getOwnPropertyNames(c).forEach(b),c=Object.getPrototypeOf(c);return{type:typeof a,properties:d}},keys:function(){return ra(a)}},void 0,function(){return a})}function w(a){return m({isDef:function(){}},function(){var b=ma(arguments);return F.apply(void 0,[a].concat(b))},function(){return n(a)})}function x(a,b){return a=v(a),b?m({viewInfo:function(){return b}},function(){var b=ma(arguments);return F.apply(void 0,[a].concat(b))},function(){return n(a)}):F(a,"viewInfo")}function y(a){return x(a).when(function(b){var c;c="function"===b.type?function(){return ya(a,void 0,arguments)}:{};var d=b.properties||{};return ra(d).forEach(function(b){"function"===d[b]&&(c[b]=function(){return xa(a,b,arguments)})}),v(c)})}function z(a,b,c,d){function f(a){try{return"function"==typeof b?b(a):a}catch(c){return u(c)}}function g(a){if("function"==typeof c){e(a,l);try{return c(a)}catch(b){return u(b)}}return u(a)}function h(a){return"function"==typeof d?d(a):a}var i=k(),j=!1,l=v(a);return fa(function(){l.promiseSend("when",function(a){j||(j=!0,i.resolve(f(a)))},function(a){j||(j=!0,i.resolve(g(a)))})}),l.promiseSend("when",void 0,void 0,function(a){i.notify(h(a))}),i.promise}function A(a,b,c){return z(a,function(a){return M(a).then(function(a){return b.apply(void 0,a)},c)},c)}function B(a){return function(){function b(a,b){var g;try{g=c[a](b)}catch(h){return d(h)?h.value:u(h)}return z(g,e,f)}var c=a.apply(this,arguments),e=b.bind(b,"send"),f=b.bind(b,"throw");return e()}}function C(a){throw new la(a)}function D(a){return function(){return M([this,M(arguments)]).spread(function(b,c){return a.apply(b,c)})}}function E(a){return function(b){var c=ma(arguments,1);return F.apply(void 0,[b,a].concat(c))}}function F(a,b){var c=k(),d=ma(arguments,2);return a=v(a),fa(function(){a.promiseSend.apply(a,[b,c.resolve].concat(d))}),c.promise}function G(a,b,c){var d=k();return a=v(a),fa(function(){a.promiseSend.apply(a,[b,d.resolve].concat(c))}),d.promise}function H(a){return function(b){var c=ma(arguments,1);return G(b,a,c)}}function I(a,b){var c=ma(arguments,2);return ya(a,b,c)}function J(a){var b=ma(arguments,1);return za(a,b)}function K(a,b){var c=ma(arguments,2);return function(){var d=c.concat(ma(arguments));return ya(a,b,d)}}function L(a){var b=ma(arguments,1);return function(){var c=b.concat(ma(arguments));return za(a,c)}}function M(a){return z(a,function(a){var b=a.length;if(0===b)return v(a);var c=k();return na(a,function(d,e,f){r(e)?(a[f]=n(e),0===--b&&c.resolve(a)):z(e,function(d){a[f]=d,0===--b&&c.resolve(a)}).fail(c.reject)},void 0),c.promise})}function N(a){return z(a,function(a){return z(M(pa(a,function(a){return z(a,da,da)})),function(){return pa(a,v)})})}function O(a,b){return z(a,void 0,b)}function P(a,b){return z(a,void 0,void 0,b)}function Q(a,b){return z(a,function(a){return z(b(),function(){return a})},function(a){return z(b(),function(){return u(a)})})}function R(a,b,d,f){function g(b){fa(function(){if(e(b,a),!c.onerror)throw b;c.onerror(b)})}var h=b||d||f?z(a,b,d,f):a;O(h,g)}function S(a,b){var c=k(),d=setTimeout(function(){c.reject(new Error("Timed out after "+b+" ms"))},b);return z(a,function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)}),c.promise}function T(a,b){void 0===b&&(b=a,a=void 0);var c=k();return setTimeout(function(){c.resolve(a)},b),c.promise}function U(a,b){var c=ma(b),d=k();return c.push(d.makeNodeResolver()),za(a,c).fail(d.reject),d.promise}function V(a){var b=ma(arguments,1),c=k();return b.push(c.makeNodeResolver()),za(a,b).fail(c.reject),c.promise}function W(a){var b=ma(arguments,1);return function(){var c=b.concat(ma(arguments)),d=k();return c.push(d.makeNodeResolver()),za(a,c).fail(d.reject),d.promise}}function X(a,b,c){return Z(a,b).apply(void 0,c)}function Y(a,b){var c=ma(arguments,2);return X(a,b,c)}function Z(a){if(arguments.length>1){var b=arguments[1],c=ma(arguments,2),d=a;a=function(){var a=c.concat(ma(arguments));return d.apply(b,a)}}return function(){var b=k(),c=ma(arguments);return c.push(b.makeNodeResolver()),za(a,c).fail(b.reject),b.promise}}function $(a,b,c){var d=ma(c),e=k();return d.push(e.makeNodeResolver()),xa(a,b,d).fail(e.reject),e.promise}function _(a,b){var c=ma(arguments,2),d=k();return c.push(d.makeNodeResolver()),xa(a,b,c).fail(d.reject),d.promise}function aa(a,b){return b?void a.then(function(a){fa(function(){b(null,a)})},function(a){fa(function(){b(a)})}):a}var ba,ca=i(),da=function(){},ea=Object.freeze||da;"undefined"!=typeof cajaVM&&(ea=cajaVM.def);var fa;if("undefined"!=typeof a)fa=a.nextTick;else if("function"==typeof setImmediate)fa=setImmediate;else if("undefined"!=typeof MessageChannel){var ga=new MessageChannel,ha={},ia=ha;ga.port1.onmessage=function(){ha=ha.next;var a=ha.task;delete ha.task,a()},fa=function(a){ia=ia.next={task:a},ga.port2.postMessage(0)}}else fa=function(a){setTimeout(a,0)};var ja;if(Function.prototype.bind){var ka=Function.prototype.bind;ja=ka.bind(ka.call)}else ja=function(a){return function(){return a.call.apply(a,arguments)}};var la,ma=ja(Array.prototype.slice),na=ja(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;d>c;c++)c in this&&(b=a(b,this[c],c));return b}),oa=ja(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),pa=ja(Array.prototype.map||function(a,b){var c=this,d=[];return na(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),qa=Object.create||function(a){function b(){}return b.prototype=a,new b},ra=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b},sa=Object.prototype.toString;la="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var ta="From previous event:";c.nextTick=fa,c.defer=k,k.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(ma(arguments,1)):a.resolve(c)}},k.prototype.node=j(k.prototype.makeNodeResolver,"node","makeNodeResolver"),c.promise=l,c.makePromise=m,m.prototype.then=function(a,b,c){return z(this,a,b,c)},m.prototype.thenResolve=function(a){return z(this,function(){return a})},na(["isResolved","isFulfilled","isRejected","when","spread","send","get","put","del","post","invoke","keys","apply","call","bind","fapply","fcall","fbind","all","allResolved","view","viewInfo","timeout","delay","catch","finally","fail","fin","progress","end","done","nfcall","nfapply","nfbind","ncall","napply","nbind","npost","ninvoke","nend","nodeify"],function(a,b){m.prototype[b]=function(){return c[b].apply(c,[this].concat(ma(arguments)))}},void 0),m.prototype.toSource=function(){return this.toString()},m.prototype.toString=function(){return"[object Promise]"},ea(m.prototype),c.nearer=n,c.isPromise=o,c.isPromiseAlike=p,c.isResolved=q,c.isFulfilled=r,c.isRejected=s;var ua,va=[],wa=[];c.reject=u,c.begin=v,c.resolve=v,c.ref=j(v,"ref","resolve"),c.master=w,c.viewInfo=x,c.view=y,c.when=z,c.spread=A,c.async=B,c["return"]=C,c.promised=D,c.sender=j(E,"sender","dispatcher"),c.Method=j(E,"Method","dispatcher"),c.send=j(F,"send","dispatch"),c.dispatch=G,c.dispatcher=H,c.get=H("get"),c.put=H("put"),c["delete"]=c.del=H("del");var xa=c.post=H("post");c.invoke=function(a,b){var c=ma(arguments,2);return xa(a,b,c)};var ya=c.apply=j(H("apply"),"apply","fapply"),za=c.fapply=H("fapply");c.call=j(I,"call","fcall"),c["try"]=J,c.fcall=J,c.bind=j(K,"bind","fbind"),c.fbind=L,c.keys=H("keys"),c.all=M,c.allResolved=N,c["catch"]=c.fail=O,c.progress=P,c["finally"]=c.fin=Q,c.end=j(R,"end","done"),c.done=R,c.timeout=S,c.delay=T,c.nfapply=U,c.nfcall=V,c.nfbind=W,c.napply=j(X,"napply","npost"),c.ncall=j(Y,"ncall","ninvoke"),c.nbind=j(Z,"nbind","nfbind"),c.npost=$,c.ninvoke=_,c.nend=j(aa,"nend","nodeify"),c.nodeify=aa;var Aa=i()})}).call(this,a("_process"))},{_process:12}],14:[function(a,b,c){"use strict";var d=a("./focusNode"),e={componentDidMount:function(){this.props.autoFocus&&d(this.getDOMNode())}};b.exports=e},{"./focusNode":132}],15:[function(a,b,c){"use strict";function d(){var a=window.opera;return"object"==typeof a&&"function"==typeof a.version&&parseInt(a.version(),10)<=12}function e(a){return(a.ctrlKey||a.altKey||a.metaKey)&&!(a.ctrlKey&&a.altKey)}function f(a){switch(a){case C.topCompositionStart:return D.compositionStart;case C.topCompositionEnd:return D.compositionEnd;case C.topCompositionUpdate:return D.compositionUpdate}}function g(a,b){return a===C.topKeyDown&&b.keyCode===v}function h(a,b){switch(a){case C.topKeyUp:return-1!==u.indexOf(b.keyCode);case C.topKeyDown:return b.keyCode!==v;case C.topKeyPress:case C.topMouseDown:case C.topBlur:return!0;default:return!1}}function i(a){var b=a.detail;return"object"==typeof b&&"data"in b?b.data:null}function j(a,b,c,d){var e,j;if(w?e=f(a):F?h(a,d)&&(e=D.compositionEnd):g(a,d)&&(e=D.compositionStart),!e)return null;z&&(F||e!==D.compositionStart?e===D.compositionEnd&&F&&(j=F.getData()):F=q.getPooled(b));var k=r.getPooled(e,c,d);if(j)k.data=j;else{var l=i(d);null!==l&&(k.data=l)}return o.accumulateTwoPhaseDispatches(k),k}function k(a,b){switch(a){case C.topCompositionEnd:return i(b);case C.topKeyPress:var c=b.which;return c!==A?null:(E=!0,B);case C.topTextInput:var d=b.data;return d===B&&E?null:d;default:return null}}function l(a,b){if(F){if(a===C.topCompositionEnd||h(a,b)){var c=F.getData();return q.release(F),F=null,c}return null}switch(a){case C.topPaste:return null;case C.topKeyPress:return b.which&&!e(b)?String.fromCharCode(b.which):null;case C.topCompositionEnd:return z?null:b.data;default:return null}}function m(a,b,c,d){var e;if(e=y?k(a,d):l(a,d),!e)return null;var f=s.getPooled(D.beforeInput,c,d);return f.data=e,o.accumulateTwoPhaseDispatches(f),f}var n=a("./EventConstants"),o=a("./EventPropagators"),p=a("./ExecutionEnvironment"),q=a("./FallbackCompositionState"),r=a("./SyntheticCompositionEvent"),s=a("./SyntheticInputEvent"),t=a("./keyOf"),u=[9,13,27,32],v=229,w=p.canUseDOM&&"CompositionEvent"in window,x=null;p.canUseDOM&&"documentMode"in document&&(x=document.documentMode);var y=p.canUseDOM&&"TextEvent"in window&&!x&&!d(),z=p.canUseDOM&&(!w||x&&x>8&&11>=x),A=32,B=String.fromCharCode(A),C=n.topLevelTypes,D={beforeInput:{phasedRegistrationNames:{bubbled:t({onBeforeInput:null}),captured:t({onBeforeInputCapture:null})},dependencies:[C.topCompositionEnd,C.topKeyPress,C.topTextInput,C.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:t({onCompositionEnd:null}),captured:t({onCompositionEndCapture:null})},dependencies:[C.topBlur,C.topCompositionEnd,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:t({onCompositionStart:null}),captured:t({onCompositionStartCapture:null})},dependencies:[C.topBlur,C.topCompositionStart,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:t({onCompositionUpdate:null}),captured:t({onCompositionUpdateCapture:null})},dependencies:[C.topBlur,C.topCompositionUpdate,C.topKeyDown,C.topKeyPress,C.topKeyUp,C.topMouseDown]}},E=!1,F=null,G={eventTypes:D,extractEvents:function(a,b,c,d){return[j(a,b,c,d),m(a,b,c,d)]}};b.exports=G},{"./EventConstants":27,"./EventPropagators":32,"./ExecutionEnvironment":33,"./FallbackCompositionState":34,"./SyntheticCompositionEvent":106,"./SyntheticInputEvent":110,"./keyOf":154}],16:[function(a,b,c){"use strict";function d(a,b){return a+b.charAt(0).toUpperCase()+b.substring(1)}var e={boxFlex:!0,boxFlexGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},f=["Webkit","ms","Moz","O"];Object.keys(e).forEach(function(a){f.forEach(function(b){e[d(b,a)]=e[a]})});var g={background:{backgroundImage:!0,backgroundPosition:!0,backgroundRepeat:!0,backgroundColor:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0}},h={isUnitlessNumber:e,shorthandPropertyExpansions:g};b.exports=h},{}],17:[function(a,b,c){"use strict";var d=a("./CSSProperty"),e=a("./ExecutionEnvironment"),f=(a("./camelizeStyleName"),a("./dangerousStyleValue")),g=a("./hyphenateStyleName"),h=a("./memoizeStringOnly"),i=(a("./warning"),h(function(a){return g(a)})),j="cssFloat";e.canUseDOM&&void 0===document.documentElement.style.cssFloat&&(j="styleFloat");var k={createMarkupForStyles:function(a){var b="";for(var c in a)if(a.hasOwnProperty(c)){var d=a[c];null!=d&&(b+=i(c)+":",b+=f(c,d)+";")}return b||null},setValueForStyles:function(a,b){var c=a.style;for(var e in b)if(b.hasOwnProperty(e)){var g=f(e,b[e]);if("float"===e&&(e=j),g)c[e]=g;else{var h=d.shorthandPropertyExpansions[e];if(h)for(var i in h)c[i]="";else c[e]=""}}}};b.exports=k},{"./CSSProperty":16,"./ExecutionEnvironment":33,"./camelizeStyleName":121,"./dangerousStyleValue":126,"./hyphenateStyleName":146,"./memoizeStringOnly":156,"./warning":167}],18:[function(a,b,c){"use strict";function d(){this._callbacks=null,this._contexts=null}var e=a("./PooledClass"),f=a("./Object.assign"),g=a("./invariant");f(d.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(a),this._contexts.push(b)},notifyAll:function(){var a=this._callbacks,b=this._contexts;if(a){g(a.length===b.length),this._callbacks=null,this._contexts=null;for(var c=0,d=a.length;d>c;c++)a[c].call(b[c]);a.length=0,b.length=0}},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),e.addPoolingTo(d),b.exports=d},{"./Object.assign":39,"./PooledClass":40,"./invariant":148}],19:[function(a,b,c){"use strict";function d(a){return"SELECT"===a.nodeName||"INPUT"===a.nodeName&&"file"===a.type}function e(a){var b=x.getPooled(C.change,E,a);u.accumulateTwoPhaseDispatches(b),w.batchedUpdates(f,b)}function f(a){t.enqueueEvents(a),t.processEventQueue()}function g(a,b){D=a,E=b,D.attachEvent("onchange",e)}function h(){D&&(D.detachEvent("onchange",e),D=null,E=null)}function i(a,b,c){return a===B.topChange?c:void 0}function j(a,b,c){a===B.topFocus?(h(),g(b,c)):a===B.topBlur&&h()}function k(a,b){D=a,E=b,F=a.value,G=Object.getOwnPropertyDescriptor(a.constructor.prototype,"value"),Object.defineProperty(D,"value",J),D.attachEvent("onpropertychange",m)}function l(){D&&(delete D.value,D.detachEvent("onpropertychange",m),D=null,E=null,F=null,G=null)}function m(a){if("value"===a.propertyName){var b=a.srcElement.value;b!==F&&(F=b,e(a))}}function n(a,b,c){return a===B.topInput?c:void 0}function o(a,b,c){a===B.topFocus?(l(),k(b,c)):a===B.topBlur&&l()}function p(a,b,c){return a!==B.topSelectionChange&&a!==B.topKeyUp&&a!==B.topKeyDown||!D||D.value===F?void 0:(F=D.value,E)}function q(a){return"INPUT"===a.nodeName&&("checkbox"===a.type||"radio"===a.type)}function r(a,b,c){return a===B.topClick?c:void 0}var s=a("./EventConstants"),t=a("./EventPluginHub"),u=a("./EventPropagators"),v=a("./ExecutionEnvironment"),w=a("./ReactUpdates"),x=a("./SyntheticEvent"),y=a("./isEventSupported"),z=a("./isTextInputElement"),A=a("./keyOf"),B=s.topLevelTypes,C={change:{phasedRegistrationNames:{bubbled:A({onChange:null}),captured:A({onChangeCapture:null})},dependencies:[B.topBlur,B.topChange,B.topClick,B.topFocus,B.topInput,B.topKeyDown,B.topKeyUp,B.topSelectionChange]}},D=null,E=null,F=null,G=null,H=!1;v.canUseDOM&&(H=y("change")&&(!("documentMode"in document)||document.documentMode>8));var I=!1;v.canUseDOM&&(I=y("input")&&(!("documentMode"in document)||document.documentMode>9));var J={get:function(){return G.get.call(this)},set:function(a){F=""+a,G.set.call(this,a)}},K={eventTypes:C,extractEvents:function(a,b,c,e){var f,g;if(d(b)?H?f=i:g=j:z(b)?I?f=n:(f=p,g=o):q(b)&&(f=r),f){var h=f(a,b,c);if(h){var k=x.getPooled(C.change,h,e);return u.accumulateTwoPhaseDispatches(k),k}}g&&g(a,b,c)}};b.exports=K},{"./EventConstants":27,"./EventPluginHub":29,"./EventPropagators":32,"./ExecutionEnvironment":33,"./ReactUpdates":100,"./SyntheticEvent":108,"./isEventSupported":149,"./isTextInputElement":151,"./keyOf":154}],20:[function(a,b,c){"use strict";var d=0,e={createReactRootIndex:function(){return d++}};b.exports=e},{}],21:[function(a,b,c){"use strict";function d(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}var e=a("./Danger"),f=a("./ReactMultiChildUpdateTypes"),g=a("./setTextContent"),h=a("./invariant"),i={dangerouslyReplaceNodeWithMarkup:e.dangerouslyReplaceNodeWithMarkup,updateTextContent:g,processUpdates:function(a,b){for(var c,i=null,j=null,k=0;k<a.length;k++)if(c=a[k],c.type===f.MOVE_EXISTING||c.type===f.REMOVE_NODE){var l=c.fromIndex,m=c.parentNode.childNodes[l],n=c.parentID;h(m),i=i||{},i[n]=i[n]||[],i[n][l]=m,j=j||[],j.push(m)}var o=e.dangerouslyRenderMarkup(b);if(j)for(var p=0;p<j.length;p++)j[p].parentNode.removeChild(j[p]);for(var q=0;q<a.length;q++)switch(c=a[q],c.type){case f.INSERT_MARKUP:d(c.parentNode,o[c.markupIndex],c.toIndex);break;case f.MOVE_EXISTING:d(c.parentNode,i[c.parentID][c.fromIndex],c.toIndex);break;case f.TEXT_CONTENT:g(c.parentNode,c.textContent);break;case f.REMOVE_NODE:}}};b.exports=i},{"./Danger":24,"./ReactMultiChildUpdateTypes":85,"./invariant":148,"./setTextContent":162}],22:[function(a,b,c){"use strict";function d(a,b){return(a&b)===b}var e=a("./invariant"),f={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(a){var b=a.Properties||{},c=a.DOMAttributeNames||{},g=a.DOMPropertyNames||{},i=a.DOMMutationMethods||{};a.isCustomAttribute&&h._isCustomAttributeFunctions.push(a.isCustomAttribute);for(var j in b){e(!h.isStandardName.hasOwnProperty(j)),h.isStandardName[j]=!0;var k=j.toLowerCase();if(h.getPossibleStandardName[k]=j,c.hasOwnProperty(j)){var l=c[j];h.getPossibleStandardName[l]=j,h.getAttributeName[j]=l}else h.getAttributeName[j]=k;h.getPropertyName[j]=g.hasOwnProperty(j)?g[j]:j,i.hasOwnProperty(j)?h.getMutationMethod[j]=i[j]:h.getMutationMethod[j]=null;var m=b[j];h.mustUseAttribute[j]=d(m,f.MUST_USE_ATTRIBUTE),h.mustUseProperty[j]=d(m,f.MUST_USE_PROPERTY),h.hasSideEffects[j]=d(m,f.HAS_SIDE_EFFECTS),h.hasBooleanValue[j]=d(m,f.HAS_BOOLEAN_VALUE),h.hasNumericValue[j]=d(m,f.HAS_NUMERIC_VALUE),h.hasPositiveNumericValue[j]=d(m,f.HAS_POSITIVE_NUMERIC_VALUE),h.hasOverloadedBooleanValue[j]=d(m,f.HAS_OVERLOADED_BOOLEAN_VALUE),e(!h.mustUseAttribute[j]||!h.mustUseProperty[j]),e(h.mustUseProperty[j]||!h.hasSideEffects[j]),e(!!h.hasBooleanValue[j]+!!h.hasNumericValue[j]+!!h.hasOverloadedBooleanValue[j]<=1)}}},g={},h={ID_ATTRIBUTE_NAME:"data-reactid",isStandardName:{},getPossibleStandardName:{},getAttributeName:{},getPropertyName:{},getMutationMethod:{},mustUseAttribute:{},mustUseProperty:{},hasSideEffects:{},hasBooleanValue:{},hasNumericValue:{},hasPositiveNumericValue:{},hasOverloadedBooleanValue:{},_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var b=0;b<h._isCustomAttributeFunctions.length;b++){var c=h._isCustomAttributeFunctions[b];if(c(a))return!0}return!1},getDefaultValueForProperty:function(a,b){var c,d=g[a];return d||(g[a]=d={}),b in d||(c=document.createElement(a),d[b]=c[b]),d[b]},injection:f};b.exports=h},{"./invariant":148}],23:[function(a,b,c){"use strict";function d(a,b){return null==b||e.hasBooleanValue[a]&&!b||e.hasNumericValue[a]&&isNaN(b)||e.hasPositiveNumericValue[a]&&1>b||e.hasOverloadedBooleanValue[a]&&b===!1}var e=a("./DOMProperty"),f=a("./quoteAttributeValueForBrowser"),g=(a("./warning"),{createMarkupForID:function(a){return e.ID_ATTRIBUTE_NAME+"="+f(a)},createMarkupForProperty:function(a,b){if(e.isStandardName.hasOwnProperty(a)&&e.isStandardName[a]){if(d(a,b))return"";var c=e.getAttributeName[a];return e.hasBooleanValue[a]||e.hasOverloadedBooleanValue[a]&&b===!0?c:c+"="+f(b)}return e.isCustomAttribute(a)?null==b?"":a+"="+f(b):null},setValueForProperty:function(a,b,c){if(e.isStandardName.hasOwnProperty(b)&&e.isStandardName[b]){var f=e.getMutationMethod[b];if(f)f(a,c);else if(d(b,c))this.deleteValueForProperty(a,b);else if(e.mustUseAttribute[b])a.setAttribute(e.getAttributeName[b],""+c);else{var g=e.getPropertyName[b];e.hasSideEffects[b]&&""+a[g]==""+c||(a[g]=c)}}else e.isCustomAttribute(b)&&(null==c?a.removeAttribute(b):a.setAttribute(b,""+c))},deleteValueForProperty:function(a,b){if(e.isStandardName.hasOwnProperty(b)&&e.isStandardName[b]){var c=e.getMutationMethod[b];if(c)c(a,void 0);else if(e.mustUseAttribute[b])a.removeAttribute(e.getAttributeName[b]);else{var d=e.getPropertyName[b],f=e.getDefaultValueForProperty(a.nodeName,d);e.hasSideEffects[b]&&""+a[d]===f||(a[d]=f)}}else e.isCustomAttribute(b)&&a.removeAttribute(b)}});b.exports=g},{"./DOMProperty":22,"./quoteAttributeValueForBrowser":160,"./warning":167}],24:[function(a,b,c){"use strict";function d(a){return a.substring(1,a.indexOf(" "))}var e=a("./ExecutionEnvironment"),f=a("./createNodesFromMarkup"),g=a("./emptyFunction"),h=a("./getMarkupWrap"),i=a("./invariant"),j=/^(<[^ \/>]+)/,k="data-danger-index",l={dangerouslyRenderMarkup:function(a){i(e.canUseDOM);for(var b,c={},l=0;l<a.length;l++)i(a[l]),b=d(a[l]),b=h(b)?b:"*",c[b]=c[b]||[],c[b][l]=a[l];var m=[],n=0;for(b in c)if(c.hasOwnProperty(b)){var o,p=c[b];for(o in p)if(p.hasOwnProperty(o)){var q=p[o];p[o]=q.replace(j,"$1 "+k+'="'+o+'" ')}for(var r=f(p.join(""),g),s=0;s<r.length;++s){var t=r[s];t.hasAttribute&&t.hasAttribute(k)&&(o=+t.getAttribute(k),t.removeAttribute(k),i(!m.hasOwnProperty(o)),m[o]=t,n+=1)}}return i(n===m.length),i(m.length===a.length),m},dangerouslyReplaceNodeWithMarkup:function(a,b){i(e.canUseDOM),i(b),i("html"!==a.tagName.toLowerCase());var c=f(b,g)[0];a.parentNode.replaceChild(c,a)}};b.exports=l},{"./ExecutionEnvironment":33,"./createNodesFromMarkup":125,"./emptyFunction":127,"./getMarkupWrap":140,"./invariant":148}],25:[function(a,b,c){"use strict";var d=a("./keyOf"),e=[d({ResponderEventPlugin:null}),d({SimpleEventPlugin:null}),d({TapEventPlugin:null}),d({EnterLeaveEventPlugin:null}),d({ChangeEventPlugin:null}),d({SelectEventPlugin:null}),d({BeforeInputEventPlugin:null}),d({AnalyticsEventPlugin:null}),d({MobileSafariClickEventPlugin:null})];b.exports=e},{"./keyOf":154}],26:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./EventPropagators"),f=a("./SyntheticMouseEvent"),g=a("./ReactMount"),h=a("./keyOf"),i=d.topLevelTypes,j=g.getFirstReactDOM,k={mouseEnter:{registrationName:h({onMouseEnter:null}),dependencies:[i.topMouseOut,i.topMouseOver]},mouseLeave:{registrationName:h({onMouseLeave:null}),dependencies:[i.topMouseOut,i.topMouseOver]}},l=[null,null],m={eventTypes:k,extractEvents:function(a,b,c,d){if(a===i.topMouseOver&&(d.relatedTarget||d.fromElement))return null;if(a!==i.topMouseOut&&a!==i.topMouseOver)return null;var h;if(b.window===b)h=b;else{var m=b.ownerDocument;h=m?m.defaultView||m.parentWindow:window}var n,o;if(a===i.topMouseOut?(n=b,o=j(d.relatedTarget||d.toElement)||h):(n=h,o=b),n===o)return null;var p=n?g.getID(n):"",q=o?g.getID(o):"",r=f.getPooled(k.mouseLeave,p,d);r.type="mouseleave",r.target=n,r.relatedTarget=o;var s=f.getPooled(k.mouseEnter,q,d);return s.type="mouseenter",s.target=o,s.relatedTarget=n,e.accumulateEnterLeaveDispatches(r,s,p,q),l[0]=r,l[1]=s,l}};b.exports=m},{"./EventConstants":27,"./EventPropagators":32,"./ReactMount":83,"./SyntheticMouseEvent":112,"./keyOf":154}],27:[function(a,b,c){"use strict";var d=a("./keyMirror"),e=d({bubbled:null,captured:null}),f=d({topBlur:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topReset:null,topScroll:null,topSelectionChange:null,topSubmit:null,topTextInput:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topWheel:null}),g={topLevelTypes:f,PropagationPhases:e};b.exports=g},{"./keyMirror":153}],28:[function(a,b,c){var d=a("./emptyFunction"),e={listen:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!1),{remove:function(){a.removeEventListener(b,c,!1)}}):a.attachEvent?(a.attachEvent("on"+b,c),{remove:function(){a.detachEvent("on"+b,c)}}):void 0},capture:function(a,b,c){return a.addEventListener?(a.addEventListener(b,c,!0),{remove:function(){a.removeEventListener(b,c,!0)}}):{remove:d}},registerDefault:function(){}};b.exports=e},{"./emptyFunction":127}],29:[function(a,b,c){"use strict";var d=a("./EventPluginRegistry"),e=a("./EventPluginUtils"),f=a("./accumulateInto"),g=a("./forEachAccumulated"),h=a("./invariant"),i={},j=null,k=function(a){if(a){var b=e.executeDispatch,c=d.getPluginModuleForEvent(a);c&&c.executeDispatch&&(b=c.executeDispatch),e.executeDispatchesInOrder(a,b),a.isPersistent()||a.constructor.release(a)}},l=null,m={injection:{injectMount:e.injection.injectMount,injectInstanceHandle:function(a){l=a},getInstanceHandle:function(){return l},injectEventPluginOrder:d.injectEventPluginOrder,injectEventPluginsByName:d.injectEventPluginsByName},eventNameDispatchConfigs:d.eventNameDispatchConfigs,registrationNameModules:d.registrationNameModules,putListener:function(a,b,c){h(!c||"function"==typeof c);var d=i[b]||(i[b]={});d[a]=c},getListener:function(a,b){var c=i[b];return c&&c[a]},deleteListener:function(a,b){var c=i[b];c&&delete c[a]},deleteAllListeners:function(a){for(var b in i)delete i[b][a]},extractEvents:function(a,b,c,e){for(var g,h=d.plugins,i=0,j=h.length;j>i;i++){var k=h[i];if(k){var l=k.extractEvents(a,b,c,e);l&&(g=f(g,l))}}return g},enqueueEvents:function(a){a&&(j=f(j,a))},processEventQueue:function(){var a=j;j=null,g(a,k),h(!j)},__purge:function(){i={}},__getListenerBank:function(){return i}};b.exports=m},{"./EventPluginRegistry":30,"./EventPluginUtils":31,"./accumulateInto":118,"./forEachAccumulated":133,"./invariant":148}],30:[function(a,b,c){"use strict";function d(){if(h)for(var a in i){var b=i[a],c=h.indexOf(a);if(g(c>-1),!j.plugins[c]){g(b.extractEvents),j.plugins[c]=b;var d=b.eventTypes;for(var f in d)g(e(d[f],b,f))}}}function e(a,b,c){g(!j.eventNameDispatchConfigs.hasOwnProperty(c)),j.eventNameDispatchConfigs[c]=a;var d=a.phasedRegistrationNames;if(d){for(var e in d)if(d.hasOwnProperty(e)){var h=d[e];f(h,b,c)}return!0}return a.registrationName?(f(a.registrationName,b,c),!0):!1}function f(a,b,c){g(!j.registrationNameModules[a]),j.registrationNameModules[a]=b,j.registrationNameDependencies[a]=b.eventTypes[c].dependencies}var g=a("./invariant"),h=null,i={},j={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(a){g(!h),h=Array.prototype.slice.call(a),d()},injectEventPluginsByName:function(a){var b=!1;for(var c in a)if(a.hasOwnProperty(c)){var e=a[c];i.hasOwnProperty(c)&&i[c]===e||(g(!i[c]),i[c]=e,b=!0)}b&&d()},getPluginModuleForEvent:function(a){var b=a.dispatchConfig;if(b.registrationName)return j.registrationNameModules[b.registrationName]||null;for(var c in b.phasedRegistrationNames)if(b.phasedRegistrationNames.hasOwnProperty(c)){var d=j.registrationNameModules[b.phasedRegistrationNames[c]];if(d)return d}return null},_resetEventPlugins:function(){h=null;for(var a in i)i.hasOwnProperty(a)&&delete i[a];j.plugins.length=0;var b=j.eventNameDispatchConfigs;for(var c in b)b.hasOwnProperty(c)&&delete b[c];var d=j.registrationNameModules;for(var e in d)d.hasOwnProperty(e)&&delete d[e]}};b.exports=j},{"./invariant":148}],31:[function(a,b,c){"use strict";function d(a){return a===q.topMouseUp||a===q.topTouchEnd||a===q.topTouchCancel}function e(a){return a===q.topMouseMove||a===q.topTouchMove}function f(a){return a===q.topMouseDown||a===q.topTouchStart}function g(a,b){var c=a._dispatchListeners,d=a._dispatchIDs;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++)b(a,c[e],d[e]);else c&&b(a,c,d)}function h(a,b,c){a.currentTarget=p.Mount.getNode(c);var d=b(a,c);return a.currentTarget=null,d}function i(a,b){g(a,b),a._dispatchListeners=null,a._dispatchIDs=null}function j(a){var b=a._dispatchListeners,c=a._dispatchIDs;if(Array.isArray(b)){for(var d=0;d<b.length&&!a.isPropagationStopped();d++)if(b[d](a,c[d]))return c[d]}else if(b&&b(a,c))return c;return null}function k(a){var b=j(a);return a._dispatchIDs=null,a._dispatchListeners=null,b}function l(a){var b=a._dispatchListeners,c=a._dispatchIDs;o(!Array.isArray(b));var d=b?b(a,c):null;return a._dispatchListeners=null,a._dispatchIDs=null,d}function m(a){return!!a._dispatchListeners}var n=a("./EventConstants"),o=a("./invariant"),p={Mount:null,injectMount:function(a){p.Mount=a}},q=n.topLevelTypes,r={isEndish:d,isMoveish:e,isStartish:f,executeDirectDispatch:l,executeDispatch:h,executeDispatchesInOrder:i,executeDispatchesInOrderStopAtTrue:k,hasDispatches:m,injection:p,useTouchEvents:!1};b.exports=r},{"./EventConstants":27,"./invariant":148}],32:[function(a,b,c){"use strict";function d(a,b,c){var d=b.dispatchConfig.phasedRegistrationNames[c];return q(a,d)}function e(a,b,c){var e=b?p.bubbled:p.captured,f=d(a,c,e);f&&(c._dispatchListeners=n(c._dispatchListeners,f),c._dispatchIDs=n(c._dispatchIDs,a))}function f(a){a&&a.dispatchConfig.phasedRegistrationNames&&m.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,e,a)}function g(a,b,c){if(c&&c.dispatchConfig.registrationName){var d=c.dispatchConfig.registrationName,e=q(a,d);e&&(c._dispatchListeners=n(c._dispatchListeners,e),c._dispatchIDs=n(c._dispatchIDs,a))}}function h(a){a&&a.dispatchConfig.registrationName&&g(a.dispatchMarker,null,a)}function i(a){o(a,f)}function j(a,b,c,d){m.injection.getInstanceHandle().traverseEnterLeave(c,d,g,a,b)}function k(a){o(a,h)}var l=a("./EventConstants"),m=a("./EventPluginHub"),n=a("./accumulateInto"),o=a("./forEachAccumulated"),p=l.PropagationPhases,q=m.getListener,r={accumulateTwoPhaseDispatches:i,accumulateDirectDispatches:k,accumulateEnterLeaveDispatches:j};b.exports=r},{"./EventConstants":27,
"./EventPluginHub":29,"./accumulateInto":118,"./forEachAccumulated":133}],33:[function(a,b,c){"use strict";var d=!("undefined"==typeof window||!window.document||!window.document.createElement),e={canUseDOM:d,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:d&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:d&&!!window.screen,isInWorker:!d};b.exports=e},{}],34:[function(a,b,c){"use strict";function d(a){this._root=a,this._startText=this.getText(),this._fallbackText=null}var e=a("./PooledClass"),f=a("./Object.assign"),g=a("./getTextContentAccessor");f(d.prototype,{getText:function(){return"value"in this._root?this._root.value:this._root[g()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b,c=this._startText,d=c.length,e=this.getText(),f=e.length;for(a=0;d>a&&c[a]===e[a];a++);var g=d-a;for(b=1;g>=b&&c[d-b]===e[f-b];b++);var h=b>1?1-b:void 0;return this._fallbackText=e.slice(a,h),this._fallbackText}}),e.addPoolingTo(d),b.exports=d},{"./Object.assign":39,"./PooledClass":40,"./getTextContentAccessor":143}],35:[function(a,b,c){"use strict";var d,e=a("./DOMProperty"),f=a("./ExecutionEnvironment"),g=e.injection.MUST_USE_ATTRIBUTE,h=e.injection.MUST_USE_PROPERTY,i=e.injection.HAS_BOOLEAN_VALUE,j=e.injection.HAS_SIDE_EFFECTS,k=e.injection.HAS_NUMERIC_VALUE,l=e.injection.HAS_POSITIVE_NUMERIC_VALUE,m=e.injection.HAS_OVERLOADED_BOOLEAN_VALUE;if(f.canUseDOM){var n=document.implementation;d=n&&n.hasFeature&&n.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}var o={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:g|i,allowTransparency:g,alt:null,async:i,autoComplete:null,autoPlay:i,cellPadding:null,cellSpacing:null,charSet:g,checked:h|i,classID:g,className:d?g:h,cols:g|l,colSpan:null,content:null,contentEditable:null,contextMenu:g,controls:h|i,coords:null,crossOrigin:null,data:null,dateTime:g,defer:i,dir:null,disabled:g|i,download:m,draggable:null,encType:null,form:g,formAction:g,formEncType:g,formMethod:g,formNoValidate:i,formTarget:g,frameBorder:g,headers:null,height:g,hidden:g|i,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:h,label:null,lang:null,list:g,loop:h|i,low:null,manifest:g,marginHeight:null,marginWidth:null,max:null,maxLength:g,media:g,mediaGroup:null,method:null,min:null,multiple:h|i,muted:h|i,name:null,noValidate:i,open:i,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:h|i,rel:null,required:i,role:g,rows:g|l,rowSpan:null,sandbox:null,scope:null,scoped:i,scrolling:null,seamless:g|i,selected:h|i,shape:null,size:g|l,sizes:g,span:l,spellCheck:null,src:null,srcDoc:h,srcSet:g,start:k,step:null,style:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:h|j,width:g,wmode:g,autoCapitalize:null,autoCorrect:null,itemProp:g,itemScope:g|i,itemType:g,itemID:g,itemRef:g,property:null,unselectable:g},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoCapitalize:"autocapitalize",autoComplete:"autocomplete",autoCorrect:"autocorrect",autoFocus:"autofocus",autoPlay:"autoplay",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};b.exports=o},{"./DOMProperty":22,"./ExecutionEnvironment":33}],36:[function(a,b,c){"use strict";function d(a){j(null==a.props.checkedLink||null==a.props.valueLink)}function e(a){d(a),j(null==a.props.value&&null==a.props.onChange)}function f(a){d(a),j(null==a.props.checked&&null==a.props.onChange)}function g(a){this.props.valueLink.requestChange(a.target.value)}function h(a){this.props.checkedLink.requestChange(a.target.checked)}var i=a("./ReactPropTypes"),j=a("./invariant"),k={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},l={Mixin:{propTypes:{value:function(a,b,c){return!a[b]||k[a.type]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(a,b,c){return!a[b]||a.onChange||a.readOnly||a.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:i.func}},getValue:function(a){return a.props.valueLink?(e(a),a.props.valueLink.value):a.props.value},getChecked:function(a){return a.props.checkedLink?(f(a),a.props.checkedLink.value):a.props.checked},getOnChange:function(a){return a.props.valueLink?(e(a),g):a.props.checkedLink?(f(a),h):a.props.onChange}};b.exports=l},{"./ReactPropTypes":91,"./invariant":148}],37:[function(a,b,c){"use strict";function d(a){a.remove()}var e=a("./ReactBrowserEventEmitter"),f=a("./accumulateInto"),g=a("./forEachAccumulated"),h=a("./invariant"),i={trapBubbledEvent:function(a,b){h(this.isMounted());var c=this.getDOMNode();h(c);var d=e.trapBubbledEvent(a,b,c);this._localEventListeners=f(this._localEventListeners,d)},componentWillUnmount:function(){this._localEventListeners&&g(this._localEventListeners,d)}};b.exports=i},{"./ReactBrowserEventEmitter":43,"./accumulateInto":118,"./forEachAccumulated":133,"./invariant":148}],38:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./emptyFunction"),f=d.topLevelTypes,g={eventTypes:null,extractEvents:function(a,b,c,d){if(a===f.topTouchStart){var g=d.target;g&&!g.onclick&&(g.onclick=e)}}};b.exports=g},{"./EventConstants":27,"./emptyFunction":127}],39:[function(a,b,c){"use strict";function d(a,b){if(null==a)throw new TypeError("Object.assign target cannot be null or undefined");for(var c=Object(a),d=Object.prototype.hasOwnProperty,e=1;e<arguments.length;e++){var f=arguments[e];if(null!=f){var g=Object(f);for(var h in g)d.call(g,h)&&(c[h]=g[h])}}return c}b.exports=d},{}],40:[function(a,b,c){"use strict";var d=a("./invariant"),e=function(a){var b=this;if(b.instancePool.length){var c=b.instancePool.pop();return b.call(c,a),c}return new b(a)},f=function(a,b){var c=this;if(c.instancePool.length){var d=c.instancePool.pop();return c.call(d,a,b),d}return new c(a,b)},g=function(a,b,c){var d=this;if(d.instancePool.length){var e=d.instancePool.pop();return d.call(e,a,b,c),e}return new d(a,b,c)},h=function(a,b,c,d,e){var f=this;if(f.instancePool.length){var g=f.instancePool.pop();return f.call(g,a,b,c,d,e),g}return new f(a,b,c,d,e)},i=function(a){var b=this;d(a instanceof b),a.destructor&&a.destructor(),b.instancePool.length<b.poolSize&&b.instancePool.push(a)},j=10,k=e,l=function(a,b){var c=a;return c.instancePool=[],c.getPooled=b||k,c.poolSize||(c.poolSize=j),c.release=i,c},m={addPoolingTo:l,oneArgumentPooler:e,twoArgumentPooler:f,threeArgumentPooler:g,fiveArgumentPooler:h};b.exports=m},{"./invariant":148}],41:[function(a,b,c){"use strict";var d=a("./EventPluginUtils"),e=a("./ReactChildren"),f=a("./ReactComponent"),g=a("./ReactClass"),h=a("./ReactContext"),i=a("./ReactCurrentOwner"),j=a("./ReactElement"),k=(a("./ReactElementValidator"),a("./ReactDOM")),l=a("./ReactDOMTextComponent"),m=a("./ReactDefaultInjection"),n=a("./ReactInstanceHandles"),o=a("./ReactMount"),p=a("./ReactPerf"),q=a("./ReactPropTypes"),r=a("./ReactReconciler"),s=a("./ReactServerRendering"),t=a("./Object.assign"),u=a("./findDOMNode"),v=a("./onlyChild");m.inject();var w=j.createElement,x=j.createFactory,y=j.cloneElement,z=p.measure("React","render",o.render),A={Children:{map:e.map,forEach:e.forEach,count:e.count,only:v},Component:f,DOM:k,PropTypes:q,initializeTouchEvents:function(a){d.useTouchEvents=a},createClass:g.createClass,createElement:w,cloneElement:y,createFactory:x,createMixin:function(a){return a},constructAndRenderComponent:o.constructAndRenderComponent,constructAndRenderComponentByID:o.constructAndRenderComponentByID,findDOMNode:u,render:z,renderToString:s.renderToString,renderToStaticMarkup:s.renderToStaticMarkup,unmountComponentAtNode:o.unmountComponentAtNode,isValidElement:j.isValidElement,withContext:h.withContext,__spread:t};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:i,InstanceHandles:n,Mount:o,Reconciler:r,TextComponent:l});A.version="0.13.3",b.exports=A},{"./EventPluginUtils":31,"./ExecutionEnvironment":33,"./Object.assign":39,"./ReactChildren":45,"./ReactClass":46,"./ReactComponent":47,"./ReactContext":51,"./ReactCurrentOwner":52,"./ReactDOM":53,"./ReactDOMTextComponent":64,"./ReactDefaultInjection":67,"./ReactElement":70,"./ReactElementValidator":71,"./ReactInstanceHandles":79,"./ReactMount":83,"./ReactPerf":88,"./ReactPropTypes":91,"./ReactReconciler":94,"./ReactServerRendering":97,"./findDOMNode":130,"./onlyChild":157}],42:[function(a,b,c){"use strict";var d=a("./findDOMNode"),e={getDOMNode:function(){return d(this)}};b.exports=e},{"./findDOMNode":130}],43:[function(a,b,c){"use strict";function d(a){return Object.prototype.hasOwnProperty.call(a,p)||(a[p]=n++,l[a[p]]={}),l[a[p]]}var e=a("./EventConstants"),f=a("./EventPluginHub"),g=a("./EventPluginRegistry"),h=a("./ReactEventEmitterMixin"),i=a("./ViewportMetrics"),j=a("./Object.assign"),k=a("./isEventSupported"),l={},m=!1,n=0,o={topBlur:"blur",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topScroll:"scroll",topSelectionChange:"selectionchange",topTextInput:"textInput",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topWheel:"wheel"},p="_reactListenersID"+String(Math.random()).slice(2),q=j({},h,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(q.handleTopLevel),q.ReactEventListener=a}},setEnabled:function(a){q.ReactEventListener&&q.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!q.ReactEventListener||!q.ReactEventListener.isEnabled())},listenTo:function(a,b){for(var c=b,f=d(c),h=g.registrationNameDependencies[a],i=e.topLevelTypes,j=0,l=h.length;l>j;j++){var m=h[j];f.hasOwnProperty(m)&&f[m]||(m===i.topWheel?k("wheel")?q.ReactEventListener.trapBubbledEvent(i.topWheel,"wheel",c):k("mousewheel")?q.ReactEventListener.trapBubbledEvent(i.topWheel,"mousewheel",c):q.ReactEventListener.trapBubbledEvent(i.topWheel,"DOMMouseScroll",c):m===i.topScroll?k("scroll",!0)?q.ReactEventListener.trapCapturedEvent(i.topScroll,"scroll",c):q.ReactEventListener.trapBubbledEvent(i.topScroll,"scroll",q.ReactEventListener.WINDOW_HANDLE):m===i.topFocus||m===i.topBlur?(k("focus",!0)?(q.ReactEventListener.trapCapturedEvent(i.topFocus,"focus",c),q.ReactEventListener.trapCapturedEvent(i.topBlur,"blur",c)):k("focusin")&&(q.ReactEventListener.trapBubbledEvent(i.topFocus,"focusin",c),q.ReactEventListener.trapBubbledEvent(i.topBlur,"focusout",c)),f[i.topBlur]=!0,f[i.topFocus]=!0):o.hasOwnProperty(m)&&q.ReactEventListener.trapBubbledEvent(m,o[m],c),f[m]=!0)}},trapBubbledEvent:function(a,b,c){return q.ReactEventListener.trapBubbledEvent(a,b,c)},trapCapturedEvent:function(a,b,c){return q.ReactEventListener.trapCapturedEvent(a,b,c)},ensureScrollValueMonitoring:function(){if(!m){var a=i.refreshScrollValues;q.ReactEventListener.monitorScrollValue(a),m=!0}},eventNameDispatchConfigs:f.eventNameDispatchConfigs,registrationNameModules:f.registrationNameModules,putListener:f.putListener,getListener:f.getListener,deleteListener:f.deleteListener,deleteAllListeners:f.deleteAllListeners});b.exports=q},{"./EventConstants":27,"./EventPluginHub":29,"./EventPluginRegistry":30,"./Object.assign":39,"./ReactEventEmitterMixin":74,"./ViewportMetrics":117,"./isEventSupported":149}],44:[function(a,b,c){"use strict";var d=a("./ReactReconciler"),e=a("./flattenChildren"),f=a("./instantiateReactComponent"),g=a("./shouldUpdateReactComponent"),h={instantiateChildren:function(a,b,c){var d=e(a);for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=f(h,null);d[g]=i}return d},updateChildren:function(a,b,c,h){var i=e(b);if(!i&&!a)return null;var j;for(j in i)if(i.hasOwnProperty(j)){var k=a&&a[j],l=k&&k._currentElement,m=i[j];if(g(l,m))d.receiveComponent(k,m,c,h),i[j]=k;else{k&&d.unmountComponent(k,j);var n=f(m,null);i[j]=n}}for(j in a)!a.hasOwnProperty(j)||i&&i.hasOwnProperty(j)||d.unmountComponent(a[j]);return i},unmountChildren:function(a){for(var b in a){var c=a[b];d.unmountComponent(c)}}};b.exports=h},{"./ReactReconciler":94,"./flattenChildren":131,"./instantiateReactComponent":147,"./shouldUpdateReactComponent":164}],45:[function(a,b,c){"use strict";function d(a,b){this.forEachFunction=a,this.forEachContext=b}function e(a,b,c,d){var e=a;e.forEachFunction.call(e.forEachContext,b,d)}function f(a,b,c){if(null==a)return a;var f=d.getPooled(b,c);n(a,e,f),d.release(f)}function g(a,b,c){this.mapResult=a,this.mapFunction=b,this.mapContext=c}function h(a,b,c,d){var e=a,f=e.mapResult,g=!f.hasOwnProperty(c);if(g){var h=e.mapFunction.call(e.mapContext,b,d);f[c]=h}}function i(a,b,c){if(null==a)return a;var d={},e=g.getPooled(d,b,c);return n(a,h,e),g.release(e),m.create(d)}function j(a,b,c,d){return null}function k(a,b){return n(a,j,null)}var l=a("./PooledClass"),m=a("./ReactFragment"),n=a("./traverseAllChildren"),o=(a("./warning"),l.twoArgumentPooler),p=l.threeArgumentPooler;l.addPoolingTo(d,o),l.addPoolingTo(g,p);var q={forEach:f,map:i,count:k};b.exports=q},{"./PooledClass":40,"./ReactFragment":76,"./traverseAllChildren":166,"./warning":167}],46:[function(a,b,c){"use strict";function d(a,b){var c=y.hasOwnProperty(b)?y[b]:null;A.hasOwnProperty(b)&&s(c===w.OVERRIDE_BASE),a.hasOwnProperty(b)&&s(c===w.DEFINE_MANY||c===w.DEFINE_MANY_MERGED)}function e(a,b){if(b){s("function"!=typeof b),s(!m.isValidElement(b));var c=a.prototype;b.hasOwnProperty(v)&&z.mixins(a,b.mixins);for(var e in b)if(b.hasOwnProperty(e)&&e!==v){var f=b[e];if(d(c,e),z.hasOwnProperty(e))z[e](a,f);else{var g=y.hasOwnProperty(e),j=c.hasOwnProperty(e),k=f&&f.__reactDontBind,l="function"==typeof f,n=l&&!g&&!j&&!k;if(n)c.__reactAutoBindMap||(c.__reactAutoBindMap={}),c.__reactAutoBindMap[e]=f,c[e]=f;else if(j){var o=y[e];s(g&&(o===w.DEFINE_MANY_MERGED||o===w.DEFINE_MANY)),o===w.DEFINE_MANY_MERGED?c[e]=h(c[e],f):o===w.DEFINE_MANY&&(c[e]=i(c[e],f))}else c[e]=f}}}}function f(a,b){if(b)for(var c in b){var d=b[c];if(b.hasOwnProperty(c)){var e=c in z;s(!e);var f=c in a;s(!f),a[c]=d}}}function g(a,b){s(a&&b&&"object"==typeof a&&"object"==typeof b);for(var c in b)b.hasOwnProperty(c)&&(s(void 0===a[c]),a[c]=b[c]);return a}function h(a,b){return function(){var c=a.apply(this,arguments),d=b.apply(this,arguments);if(null==c)return d;if(null==d)return c;var e={};return g(e,c),g(e,d),e}}function i(a,b){return function(){a.apply(this,arguments),b.apply(this,arguments)}}function j(a,b){var c=b.bind(a);return c}function k(a){for(var b in a.__reactAutoBindMap)if(a.__reactAutoBindMap.hasOwnProperty(b)){var c=a.__reactAutoBindMap[b];a[b]=j(a,n.guard(c,a.constructor.displayName+"."+b))}}var l=a("./ReactComponent"),m=(a("./ReactCurrentOwner"),a("./ReactElement")),n=a("./ReactErrorUtils"),o=a("./ReactInstanceMap"),p=a("./ReactLifeCycle"),q=(a("./ReactPropTypeLocations"),a("./ReactPropTypeLocationNames"),a("./ReactUpdateQueue")),r=a("./Object.assign"),s=a("./invariant"),t=a("./keyMirror"),u=a("./keyOf"),v=(a("./warning"),u({mixins:null})),w=t({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),x=[],y={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},z={displayName:function(a,b){a.displayName=b},mixins:function(a,b){if(b)for(var c=0;c<b.length;c++)e(a,b[c])},childContextTypes:function(a,b){a.childContextTypes=r({},a.childContextTypes,b)},contextTypes:function(a,b){a.contextTypes=r({},a.contextTypes,b)},getDefaultProps:function(a,b){a.getDefaultProps?a.getDefaultProps=h(a.getDefaultProps,b):a.getDefaultProps=b},propTypes:function(a,b){a.propTypes=r({},a.propTypes,b)},statics:function(a,b){f(a,b)}},A={replaceState:function(a,b){q.enqueueReplaceState(this,a),b&&q.enqueueCallback(this,b)},isMounted:function(){var a=o.get(this);return a&&a!==p.currentlyMountingInstance},setProps:function(a,b){q.enqueueSetProps(this,a),b&&q.enqueueCallback(this,b)},replaceProps:function(a,b){q.enqueueReplaceProps(this,a),b&&q.enqueueCallback(this,b)}},B=function(){};r(B.prototype,l.prototype,A);var C={createClass:function(a){var b=function(a,b){this.__reactAutoBindMap&&k(this),this.props=a,this.context=b,this.state=null;var c=this.getInitialState?this.getInitialState():null;s("object"==typeof c&&!Array.isArray(c)),this.state=c};b.prototype=new B,b.prototype.constructor=b,x.forEach(e.bind(null,b)),e(b,a),b.getDefaultProps&&(b.defaultProps=b.getDefaultProps()),s(b.prototype.render);for(var c in y)b.prototype[c]||(b.prototype[c]=null);return b.type=b,b},injection:{injectMixin:function(a){x.push(a)}}};b.exports=C},{"./Object.assign":39,"./ReactComponent":47,"./ReactCurrentOwner":52,"./ReactElement":70,"./ReactErrorUtils":73,"./ReactInstanceMap":80,"./ReactLifeCycle":81,"./ReactPropTypeLocationNames":89,"./ReactPropTypeLocations":90,"./ReactUpdateQueue":99,"./invariant":148,"./keyMirror":153,"./keyOf":154,"./warning":167}],47:[function(a,b,c){"use strict";function d(a,b){this.props=a,this.context=b}var e=a("./ReactUpdateQueue"),f=a("./invariant");a("./warning");d.prototype.setState=function(a,b){f("object"==typeof a||"function"==typeof a||null==a),e.enqueueSetState(this,a),b&&e.enqueueCallback(this,b)},d.prototype.forceUpdate=function(a){e.enqueueForceUpdate(this),a&&e.enqueueCallback(this,a)};b.exports=d},{"./ReactUpdateQueue":99,"./invariant":148,"./warning":167}],48:[function(a,b,c){"use strict";var d=a("./ReactDOMIDOperations"),e=a("./ReactMount"),f={processChildrenUpdates:d.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:d.dangerouslyReplaceNodeWithMarkupByID,unmountIDFromEnvironment:function(a){e.purgeID(a)}};b.exports=f},{"./ReactDOMIDOperations":57,"./ReactMount":83}],49:[function(a,b,c){"use strict";var d=a("./invariant"),e=!1,f={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(a){d(!e),f.unmountIDFromEnvironment=a.unmountIDFromEnvironment,f.replaceNodeWithMarkupByID=a.replaceNodeWithMarkupByID,f.processChildrenUpdates=a.processChildrenUpdates,e=!0}}};b.exports=f},{"./invariant":148}],50:[function(a,b,c){"use strict";function d(a){var b=a._currentElement._owner||null;if(b){var c=b.getName();if(c)return" Check the render method of `"+c+"`."}return""}var e=a("./ReactComponentEnvironment"),f=a("./ReactContext"),g=a("./ReactCurrentOwner"),h=a("./ReactElement"),i=(a("./ReactElementValidator"),a("./ReactInstanceMap")),j=a("./ReactLifeCycle"),k=a("./ReactNativeComponent"),l=a("./ReactPerf"),m=a("./ReactPropTypeLocations"),n=(a("./ReactPropTypeLocationNames"),a("./ReactReconciler")),o=a("./ReactUpdates"),p=a("./Object.assign"),q=a("./emptyObject"),r=a("./invariant"),s=a("./shouldUpdateReactComponent"),t=(a("./warning"),1),u={construct:function(a){this._currentElement=a,this._rootNodeID=null,this._instance=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._isTopLevel=!1,this._pendingCallbacks=null},mountComponent:function(a,b,c){this._context=c,this._mountOrder=t++,this._rootNodeID=a;var d=this._processProps(this._currentElement.props),e=this._processContext(this._currentElement._context),f=k.getComponentClassForElement(this._currentElement),g=new f(d,e);g.props=d,g.context=e,g.refs=q,this._instance=g,i.set(g,this);var h=g.state;void 0===h&&(g.state=h=null),r("object"==typeof h&&!Array.isArray(h)),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var l,m,o=j.currentlyMountingInstance;j.currentlyMountingInstance=this;try{g.componentWillMount&&(g.componentWillMount(),this._pendingStateQueue&&(g.state=this._processPendingState(g.props,g.context))),l=this._getValidatedChildContext(c),m=this._renderValidatedComponent(l)}finally{j.currentlyMountingInstance=o}this._renderedComponent=this._instantiateReactComponent(m,this._currentElement.type);var p=n.mountComponent(this._renderedComponent,a,b,this._mergeChildContext(c,l));return g.componentDidMount&&b.getReactMountReady().enqueue(g.componentDidMount,g),p},unmountComponent:function(){var a=this._instance;if(a.componentWillUnmount){var b=j.currentlyUnmountingInstance;j.currentlyUnmountingInstance=this;try{a.componentWillUnmount()}finally{j.currentlyUnmountingInstance=b}}n.unmountComponent(this._renderedComponent),this._renderedComponent=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,i.remove(a)},_setPropsInternal:function(a,b){var c=this._pendingElement||this._currentElement;this._pendingElement=h.cloneAndReplaceProps(c,p({},c.props,a)),o.enqueueUpdate(this,b)},_maskContext:function(a){var b=null;if("string"==typeof this._currentElement.type)return q;var c=this._currentElement.type.contextTypes;if(!c)return q;b={};for(var d in c)b[d]=a[d];return b},_processContext:function(a){var b=this._maskContext(a);return b},_getValidatedChildContext:function(a){var b=this._instance,c=b.getChildContext&&b.getChildContext();if(c){r("object"==typeof b.constructor.childContextTypes);for(var d in c)r(d in b.constructor.childContextTypes);return c}return null},_mergeChildContext:function(a,b){return b?p({},a,b):a},_processProps:function(a){return a},_checkPropTypes:function(a,b,c){var e=this.getName();for(var f in a)if(a.hasOwnProperty(f)){var g;try{r("function"==typeof a[f]),g=a[f](b,f,e,c)}catch(h){g=h}if(g instanceof Error){d(this);c===m.prop}}},receiveComponent:function(a,b,c){var d=this._currentElement,e=this._context;this._pendingElement=null,this.updateComponent(b,d,a,e,c)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&n.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context),(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},_warnIfContextsDiffer:function(a,b){a=this._maskContext(a),b=this._maskContext(b);for(var c=Object.keys(b).sort(),d=(this.getName()||"ReactCompositeComponent",0);d<c.length;d++){c[d]}},updateComponent:function(a,b,c,d,e){var f=this._instance,g=f.context,h=f.props;b!==c&&(g=this._processContext(c._context),h=this._processProps(c.props),f.componentWillReceiveProps&&f.componentWillReceiveProps(h,g));var i=this._processPendingState(h,g),j=this._pendingForceUpdate||!f.shouldComponentUpdate||f.shouldComponentUpdate(h,i,g);j?(this._pendingForceUpdate=!1,this._performComponentUpdate(c,h,i,g,a,e)):(this._currentElement=c,this._context=e,f.props=h,f.state=i,f.context=g)},_processPendingState:function(a,b){var c=this._instance,d=this._pendingStateQueue,e=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!d)return c.state;if(e&&1===d.length)return d[0];for(var f=p({},e?d[0]:c.state),g=e?1:0;g<d.length;g++){var h=d[g];p(f,"function"==typeof h?h.call(c,f,a,b):h)}return f},_performComponentUpdate:function(a,b,c,d,e,f){var g=this._instance,h=g.props,i=g.state,j=g.context;g.componentWillUpdate&&g.componentWillUpdate(b,c,d),this._currentElement=a,this._context=f,g.props=b,g.state=c,g.context=d,this._updateRenderedComponent(e,f),g.componentDidUpdate&&e.getReactMountReady().enqueue(g.componentDidUpdate.bind(g,h,i,j),g)},_updateRenderedComponent:function(a,b){var c=this._renderedComponent,d=c._currentElement,e=this._getValidatedChildContext(),f=this._renderValidatedComponent(e);if(s(d,f))n.receiveComponent(c,f,a,this._mergeChildContext(b,e));else{var g=this._rootNodeID,h=c._rootNodeID;n.unmountComponent(c),this._renderedComponent=this._instantiateReactComponent(f,this._currentElement.type);var i=n.mountComponent(this._renderedComponent,g,a,this._mergeChildContext(b,e));this._replaceNodeWithMarkupByID(h,i)}},_replaceNodeWithMarkupByID:function(a,b){e.replaceNodeWithMarkupByID(a,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){var a=this._instance,b=a.render();return b},_renderValidatedComponent:function(a){var b,c=f.current;f.current=this._mergeChildContext(this._currentElement._context,a),g.current=this;try{b=this._renderValidatedComponentWithoutOwnerOrContext()}finally{f.current=c,g.current=null}return r(null===b||b===!1||h.isValidElement(b)),b},attachRef:function(a,b){var c=this.getPublicInstance(),d=c.refs===q?c.refs={}:c.refs;d[a]=b.getPublicInstance()},detachRef:function(a){var b=this.getPublicInstance().refs;delete b[a]},getName:function(){var a=this._currentElement.type,b=this._instance&&this._instance.constructor;return a.displayName||b&&b.displayName||a.name||b&&b.name||null},getPublicInstance:function(){return this._instance},_instantiateReactComponent:null};l.measureMethods(u,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});var v={Mixin:u};b.exports=v},{"./Object.assign":39,"./ReactComponentEnvironment":49,"./ReactContext":51,"./ReactCurrentOwner":52,"./ReactElement":70,"./ReactElementValidator":71,"./ReactInstanceMap":80,"./ReactLifeCycle":81,"./ReactNativeComponent":86,"./ReactPerf":88,"./ReactPropTypeLocationNames":89,"./ReactPropTypeLocations":90,"./ReactReconciler":94,"./ReactUpdates":100,"./emptyObject":128,"./invariant":148,"./shouldUpdateReactComponent":164,"./warning":167}],51:[function(a,b,c){"use strict";var d=a("./Object.assign"),e=a("./emptyObject"),f=(a("./warning"),{current:e,withContext:function(a,b){var c,e=f.current;f.current=d({},e,a);try{c=b()}finally{f.current=e}return c}});b.exports=f},{"./Object.assign":39,"./emptyObject":128,"./warning":167}],52:[function(a,b,c){"use strict";var d={current:null};b.exports=d},{}],53:[function(a,b,c){"use strict";function d(a){return e.createFactory(a)}var e=a("./ReactElement"),f=(a("./ReactElementValidator"),a("./mapObject")),g=f({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},d);b.exports=g},{"./ReactElement":70,"./ReactElementValidator":71,"./mapObject":155}],54:[function(a,b,c){"use strict";var d=a("./AutoFocusMixin"),e=a("./ReactBrowserComponentMixin"),f=a("./ReactClass"),g=a("./ReactElement"),h=a("./keyMirror"),i=g.createFactory("button"),j=h({onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0}),k=f.createClass({displayName:"ReactDOMButton",tagName:"BUTTON",mixins:[d,e],render:function(){var a={};for(var b in this.props)!this.props.hasOwnProperty(b)||this.props.disabled&&j[b]||(a[b]=this.props[b]);return i(a,this.props.children)}});b.exports=k},{"./AutoFocusMixin":14,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70,"./keyMirror":153}],55:[function(a,b,c){"use strict";function d(a){a&&(null!=a.dangerouslySetInnerHTML&&(r(null==a.children),r("object"==typeof a.dangerouslySetInnerHTML&&"__html"in a.dangerouslySetInnerHTML)),r(null==a.style||"object"==typeof a.style))}function e(a,b,c,d){var e=m.findReactContainerForID(a);if(e){var f=e.nodeType===y?e.ownerDocument:e;u(b,f)}d.getPutListenerQueue().enqueuePutListener(a,b,c)}function f(a){D.call(C,a)||(r(B.test(a)),C[a]=!0)}function g(a){f(a),this._tag=a,this._renderedChildren=null,this._previousStyleCopy=null,this._rootNodeID=null}var h=a("./CSSPropertyOperations"),i=a("./DOMProperty"),j=a("./DOMPropertyOperations"),k=a("./ReactBrowserEventEmitter"),l=a("./ReactComponentBrowserEnvironment"),m=a("./ReactMount"),n=a("./ReactMultiChild"),o=a("./ReactPerf"),p=a("./Object.assign"),q=a("./escapeTextContentForBrowser"),r=a("./invariant"),s=(a("./isEventSupported"),a("./keyOf")),t=(a("./warning"),k.deleteListener),u=k.listenTo,v=k.registrationNameModules,w={string:!0,number:!0},x=s({style:null}),y=1,z=null,A={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},B=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,C={},D={}.hasOwnProperty;g.displayName="ReactDOMComponent",g.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,b,c){this._rootNodeID=a,d(this._currentElement.props);var e=A[this._tag]?"":"</"+this._tag+">";return this._createOpenTagMarkupAndPutListeners(b)+this._createContentMarkup(b,c)+e},_createOpenTagMarkupAndPutListeners:function(a){var b=this._currentElement.props,c="<"+this._tag;for(var d in b)if(b.hasOwnProperty(d)){var f=b[d];if(null!=f)if(v.hasOwnProperty(d))e(this._rootNodeID,d,f,a);else{d===x&&(f&&(f=this._previousStyleCopy=p({},b.style)),f=h.createMarkupForStyles(f));var g=j.createMarkupForProperty(d,f);g&&(c+=" "+g)}}if(a.renderToStaticMarkup)return c+">";var i=j.createMarkupForID(this._rootNodeID);return c+" "+i+">"},_createContentMarkup:function(a,b){var c="";("listing"===this._tag||"pre"===this._tag||"textarea"===this._tag)&&(c="\n");var d=this._currentElement.props,e=d.dangerouslySetInnerHTML;if(null!=e){
if(null!=e.__html)return c+e.__html}else{var f=w[typeof d.children]?d.children:null,g=null!=f?null:d.children;if(null!=f)return c+q(f);if(null!=g){var h=this.mountChildren(g,a,b);return c+h.join("")}}return c},receiveComponent:function(a,b,c){var d=this._currentElement;this._currentElement=a,this.updateComponent(b,d,a,c)},updateComponent:function(a,b,c,e){d(this._currentElement.props),this._updateDOMProperties(b.props,a),this._updateDOMChildren(b.props,a,e)},_updateDOMProperties:function(a,b){var c,d,f,g=this._currentElement.props;for(c in a)if(!g.hasOwnProperty(c)&&a.hasOwnProperty(c))if(c===x){var h=this._previousStyleCopy;for(d in h)h.hasOwnProperty(d)&&(f=f||{},f[d]="");this._previousStyleCopy=null}else v.hasOwnProperty(c)?t(this._rootNodeID,c):(i.isStandardName[c]||i.isCustomAttribute(c))&&z.deletePropertyByID(this._rootNodeID,c);for(c in g){var j=g[c],k=c===x?this._previousStyleCopy:a[c];if(g.hasOwnProperty(c)&&j!==k)if(c===x)if(j?j=this._previousStyleCopy=p({},j):this._previousStyleCopy=null,k){for(d in k)!k.hasOwnProperty(d)||j&&j.hasOwnProperty(d)||(f=f||{},f[d]="");for(d in j)j.hasOwnProperty(d)&&k[d]!==j[d]&&(f=f||{},f[d]=j[d])}else f=j;else v.hasOwnProperty(c)?e(this._rootNodeID,c,j,b):(i.isStandardName[c]||i.isCustomAttribute(c))&&z.updatePropertyByID(this._rootNodeID,c,j)}f&&z.updateStylesByID(this._rootNodeID,f)},_updateDOMChildren:function(a,b,c){var d=this._currentElement.props,e=w[typeof a.children]?a.children:null,f=w[typeof d.children]?d.children:null,g=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,h=d.dangerouslySetInnerHTML&&d.dangerouslySetInnerHTML.__html,i=null!=e?null:a.children,j=null!=f?null:d.children,k=null!=e||null!=g,l=null!=f||null!=h;null!=i&&null==j?this.updateChildren(null,b,c):k&&!l&&this.updateTextContent(""),null!=f?e!==f&&this.updateTextContent(""+f):null!=h?g!==h&&z.updateInnerHTMLByID(this._rootNodeID,h):null!=j&&this.updateChildren(j,b,c)},unmountComponent:function(){this.unmountChildren(),k.deleteAllListeners(this._rootNodeID),l.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null}},o.measureMethods(g,"ReactDOMComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent"}),p(g.prototype,g.Mixin,n.Mixin),g.injection={injectIDOperations:function(a){g.BackendIDOperations=z=a}},b.exports=g},{"./CSSPropertyOperations":17,"./DOMProperty":22,"./DOMPropertyOperations":23,"./Object.assign":39,"./ReactBrowserEventEmitter":43,"./ReactComponentBrowserEnvironment":48,"./ReactMount":83,"./ReactMultiChild":84,"./ReactPerf":88,"./escapeTextContentForBrowser":129,"./invariant":148,"./isEventSupported":149,"./keyOf":154,"./warning":167}],56:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./LocalEventTrapMixin"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactClass"),h=a("./ReactElement"),i=h.createFactory("form"),j=g.createClass({displayName:"ReactDOMForm",tagName:"FORM",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topReset,"reset"),this.trapBubbledEvent(d.topLevelTypes.topSubmit,"submit")}});b.exports=j},{"./EventConstants":27,"./LocalEventTrapMixin":37,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70}],57:[function(a,b,c){"use strict";var d=a("./CSSPropertyOperations"),e=a("./DOMChildrenOperations"),f=a("./DOMPropertyOperations"),g=a("./ReactMount"),h=a("./ReactPerf"),i=a("./invariant"),j=a("./setInnerHTML"),k={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",style:"`style` must be set using `updateStylesByID()`."},l={updatePropertyByID:function(a,b,c){var d=g.getNode(a);i(!k.hasOwnProperty(b)),null!=c?f.setValueForProperty(d,b,c):f.deleteValueForProperty(d,b)},deletePropertyByID:function(a,b,c){var d=g.getNode(a);i(!k.hasOwnProperty(b)),f.deleteValueForProperty(d,b,c)},updateStylesByID:function(a,b){var c=g.getNode(a);d.setValueForStyles(c,b)},updateInnerHTMLByID:function(a,b){var c=g.getNode(a);j(c,b)},updateTextContentByID:function(a,b){var c=g.getNode(a);e.updateTextContent(c,b)},dangerouslyReplaceNodeWithMarkupByID:function(a,b){var c=g.getNode(a);e.dangerouslyReplaceNodeWithMarkup(c,b)},dangerouslyProcessChildrenUpdates:function(a,b){for(var c=0;c<a.length;c++)a[c].parentNode=g.getNode(a[c].parentID);e.processUpdates(a,b)}};h.measureMethods(l,"ReactDOMIDOperations",{updatePropertyByID:"updatePropertyByID",deletePropertyByID:"deletePropertyByID",updateStylesByID:"updateStylesByID",updateInnerHTMLByID:"updateInnerHTMLByID",updateTextContentByID:"updateTextContentByID",dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"}),b.exports=l},{"./CSSPropertyOperations":17,"./DOMChildrenOperations":21,"./DOMPropertyOperations":23,"./ReactMount":83,"./ReactPerf":88,"./invariant":148,"./setInnerHTML":161}],58:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./LocalEventTrapMixin"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactClass"),h=a("./ReactElement"),i=h.createFactory("iframe"),j=g.createClass({displayName:"ReactDOMIframe",tagName:"IFRAME",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topLoad,"load")}});b.exports=j},{"./EventConstants":27,"./LocalEventTrapMixin":37,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70}],59:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./LocalEventTrapMixin"),f=a("./ReactBrowserComponentMixin"),g=a("./ReactClass"),h=a("./ReactElement"),i=h.createFactory("img"),j=g.createClass({displayName:"ReactDOMImg",tagName:"IMG",mixins:[f,e],render:function(){return i(this.props)},componentDidMount:function(){this.trapBubbledEvent(d.topLevelTypes.topLoad,"load"),this.trapBubbledEvent(d.topLevelTypes.topError,"error")}});b.exports=j},{"./EventConstants":27,"./LocalEventTrapMixin":37,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70}],60:[function(a,b,c){"use strict";function d(){this.isMounted()&&this.forceUpdate()}var e=a("./AutoFocusMixin"),f=a("./DOMPropertyOperations"),g=a("./LinkedValueUtils"),h=a("./ReactBrowserComponentMixin"),i=a("./ReactClass"),j=a("./ReactElement"),k=a("./ReactMount"),l=a("./ReactUpdates"),m=a("./Object.assign"),n=a("./invariant"),o=j.createFactory("input"),p={},q=i.createClass({displayName:"ReactDOMInput",tagName:"INPUT",mixins:[e,g.Mixin,h],getInitialState:function(){var a=this.props.defaultValue;return{initialChecked:this.props.defaultChecked||!1,initialValue:null!=a?a:null}},render:function(){var a=m({},this.props);a.defaultChecked=null,a.defaultValue=null;var b=g.getValue(this);a.value=null!=b?b:this.state.initialValue;var c=g.getChecked(this);return a.checked=null!=c?c:this.state.initialChecked,a.onChange=this._handleChange,o(a,this.props.children)},componentDidMount:function(){var a=k.getID(this.getDOMNode());p[a]=this},componentWillUnmount:function(){var a=this.getDOMNode(),b=k.getID(a);delete p[b]},componentDidUpdate:function(a,b,c){var d=this.getDOMNode();null!=this.props.checked&&f.setValueForProperty(d,"checked",this.props.checked||!1);var e=g.getValue(this);null!=e&&f.setValueForProperty(d,"value",""+e)},_handleChange:function(a){var b,c=g.getOnChange(this);c&&(b=c.call(this,a)),l.asap(d,this);var e=this.props.name;if("radio"===this.props.type&&null!=e){for(var f=this.getDOMNode(),h=f;h.parentNode;)h=h.parentNode;for(var i=h.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),j=0,m=i.length;m>j;j++){var o=i[j];if(o!==f&&o.form===f.form){var q=k.getID(o);n(q);var r=p[q];n(r),l.asap(d,r)}}}return b}});b.exports=q},{"./AutoFocusMixin":14,"./DOMPropertyOperations":23,"./LinkedValueUtils":36,"./Object.assign":39,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70,"./ReactMount":83,"./ReactUpdates":100,"./invariant":148}],61:[function(a,b,c){"use strict";var d=a("./ReactBrowserComponentMixin"),e=a("./ReactClass"),f=a("./ReactElement"),g=(a("./warning"),f.createFactory("option")),h=e.createClass({displayName:"ReactDOMOption",tagName:"OPTION",mixins:[d],componentWillMount:function(){},render:function(){return g(this.props,this.props.children)}});b.exports=h},{"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70,"./warning":167}],62:[function(a,b,c){"use strict";function d(){if(this._pendingUpdate){this._pendingUpdate=!1;var a=h.getValue(this);null!=a&&this.isMounted()&&f(this,a)}}function e(a,b,c){if(null==a[b])return null;if(a.multiple){if(!Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be an array if `multiple` is true.")}else if(Array.isArray(a[b]))return new Error("The `"+b+"` prop supplied to <select> must be a scalar value if `multiple` is false.")}function f(a,b){var c,d,e,f=a.getDOMNode().options;if(a.props.multiple){for(c={},d=0,e=b.length;e>d;d++)c[""+b[d]]=!0;for(d=0,e=f.length;e>d;d++){var g=c.hasOwnProperty(f[d].value);f[d].selected!==g&&(f[d].selected=g)}}else{for(c=""+b,d=0,e=f.length;e>d;d++)if(f[d].value===c)return void(f[d].selected=!0);f.length&&(f[0].selected=!0)}}var g=a("./AutoFocusMixin"),h=a("./LinkedValueUtils"),i=a("./ReactBrowserComponentMixin"),j=a("./ReactClass"),k=a("./ReactElement"),l=a("./ReactUpdates"),m=a("./Object.assign"),n=k.createFactory("select"),o=j.createClass({displayName:"ReactDOMSelect",tagName:"SELECT",mixins:[g,h.Mixin,i],propTypes:{defaultValue:e,value:e},render:function(){var a=m({},this.props);return a.onChange=this._handleChange,a.value=null,n(a,this.props.children)},componentWillMount:function(){this._pendingUpdate=!1},componentDidMount:function(){var a=h.getValue(this);null!=a?f(this,a):null!=this.props.defaultValue&&f(this,this.props.defaultValue)},componentDidUpdate:function(a){var b=h.getValue(this);null!=b?(this._pendingUpdate=!1,f(this,b)):!a.multiple!=!this.props.multiple&&(null!=this.props.defaultValue?f(this,this.props.defaultValue):f(this,this.props.multiple?[]:""))},_handleChange:function(a){var b,c=h.getOnChange(this);return c&&(b=c.call(this,a)),this._pendingUpdate=!0,l.asap(d,this),b}});b.exports=o},{"./AutoFocusMixin":14,"./LinkedValueUtils":36,"./Object.assign":39,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70,"./ReactUpdates":100}],63:[function(a,b,c){"use strict";function d(a,b,c,d){return a===c&&b===d}function e(a){var b=document.selection,c=b.createRange(),d=c.text.length,e=c.duplicate();e.moveToElementText(a),e.setEndPoint("EndToStart",c);var f=e.text.length,g=f+d;return{start:f,end:g}}function f(a){var b=window.getSelection&&window.getSelection();if(!b||0===b.rangeCount)return null;var c=b.anchorNode,e=b.anchorOffset,f=b.focusNode,g=b.focusOffset,h=b.getRangeAt(0),i=d(b.anchorNode,b.anchorOffset,b.focusNode,b.focusOffset),j=i?0:h.toString().length,k=h.cloneRange();k.selectNodeContents(a),k.setEnd(h.startContainer,h.startOffset);var l=d(k.startContainer,k.startOffset,k.endContainer,k.endOffset),m=l?0:k.toString().length,n=m+j,o=document.createRange();o.setStart(c,e),o.setEnd(f,g);var p=o.collapsed;return{start:p?n:m,end:p?m:n}}function g(a,b){var c,d,e=document.selection.createRange().duplicate();"undefined"==typeof b.end?(c=b.start,d=c):b.start>b.end?(c=b.end,d=b.start):(c=b.start,d=b.end),e.moveToElementText(a),e.moveStart("character",c),e.setEndPoint("EndToStart",e),e.moveEnd("character",d-c),e.select()}function h(a,b){if(window.getSelection){var c=window.getSelection(),d=a[k()].length,e=Math.min(b.start,d),f="undefined"==typeof b.end?e:Math.min(b.end,d);if(!c.extend&&e>f){var g=f;f=e,e=g}var h=j(a,e),i=j(a,f);if(h&&i){var l=document.createRange();l.setStart(h.node,h.offset),c.removeAllRanges(),e>f?(c.addRange(l),c.extend(i.node,i.offset)):(l.setEnd(i.node,i.offset),c.addRange(l))}}}var i=a("./ExecutionEnvironment"),j=a("./getNodeForCharacterOffset"),k=a("./getTextContentAccessor"),l=i.canUseDOM&&"selection"in document&&!("getSelection"in window),m={getOffsets:l?e:f,setOffsets:l?g:h};b.exports=m},{"./ExecutionEnvironment":33,"./getNodeForCharacterOffset":141,"./getTextContentAccessor":143}],64:[function(a,b,c){"use strict";var d=a("./DOMPropertyOperations"),e=a("./ReactComponentBrowserEnvironment"),f=a("./ReactDOMComponent"),g=a("./Object.assign"),h=a("./escapeTextContentForBrowser"),i=function(a){};g(i.prototype,{construct:function(a){this._currentElement=a,this._stringText=""+a,this._rootNodeID=null,this._mountIndex=0},mountComponent:function(a,b,c){this._rootNodeID=a;var e=h(this._stringText);return b.renderToStaticMarkup?e:"<span "+d.createMarkupForID(a)+">"+e+"</span>"},receiveComponent:function(a,b){if(a!==this._currentElement){this._currentElement=a;var c=""+a;c!==this._stringText&&(this._stringText=c,f.BackendIDOperations.updateTextContentByID(this._rootNodeID,c))}},unmountComponent:function(){e.unmountIDFromEnvironment(this._rootNodeID)}}),b.exports=i},{"./DOMPropertyOperations":23,"./Object.assign":39,"./ReactComponentBrowserEnvironment":48,"./ReactDOMComponent":55,"./escapeTextContentForBrowser":129}],65:[function(a,b,c){"use strict";function d(){this.isMounted()&&this.forceUpdate()}var e=a("./AutoFocusMixin"),f=a("./DOMPropertyOperations"),g=a("./LinkedValueUtils"),h=a("./ReactBrowserComponentMixin"),i=a("./ReactClass"),j=a("./ReactElement"),k=a("./ReactUpdates"),l=a("./Object.assign"),m=a("./invariant"),n=(a("./warning"),j.createFactory("textarea")),o=i.createClass({displayName:"ReactDOMTextarea",tagName:"TEXTAREA",mixins:[e,g.Mixin,h],getInitialState:function(){var a=this.props.defaultValue,b=this.props.children;null!=b&&(m(null==a),Array.isArray(b)&&(m(b.length<=1),b=b[0]),a=""+b),null==a&&(a="");var c=g.getValue(this);return{initialValue:""+(null!=c?c:a)}},render:function(){var a=l({},this.props);return m(null==a.dangerouslySetInnerHTML),a.defaultValue=null,a.value=null,a.onChange=this._handleChange,n(a,this.state.initialValue)},componentDidUpdate:function(a,b,c){var d=g.getValue(this);if(null!=d){var e=this.getDOMNode();f.setValueForProperty(e,"value",""+d)}},_handleChange:function(a){var b,c=g.getOnChange(this);return c&&(b=c.call(this,a)),k.asap(d,this),b}});b.exports=o},{"./AutoFocusMixin":14,"./DOMPropertyOperations":23,"./LinkedValueUtils":36,"./Object.assign":39,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactElement":70,"./ReactUpdates":100,"./invariant":148,"./warning":167}],66:[function(a,b,c){"use strict";function d(){this.reinitializeTransaction()}var e=a("./ReactUpdates"),f=a("./Transaction"),g=a("./Object.assign"),h=a("./emptyFunction"),i={initialize:h,close:function(){m.isBatchingUpdates=!1}},j={initialize:h,close:e.flushBatchedUpdates.bind(e)},k=[j,i];g(d.prototype,f.Mixin,{getTransactionWrappers:function(){return k}});var l=new d,m={isBatchingUpdates:!1,batchedUpdates:function(a,b,c,d,e){var f=m.isBatchingUpdates;m.isBatchingUpdates=!0,f?a(b,c,d,e):l.perform(a,null,b,c,d,e)}};b.exports=m},{"./Object.assign":39,"./ReactUpdates":100,"./Transaction":116,"./emptyFunction":127}],67:[function(a,b,c){"use strict";function d(a){return o.createClass({tagName:a.toUpperCase(),render:function(){return new C(a,null,null,null,null,this.props)}})}function e(){E.EventEmitter.injectReactEventListener(D),E.EventPluginHub.injectEventPluginOrder(i),E.EventPluginHub.injectInstanceHandle(F),E.EventPluginHub.injectMount(G),E.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:K,EnterLeaveEventPlugin:j,ChangeEventPlugin:g,MobileSafariClickEventPlugin:m,SelectEventPlugin:I,BeforeInputEventPlugin:f}),E.NativeComponent.injectGenericComponentClass(r),E.NativeComponent.injectTextComponentClass(B),E.NativeComponent.injectAutoWrapper(d),E.Class.injectMixin(n),E.NativeComponent.injectComponentClasses({button:s,form:t,iframe:w,img:u,input:x,option:y,select:z,textarea:A,html:M("html"),head:M("head"),body:M("body")}),E.DOMProperty.injectDOMPropertyConfig(l),E.DOMProperty.injectDOMPropertyConfig(L),E.EmptyComponent.injectEmptyComponent("noscript"),E.Updates.injectReconcileTransaction(H),E.Updates.injectBatchingStrategy(q),E.RootIndex.injectCreateReactRootIndex(k.canUseDOM?h.createReactRootIndex:J.createReactRootIndex),E.Component.injectEnvironment(p),E.DOMComponent.injectIDOperations(v)}var f=a("./BeforeInputEventPlugin"),g=a("./ChangeEventPlugin"),h=a("./ClientReactRootIndex"),i=a("./DefaultEventPluginOrder"),j=a("./EnterLeaveEventPlugin"),k=a("./ExecutionEnvironment"),l=a("./HTMLDOMPropertyConfig"),m=a("./MobileSafariClickEventPlugin"),n=a("./ReactBrowserComponentMixin"),o=a("./ReactClass"),p=a("./ReactComponentBrowserEnvironment"),q=a("./ReactDefaultBatchingStrategy"),r=a("./ReactDOMComponent"),s=a("./ReactDOMButton"),t=a("./ReactDOMForm"),u=a("./ReactDOMImg"),v=a("./ReactDOMIDOperations"),w=a("./ReactDOMIframe"),x=a("./ReactDOMInput"),y=a("./ReactDOMOption"),z=a("./ReactDOMSelect"),A=a("./ReactDOMTextarea"),B=a("./ReactDOMTextComponent"),C=a("./ReactElement"),D=a("./ReactEventListener"),E=a("./ReactInjection"),F=a("./ReactInstanceHandles"),G=a("./ReactMount"),H=a("./ReactReconcileTransaction"),I=a("./SelectEventPlugin"),J=a("./ServerReactRootIndex"),K=a("./SimpleEventPlugin"),L=a("./SVGDOMPropertyConfig"),M=a("./createFullPageComponent");b.exports={inject:e}},{"./BeforeInputEventPlugin":15,"./ChangeEventPlugin":19,"./ClientReactRootIndex":20,"./DefaultEventPluginOrder":25,"./EnterLeaveEventPlugin":26,"./ExecutionEnvironment":33,"./HTMLDOMPropertyConfig":35,"./MobileSafariClickEventPlugin":38,"./ReactBrowserComponentMixin":42,"./ReactClass":46,"./ReactComponentBrowserEnvironment":48,"./ReactDOMButton":54,"./ReactDOMComponent":55,"./ReactDOMForm":56,"./ReactDOMIDOperations":57,"./ReactDOMIframe":58,"./ReactDOMImg":59,"./ReactDOMInput":60,"./ReactDOMOption":61,"./ReactDOMSelect":62,"./ReactDOMTextComponent":64,"./ReactDOMTextarea":65,"./ReactDefaultBatchingStrategy":66,"./ReactDefaultPerf":68,"./ReactElement":70,"./ReactEventListener":75,"./ReactInjection":77,"./ReactInstanceHandles":79,"./ReactMount":83,"./ReactReconcileTransaction":93,"./SVGDOMPropertyConfig":101,"./SelectEventPlugin":102,"./ServerReactRootIndex":103,"./SimpleEventPlugin":104,"./createFullPageComponent":124}],68:[function(a,b,c){"use strict";function d(a){return Math.floor(100*a)/100}function e(a,b,c){a[b]=(a[b]||0)+c}var f=a("./DOMProperty"),g=a("./ReactDefaultPerfAnalysis"),h=a("./ReactMount"),i=a("./ReactPerf"),j=a("./performanceNow"),k={_allMeasurements:[],_mountStack:[0],_injected:!1,start:function(){k._injected||i.injection.injectMeasure(k.measure),k._allMeasurements.length=0,i.enableMeasure=!0},stop:function(){i.enableMeasure=!1},getLastMeasurements:function(){return k._allMeasurements},printExclusive:function(a){a=a||k._allMeasurements;var b=g.getExclusiveSummary(a);console.table(b.map(function(a){return{"Component class name":a.componentName,"Total inclusive time (ms)":d(a.inclusive),"Exclusive mount time (ms)":d(a.exclusive),"Exclusive render time (ms)":d(a.render),"Mount time per instance (ms)":d(a.exclusive/a.count),"Render time per instance (ms)":d(a.render/a.count),Instances:a.count}}))},printInclusive:function(a){a=a||k._allMeasurements;var b=g.getInclusiveSummary(a);console.table(b.map(function(a){return{"Owner > component":a.componentName,"Inclusive time (ms)":d(a.time),Instances:a.count}})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},getMeasurementsSummaryMap:function(a){var b=g.getInclusiveSummary(a,!0);return b.map(function(a){return{"Owner > component":a.componentName,"Wasted time (ms)":a.time,Instances:a.count}})},printWasted:function(a){a=a||k._allMeasurements,console.table(k.getMeasurementsSummaryMap(a)),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},printDOM:function(a){a=a||k._allMeasurements;var b=g.getDOMSummary(a);console.table(b.map(function(a){var b={};return b[f.ID_ATTRIBUTE_NAME]=a.id,b.type=a.type,b.args=JSON.stringify(a.args),b})),console.log("Total time:",g.getTotalTime(a).toFixed(2)+" ms")},_recordWrite:function(a,b,c,d){var e=k._allMeasurements[k._allMeasurements.length-1].writes;e[a]=e[a]||[],e[a].push({type:b,time:c,args:d})},measure:function(a,b,c){return function(){for(var d=[],f=0,g=arguments.length;g>f;f++)d.push(arguments[f]);var i,l,m;if("_renderNewRootComponent"===b||"flushBatchedUpdates"===b)return k._allMeasurements.push({exclusive:{},inclusive:{},render:{},counts:{},writes:{},displayNames:{},totalTime:0}),m=j(),l=c.apply(this,d),k._allMeasurements[k._allMeasurements.length-1].totalTime=j()-m,l;if("_mountImageIntoNode"===b||"ReactDOMIDOperations"===a){if(m=j(),l=c.apply(this,d),i=j()-m,"_mountImageIntoNode"===b){var n=h.getID(d[1]);k._recordWrite(n,b,i,d[0])}else"dangerouslyProcessChildrenUpdates"===b?d[0].forEach(function(a){var b={};null!==a.fromIndex&&(b.fromIndex=a.fromIndex),null!==a.toIndex&&(b.toIndex=a.toIndex),null!==a.textContent&&(b.textContent=a.textContent),null!==a.markupIndex&&(b.markup=d[1][a.markupIndex]),k._recordWrite(a.parentID,a.type,i,b)}):k._recordWrite(d[0],b,i,Array.prototype.slice.call(d,1));return l}if("ReactCompositeComponent"!==a||"mountComponent"!==b&&"updateComponent"!==b&&"_renderValidatedComponent"!==b)return c.apply(this,d);if("string"==typeof this._currentElement.type)return c.apply(this,d);var o="mountComponent"===b?d[0]:this._rootNodeID,p="_renderValidatedComponent"===b,q="mountComponent"===b,r=k._mountStack,s=k._allMeasurements[k._allMeasurements.length-1];if(p?e(s.counts,o,1):q&&r.push(0),m=j(),l=c.apply(this,d),i=j()-m,p)e(s.render,o,i);else if(q){var t=r.pop();r[r.length-1]+=i,e(s.exclusive,o,i-t),e(s.inclusive,o,i)}else e(s.inclusive,o,i);return s.displayNames[o]={current:this.getName(),owner:this._currentElement._owner?this._currentElement._owner.getName():"<root>"},l}}};b.exports=k},{"./DOMProperty":22,"./ReactDefaultPerfAnalysis":69,"./ReactMount":83,"./ReactPerf":88,"./performanceNow":159}],69:[function(a,b,c){function d(a){for(var b=0,c=0;c<a.length;c++){var d=a[c];b+=d.totalTime}return b}function e(a){for(var b=[],c=0;c<a.length;c++){var d,e=a[c];for(d in e.writes)e.writes[d].forEach(function(a){b.push({id:d,type:k[a.type]||a.type,args:a.args})})}return b}function f(a){for(var b,c={},d=0;d<a.length;d++){var e=a[d],f=i({},e.exclusive,e.inclusive);for(var g in f)b=e.displayNames[g].current,c[b]=c[b]||{componentName:b,inclusive:0,exclusive:0,render:0,count:0},e.render[g]&&(c[b].render+=e.render[g]),e.exclusive[g]&&(c[b].exclusive+=e.exclusive[g]),e.inclusive[g]&&(c[b].inclusive+=e.inclusive[g]),e.counts[g]&&(c[b].count+=e.counts[g])}var h=[];for(b in c)c[b].exclusive>=j&&h.push(c[b]);return h.sort(function(a,b){return b.exclusive-a.exclusive}),h}function g(a,b){for(var c,d={},e=0;e<a.length;e++){var f,g=a[e],k=i({},g.exclusive,g.inclusive);b&&(f=h(g));for(var l in k)if(!b||f[l]){var m=g.displayNames[l];c=m.owner+" > "+m.current,d[c]=d[c]||{componentName:c,time:0,count:0},g.inclusive[l]&&(d[c].time+=g.inclusive[l]),g.counts[l]&&(d[c].count+=g.counts[l])}}var n=[];for(c in d)d[c].time>=j&&n.push(d[c]);return n.sort(function(a,b){return b.time-a.time}),n}function h(a){var b={},c=Object.keys(a.writes),d=i({},a.exclusive,a.inclusive);for(var e in d){for(var f=!1,g=0;g<c.length;g++)if(0===c[g].indexOf(e)){f=!0;break}!f&&a.counts[e]>0&&(b[e]=!0)}return b}var i=a("./Object.assign"),j=1.2,k={_mountImageIntoNode:"set innerHTML",INSERT_MARKUP:"set innerHTML",MOVE_EXISTING:"move",REMOVE_NODE:"remove",TEXT_CONTENT:"set textContent",updatePropertyByID:"update attribute",deletePropertyByID:"delete attribute",updateStylesByID:"update styles",updateInnerHTMLByID:"set innerHTML",dangerouslyReplaceNodeWithMarkupByID:"replace"},l={getExclusiveSummary:f,getInclusiveSummary:g,getDOMSummary:e,getTotalTime:d};b.exports=l},{"./Object.assign":39}],70:[function(a,b,c){"use strict";var d=a("./ReactContext"),e=a("./ReactCurrentOwner"),f=a("./Object.assign"),g=(a("./warning"),{key:!0,ref:!0}),h=function(a,b,c,d,e,f){this.type=a,this.key=b,this.ref=c,this._owner=d,this._context=e,this.props=f};h.prototype={_isReactElement:!0},h.createElement=function(a,b,c){var f,i={},j=null,k=null;if(null!=b){k=void 0===b.ref?null:b.ref,j=void 0===b.key?null:""+b.key;for(f in b)b.hasOwnProperty(f)&&!g.hasOwnProperty(f)&&(i[f]=b[f])}var l=arguments.length-2;if(1===l)i.children=c;else if(l>1){for(var m=Array(l),n=0;l>n;n++)m[n]=arguments[n+2];i.children=m}if(a&&a.defaultProps){var o=a.defaultProps;for(f in o)"undefined"==typeof i[f]&&(i[f]=o[f])}return new h(a,j,k,e.current,d.current,i)},h.createFactory=function(a){var b=h.createElement.bind(null,a);return b.type=a,b},h.cloneAndReplaceProps=function(a,b){var c=new h(a.type,a.key,a.ref,a._owner,a._context,b);return c},h.cloneElement=function(a,b,c){var d,i=f({},a.props),j=a.key,k=a.ref,l=a._owner;if(null!=b){void 0!==b.ref&&(k=b.ref,l=e.current),void 0!==b.key&&(j=""+b.key);for(d in b)b.hasOwnProperty(d)&&!g.hasOwnProperty(d)&&(i[d]=b[d])}var m=arguments.length-2;if(1===m)i.children=c;else if(m>1){for(var n=Array(m),o=0;m>o;o++)n[o]=arguments[o+2];i.children=n}return new h(a.type,j,k,l,a._context,i)},h.isValidElement=function(a){var b=!(!a||!a._isReactElement);return b},b.exports=h},{"./Object.assign":39,"./ReactContext":51,"./ReactCurrentOwner":52,"./warning":167}],71:[function(a,b,c){"use strict";function d(){if(s.current){var a=s.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function e(a){var b=a&&a.getPublicInstance();if(!b)return void 0;var c=b.constructor;return c?c.displayName||c.name||void 0:void 0}function f(){var a=s.current;return a&&e(a)||void 0}function g(a,b){a._store.validated||null!=a.key||(a._store.validated=!0,i('Each child in an array or iterator should have a unique "key" prop.',a,b))}function h(a,b,c){y.test(a)&&i("Child objects should have non-numeric keys so ordering is preserved.",b,c)}function i(a,b,c){var d=f(),g="string"==typeof c?c:c.displayName||c.name,h=d||g,i=w[a]||(w[a]={});if(!i.hasOwnProperty(h)){i[h]=!0;var j="";if(b&&b._owner&&b._owner!==s.current){var k=e(b._owner);j=" It was passed a child from "+k+"."}}}function j(a,b){if(Array.isArray(a))for(var c=0;c<a.length;c++){var d=a[c];p.isValidElement(d)&&g(d,b)}else if(p.isValidElement(a))a._store.validated=!0;else if(a){var e=u(a);if(e){if(e!==a.entries)for(var f,i=e.call(a);!(f=i.next()).done;)p.isValidElement(f.value)&&g(f.value,b)}else if("object"==typeof a){var j=q.extractIfFragment(a);for(var k in j)j.hasOwnProperty(k)&&h(k,j[k],b)}}}function k(a,b,c,e){for(var f in b)if(b.hasOwnProperty(f)){var g;try{v("function"==typeof b[f]),g=b[f](c,f,a,e)}catch(h){g=h}if(g instanceof Error&&!(g.message in x)){x[g.message]=!0;d(this)}}}function l(a,b){var c=b.type,d="string"==typeof c?c:c.displayName,e=b._owner?b._owner.getPublicInstance().constructor.displayName:null,f=a+"|"+d+"|"+e;if(!z.hasOwnProperty(f)){z[f]=!0;var g="";d&&(g=" <"+d+" />");var h="";e&&(h=" The element was created by "+e+".")}}function m(a,b){return a!==a?b!==b:0===a&&0===b?1/a===1/b:a===b}function n(a){if(a._store){var b=a._store.originalProps,c=a.props;for(var d in c)c.hasOwnProperty(d)&&(b.hasOwnProperty(d)&&m(b[d],c[d])||(l(d,a),b[d]=c[d]))}}function o(a){if(null!=a.type){var b=t.getComponentClassForElement(a),c=b.displayName||b.name;b.propTypes&&k(c,b.propTypes,a.props,r.prop),"function"==typeof b.getDefaultProps}}var p=a("./ReactElement"),q=a("./ReactFragment"),r=a("./ReactPropTypeLocations"),s=(a("./ReactPropTypeLocationNames"),a("./ReactCurrentOwner")),t=a("./ReactNativeComponent"),u=a("./getIteratorFn"),v=a("./invariant"),w=(a("./warning"),{}),x={},y=/^\d+$/,z={},A={checkAndWarnForMutatedProps:n,createElement:function(a,b,c){var d=p.createElement.apply(this,arguments);if(null==d)return d;for(var e=2;e<arguments.length;e++)j(arguments[e],a);return o(d),d},createFactory:function(a){var b=A.createElement.bind(null,a);return b.type=a,b},cloneElement:function(a,b,c){for(var d=p.cloneElement.apply(this,arguments),e=2;e<arguments.length;e++)j(arguments[e],d.type);return o(d),d}};b.exports=A},{"./ReactCurrentOwner":52,"./ReactElement":70,"./ReactFragment":76,"./ReactNativeComponent":86,"./ReactPropTypeLocationNames":89,"./ReactPropTypeLocations":90,"./getIteratorFn":139,"./invariant":148,"./warning":167}],72:[function(a,b,c){"use strict";function d(a){k[a]=!0}function e(a){delete k[a]}function f(a){return!!k[a]}var g,h=a("./ReactElement"),i=a("./ReactInstanceMap"),j=a("./invariant"),k={},l={injectEmptyComponent:function(a){g=h.createFactory(a)}},m=function(){};m.prototype.componentDidMount=function(){var a=i.get(this);a&&d(a._rootNodeID)},m.prototype.componentWillUnmount=function(){var a=i.get(this);a&&e(a._rootNodeID)},m.prototype.render=function(){return j(g),g()};var n=h.createElement(m),o={emptyElement:n,injection:l,isNullComponentID:f};b.exports=o},{"./ReactElement":70,"./ReactInstanceMap":80,"./invariant":148}],73:[function(a,b,c){"use strict";var d={guard:function(a,b){return a}};b.exports=d},{}],74:[function(a,b,c){"use strict";function d(a){e.enqueueEvents(a),e.processEventQueue()}var e=a("./EventPluginHub"),f={handleTopLevel:function(a,b,c,f){var g=e.extractEvents(a,b,c,f);d(g)}};b.exports=f},{"./EventPluginHub":29}],75:[function(a,b,c){"use strict";function d(a){var b=l.getID(a),c=k.getReactRootIDFromNodeID(b),d=l.findReactContainerForID(c),e=l.getFirstReactDOM(d);return e}function e(a,b){this.topLevelType=a,this.nativeEvent=b,this.ancestors=[]}function f(a){for(var b=l.getFirstReactDOM(o(a.nativeEvent))||window,c=b;c;)a.ancestors.push(c),c=d(c);for(var e=0,f=a.ancestors.length;f>e;e++){b=a.ancestors[e];var g=l.getID(b)||"";q._handleTopLevel(a.topLevelType,b,g,a.nativeEvent)}}function g(a){var b=p(window);a(b)}var h=a("./EventListener"),i=a("./ExecutionEnvironment"),j=a("./PooledClass"),k=a("./ReactInstanceHandles"),l=a("./ReactMount"),m=a("./ReactUpdates"),n=a("./Object.assign"),o=a("./getEventTarget"),p=a("./getUnboundedScrollPosition");n(e.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),j.addPoolingTo(e,j.twoArgumentPooler);var q={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(a){q._handleTopLevel=a},setEnabled:function(a){q._enabled=!!a},isEnabled:function(){return q._enabled},trapBubbledEvent:function(a,b,c){var d=c;return d?h.listen(d,b,q.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,c){var d=c;return d?h.capture(d,b,q.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(a){var b=g.bind(null,a);h.listen(window,"scroll",b)},dispatchEvent:function(a,b){if(q._enabled){var c=e.getPooled(a,b);try{m.batchedUpdates(f,c)}finally{e.release(c)}}}};b.exports=q},{"./EventListener":28,"./ExecutionEnvironment":33,"./Object.assign":39,"./PooledClass":40,"./ReactInstanceHandles":79,"./ReactMount":83,"./ReactUpdates":100,"./getEventTarget":138,"./getUnboundedScrollPosition":144}],76:[function(a,b,c){"use strict";var d=(a("./ReactElement"),a("./warning"),{create:function(a){return a},extract:function(a){return a},extractIfFragment:function(a){return a}});b.exports=d},{"./ReactElement":70,"./warning":167}],77:[function(a,b,c){"use strict";var d=a("./DOMProperty"),e=a("./EventPluginHub"),f=a("./ReactComponentEnvironment"),g=a("./ReactClass"),h=a("./ReactEmptyComponent"),i=a("./ReactBrowserEventEmitter"),j=a("./ReactNativeComponent"),k=a("./ReactDOMComponent"),l=a("./ReactPerf"),m=a("./ReactRootIndex"),n=a("./ReactUpdates"),o={Component:f.injection,Class:g.injection,DOMComponent:k.injection,DOMProperty:d.injection,EmptyComponent:h.injection,EventPluginHub:e.injection,EventEmitter:i.injection,NativeComponent:j.injection,Perf:l.injection,RootIndex:m.injection,Updates:n.injection};b.exports=o},{"./DOMProperty":22,"./EventPluginHub":29,"./ReactBrowserEventEmitter":43,"./ReactClass":46,"./ReactComponentEnvironment":49,"./ReactDOMComponent":55,"./ReactEmptyComponent":72,"./ReactNativeComponent":86,"./ReactPerf":88,"./ReactRootIndex":96,"./ReactUpdates":100}],78:[function(a,b,c){"use strict";function d(a){return f(document.documentElement,a)}var e=a("./ReactDOMSelection"),f=a("./containsNode"),g=a("./focusNode"),h=a("./getActiveElement"),i={
hasSelectionCapabilities:function(a){return a&&("INPUT"===a.nodeName&&"text"===a.type||"TEXTAREA"===a.nodeName||"true"===a.contentEditable)},getSelectionInformation:function(){var a=h();return{focusedElem:a,selectionRange:i.hasSelectionCapabilities(a)?i.getSelection(a):null}},restoreSelection:function(a){var b=h(),c=a.focusedElem,e=a.selectionRange;b!==c&&d(c)&&(i.hasSelectionCapabilities(c)&&i.setSelection(c,e),g(c))},getSelection:function(a){var b;if("selectionStart"in a)b={start:a.selectionStart,end:a.selectionEnd};else if(document.selection&&"INPUT"===a.nodeName){var c=document.selection.createRange();c.parentElement()===a&&(b={start:-c.moveStart("character",-a.value.length),end:-c.moveEnd("character",-a.value.length)})}else b=e.getOffsets(a);return b||{start:0,end:0}},setSelection:function(a,b){var c=b.start,d=b.end;if("undefined"==typeof d&&(d=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(d,a.value.length);else if(document.selection&&"INPUT"===a.nodeName){var f=a.createTextRange();f.collapse(!0),f.moveStart("character",c),f.moveEnd("character",d-c),f.select()}else e.setOffsets(a,b)}};b.exports=i},{"./ReactDOMSelection":63,"./containsNode":122,"./focusNode":132,"./getActiveElement":134}],79:[function(a,b,c){"use strict";function d(a){return n+a.toString(36)}function e(a,b){return a.charAt(b)===n||b===a.length}function f(a){return""===a||a.charAt(0)===n&&a.charAt(a.length-1)!==n}function g(a,b){return 0===b.indexOf(a)&&e(b,a.length)}function h(a){return a?a.substr(0,a.lastIndexOf(n)):""}function i(a,b){if(m(f(a)&&f(b)),m(g(a,b)),a===b)return a;var c,d=a.length+o;for(c=d;c<b.length&&!e(b,c);c++);return b.substr(0,c)}function j(a,b){var c=Math.min(a.length,b.length);if(0===c)return"";for(var d=0,g=0;c>=g;g++)if(e(a,g)&&e(b,g))d=g;else if(a.charAt(g)!==b.charAt(g))break;var h=a.substr(0,d);return m(f(h)),h}function k(a,b,c,d,e,f){a=a||"",b=b||"",m(a!==b);var j=g(b,a);m(j||g(a,b));for(var k=0,l=j?h:i,n=a;;n=l(n,b)){var o;if(e&&n===a||f&&n===b||(o=c(n,j,d)),o===!1||n===b)break;m(k++<p)}}var l=a("./ReactRootIndex"),m=a("./invariant"),n=".",o=n.length,p=100,q={createReactRootID:function(){return d(l.createReactRootIndex())},createReactID:function(a,b){return a+b},getReactRootIDFromNodeID:function(a){if(a&&a.charAt(0)===n&&a.length>1){var b=a.indexOf(n,1);return b>-1?a.substr(0,b):a}return null},traverseEnterLeave:function(a,b,c,d,e){var f=j(a,b);f!==a&&k(a,f,c,d,!1,!0),f!==b&&k(f,b,c,e,!0,!1)},traverseTwoPhase:function(a,b,c){a&&(k("",a,b,c,!0,!1),k(a,"",b,c,!1,!0))},traverseAncestors:function(a,b,c){k("",a,b,c,!0,!1)},_getFirstCommonAncestorID:j,_getNextDescendantID:i,isAncestorIDOf:g,SEPARATOR:n};b.exports=q},{"./ReactRootIndex":96,"./invariant":148}],80:[function(a,b,c){"use strict";var d={remove:function(a){a._reactInternalInstance=void 0},get:function(a){return a._reactInternalInstance},has:function(a){return void 0!==a._reactInternalInstance},set:function(a,b){a._reactInternalInstance=b}};b.exports=d},{}],81:[function(a,b,c){"use strict";var d={currentlyMountingInstance:null,currentlyUnmountingInstance:null};b.exports=d},{}],82:[function(a,b,c){"use strict";var d=a("./adler32"),e={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(a){var b=d(a);return a.replace(">"," "+e.CHECKSUM_ATTR_NAME+'="'+b+'">')},canReuseMarkup:function(a,b){var c=b.getAttribute(e.CHECKSUM_ATTR_NAME);c=c&&parseInt(c,10);var f=d(a);return f===c}};b.exports=e},{"./adler32":119}],83:[function(a,b,c){"use strict";function d(a,b){for(var c=Math.min(a.length,b.length),d=0;c>d;d++)if(a.charAt(d)!==b.charAt(d))return d;return a.length===b.length?-1:c}function e(a){var b=D(a);return b&&R.getID(b)}function f(a){var b=g(a);if(b)if(K.hasOwnProperty(b)){var c=K[b];c!==a&&(F(!k(c,b)),K[b]=a)}else K[b]=a;return b}function g(a){return a&&a.getAttribute&&a.getAttribute(J)||""}function h(a,b){var c=g(a);c!==b&&delete K[c],a.setAttribute(J,b),K[b]=a}function i(a){return K.hasOwnProperty(a)&&k(K[a],a)||(K[a]=R.findReactNodeByID(a)),K[a]}function j(a){var b=v.get(a)._rootNodeID;return t.isNullComponentID(b)?null:(K.hasOwnProperty(b)&&k(K[b],b)||(K[b]=R.findReactNodeByID(b)),K[b])}function k(a,b){if(a){F(g(a)===b);var c=R.findReactContainerForID(b);if(c&&C(c,a))return!0}return!1}function l(a){delete K[a]}function m(a){var b=K[a];return b&&k(b,a)?void(Q=b):!1}function n(a){Q=null,u.traverseAncestors(a,m);var b=Q;return Q=null,b}function o(a,b,c,d,e){var f=y.mountComponent(a,b,d,B);a._isTopLevel=!0,R._mountImageIntoNode(f,c,e)}function p(a,b,c,d){var e=A.ReactReconcileTransaction.getPooled();e.perform(o,null,a,b,c,e,d),A.ReactReconcileTransaction.release(e)}var q=a("./DOMProperty"),r=a("./ReactBrowserEventEmitter"),s=(a("./ReactCurrentOwner"),a("./ReactElement")),t=(a("./ReactElementValidator"),a("./ReactEmptyComponent")),u=a("./ReactInstanceHandles"),v=a("./ReactInstanceMap"),w=a("./ReactMarkupChecksum"),x=a("./ReactPerf"),y=a("./ReactReconciler"),z=a("./ReactUpdateQueue"),A=a("./ReactUpdates"),B=a("./emptyObject"),C=a("./containsNode"),D=a("./getReactRootElementInContainer"),E=a("./instantiateReactComponent"),F=a("./invariant"),G=a("./setInnerHTML"),H=a("./shouldUpdateReactComponent"),I=(a("./warning"),u.SEPARATOR),J=q.ID_ATTRIBUTE_NAME,K={},L=1,M=9,N={},O={},P=[],Q=null,R={_instancesByReactRootID:N,scrollMonitor:function(a,b){b()},_updateRootComponent:function(a,b,c,d){return R.scrollMonitor(c,function(){z.enqueueElementInternal(a,b),d&&z.enqueueCallbackInternal(a,d)}),a},_registerComponent:function(a,b){F(b&&(b.nodeType===L||b.nodeType===M)),r.ensureScrollValueMonitoring();var c=R.registerContainer(b);return N[c]=a,c},_renderNewRootComponent:function(a,b,c){var d=E(a,null),e=R._registerComponent(d,b);return A.batchedUpdates(p,d,e,b,c),d},render:function(a,b,c){F(s.isValidElement(a));var d=N[e(b)];if(d){var f=d._currentElement;if(H(f,a))return R._updateRootComponent(d,a,b,c).getPublicInstance();R.unmountComponentAtNode(b)}var g=D(b),h=g&&R.isRenderedByReact(g),i=h&&!d,j=R._renderNewRootComponent(a,b,i).getPublicInstance();return c&&c.call(j),j},constructAndRenderComponent:function(a,b,c){var d=s.createElement(a,b);return R.render(d,c)},constructAndRenderComponentByID:function(a,b,c){var d=document.getElementById(c);return F(d),R.constructAndRenderComponent(a,b,d)},registerContainer:function(a){var b=e(a);return b&&(b=u.getReactRootIDFromNodeID(b)),b||(b=u.createReactRootID()),O[b]=a,b},unmountComponentAtNode:function(a){F(a&&(a.nodeType===L||a.nodeType===M));var b=e(a),c=N[b];return c?(R.unmountComponentFromNode(c,a),delete N[b],delete O[b],!0):!1},unmountComponentFromNode:function(a,b){for(y.unmountComponent(a),b.nodeType===M&&(b=b.documentElement);b.lastChild;)b.removeChild(b.lastChild)},findReactContainerForID:function(a){var b=u.getReactRootIDFromNodeID(a),c=O[b];return c},findReactNodeByID:function(a){var b=R.findReactContainerForID(a);return R.findComponentRoot(b,a)},isRenderedByReact:function(a){if(1!==a.nodeType)return!1;var b=R.getID(a);return b?b.charAt(0)===I:!1},getFirstReactDOM:function(a){for(var b=a;b&&b.parentNode!==b;){if(R.isRenderedByReact(b))return b;b=b.parentNode}return null},findComponentRoot:function(a,b){var c=P,d=0,e=n(b)||a;for(c[0]=e.firstChild,c.length=1;d<c.length;){for(var f,g=c[d++];g;){var h=R.getID(g);h?b===h?f=g:u.isAncestorIDOf(h,b)&&(c.length=d=0,c.push(g.firstChild)):c.push(g.firstChild),g=g.nextSibling}if(f)return c.length=0,f}c.length=0,F(!1)},_mountImageIntoNode:function(a,b,c){if(F(b&&(b.nodeType===L||b.nodeType===M)),c){var e=D(b);if(w.canReuseMarkup(a,e))return;var f=e.getAttribute(w.CHECKSUM_ATTR_NAME);e.removeAttribute(w.CHECKSUM_ATTR_NAME);var g=e.outerHTML;e.setAttribute(w.CHECKSUM_ATTR_NAME,f);var h=d(a,g);" (client) "+a.substring(h-20,h+20)+"\n (server) "+g.substring(h-20,h+20);F(b.nodeType!==M)}F(b.nodeType!==M),G(b,a)},getReactRootID:e,getID:f,setID:h,getNode:i,getNodeFromInstance:j,purgeID:l};x.measureMethods(R,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"}),b.exports=R},{"./DOMProperty":22,"./ReactBrowserEventEmitter":43,"./ReactCurrentOwner":52,"./ReactElement":70,"./ReactElementValidator":71,"./ReactEmptyComponent":72,"./ReactInstanceHandles":79,"./ReactInstanceMap":80,"./ReactMarkupChecksum":82,"./ReactPerf":88,"./ReactReconciler":94,"./ReactUpdateQueue":99,"./ReactUpdates":100,"./containsNode":122,"./emptyObject":128,"./getReactRootElementInContainer":142,"./instantiateReactComponent":147,"./invariant":148,"./setInnerHTML":161,"./shouldUpdateReactComponent":164,"./warning":167}],84:[function(a,b,c){"use strict";function d(a,b,c){o.push({parentID:a,parentNode:null,type:k.INSERT_MARKUP,markupIndex:p.push(b)-1,textContent:null,fromIndex:null,toIndex:c})}function e(a,b,c){o.push({parentID:a,parentNode:null,type:k.MOVE_EXISTING,markupIndex:null,textContent:null,fromIndex:b,toIndex:c})}function f(a,b){o.push({parentID:a,parentNode:null,type:k.REMOVE_NODE,markupIndex:null,textContent:null,fromIndex:b,toIndex:null})}function g(a,b){o.push({parentID:a,parentNode:null,type:k.TEXT_CONTENT,markupIndex:null,textContent:b,fromIndex:null,toIndex:null})}function h(){o.length&&(j.processChildrenUpdates(o,p),i())}function i(){o.length=0,p.length=0}var j=a("./ReactComponentEnvironment"),k=a("./ReactMultiChildUpdateTypes"),l=a("./ReactReconciler"),m=a("./ReactChildReconciler"),n=0,o=[],p=[],q={Mixin:{mountChildren:function(a,b,c){var d=m.instantiateChildren(a,b,c);this._renderedChildren=d;var e=[],f=0;for(var g in d)if(d.hasOwnProperty(g)){var h=d[g],i=this._rootNodeID+g,j=l.mountComponent(h,i,b,c);h._mountIndex=f,e.push(j),f++}return e},updateTextContent:function(a){n++;var b=!0;try{var c=this._renderedChildren;m.unmountChildren(c);for(var d in c)c.hasOwnProperty(d)&&this._unmountChildByName(c[d],d);this.setTextContent(a),b=!1}finally{n--,n||(b?i():h())}},updateChildren:function(a,b,c){n++;var d=!0;try{this._updateChildren(a,b,c),d=!1}finally{n--,n||(d?i():h())}},_updateChildren:function(a,b,c){var d=this._renderedChildren,e=m.updateChildren(d,a,b,c);if(this._renderedChildren=e,e||d){var f,g=0,h=0;for(f in e)if(e.hasOwnProperty(f)){var i=d&&d[f],j=e[f];i===j?(this.moveChild(i,h,g),g=Math.max(i._mountIndex,g),i._mountIndex=h):(i&&(g=Math.max(i._mountIndex,g),this._unmountChildByName(i,f)),this._mountChildByNameAtIndex(j,f,h,b,c)),h++}for(f in d)!d.hasOwnProperty(f)||e&&e.hasOwnProperty(f)||this._unmountChildByName(d[f],f)}},unmountChildren:function(){var a=this._renderedChildren;m.unmountChildren(a),this._renderedChildren=null},moveChild:function(a,b,c){a._mountIndex<c&&e(this._rootNodeID,a._mountIndex,b)},createChild:function(a,b){d(this._rootNodeID,b,a._mountIndex)},removeChild:function(a){f(this._rootNodeID,a._mountIndex)},setTextContent:function(a){g(this._rootNodeID,a)},_mountChildByNameAtIndex:function(a,b,c,d,e){var f=this._rootNodeID+b,g=l.mountComponent(a,f,d,e);a._mountIndex=c,this.createChild(a,g)},_unmountChildByName:function(a,b){this.removeChild(a),a._mountIndex=null}}};b.exports=q},{"./ReactChildReconciler":44,"./ReactComponentEnvironment":49,"./ReactMultiChildUpdateTypes":85,"./ReactReconciler":94}],85:[function(a,b,c){"use strict";var d=a("./keyMirror"),e=d({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,TEXT_CONTENT:null});b.exports=e},{"./keyMirror":153}],86:[function(a,b,c){"use strict";function d(a){if("function"==typeof a.type)return a.type;var b=a.type,c=l[b];return null==c&&(l[b]=c=j(b)),c}function e(a){return i(k),new k(a.type,a.props)}function f(a){return new m(a)}function g(a){return a instanceof m}var h=a("./Object.assign"),i=a("./invariant"),j=null,k=null,l={},m=null,n={injectGenericComponentClass:function(a){k=a},injectTextComponentClass:function(a){m=a},injectComponentClasses:function(a){h(l,a)},injectAutoWrapper:function(a){j=a}},o={getComponentClassForElement:d,createInternalComponent:e,createInstanceForText:f,isTextComponent:g,injection:n};b.exports=o},{"./Object.assign":39,"./invariant":148}],87:[function(a,b,c){"use strict";var d=a("./invariant"),e={isValidOwner:function(a){return!(!a||"function"!=typeof a.attachRef||"function"!=typeof a.detachRef)},addComponentAsRefTo:function(a,b,c){d(e.isValidOwner(c)),c.attachRef(b,a)},removeComponentAsRefFrom:function(a,b,c){d(e.isValidOwner(c)),c.getPublicInstance().refs[b]===a.getPublicInstance()&&c.detachRef(b)}};b.exports=e},{"./invariant":148}],88:[function(a,b,c){"use strict";function d(a,b,c){return c}var e={enableMeasure:!1,storedMeasure:d,measureMethods:function(a,b,c){},measure:function(a,b,c){return c},injection:{injectMeasure:function(a){e.storedMeasure=a}}};b.exports=e},{}],89:[function(a,b,c){"use strict";var d={};b.exports=d},{}],90:[function(a,b,c){"use strict";var d=a("./keyMirror"),e=d({prop:null,context:null,childContext:null});b.exports=e},{"./keyMirror":153}],91:[function(a,b,c){"use strict";function d(a){function b(b,c,d,e,f){if(e=e||v,null==c[d]){var g=t[f];return b?new Error("Required "+g+" `"+d+"` was not specified in "+("`"+e+"`.")):null}return a(c,d,e,f)}var c=b.bind(null,!1);return c.isRequired=b.bind(null,!0),c}function e(a){function b(b,c,d,e){var f=b[c],g=p(f);if(g!==a){var h=t[e],i=q(f);return new Error("Invalid "+h+" `"+c+"` of type `"+i+"` "+("supplied to `"+d+"`, expected `"+a+"`."))}return null}return d(b)}function f(){return d(u.thatReturns(null))}function g(a){function b(b,c,d,e){var f=b[c];if(!Array.isArray(f)){var g=t[e],h=p(f);return new Error("Invalid "+g+" `"+c+"` of type "+("`"+h+"` supplied to `"+d+"`, expected an array."))}for(var i=0;i<f.length;i++){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return d(b)}function h(){function a(a,b,c,d){if(!r.isValidElement(a[b])){var e=t[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactElement."))}return null}return d(a)}function i(a){function b(b,c,d,e){if(!(b[c]instanceof a)){var f=t[e],g=a.name||v;return new Error("Invalid "+f+" `"+c+"` supplied to "+("`"+d+"`, expected instance of `"+g+"`."))}return null}return d(b)}function j(a){function b(b,c,d,e){for(var f=b[c],g=0;g<a.length;g++)if(f===a[g])return null;var h=t[e],i=JSON.stringify(a);return new Error("Invalid "+h+" `"+c+"` of value `"+f+"` "+("supplied to `"+d+"`, expected one of "+i+"."))}return d(b)}function k(a){function b(b,c,d,e){var f=b[c],g=p(f);if("object"!==g){var h=t[e];return new Error("Invalid "+h+" `"+c+"` of type "+("`"+g+"` supplied to `"+d+"`, expected an object."))}for(var i in f)if(f.hasOwnProperty(i)){var j=a(f,i,d,e);if(j instanceof Error)return j}return null}return d(b)}function l(a){function b(b,c,d,e){for(var f=0;f<a.length;f++){var g=a[f];if(null==g(b,c,d,e))return null}var h=t[e];return new Error("Invalid "+h+" `"+c+"` supplied to "+("`"+d+"`."))}return d(b)}function m(){function a(a,b,c,d){if(!o(a[b])){var e=t[d];return new Error("Invalid "+e+" `"+b+"` supplied to "+("`"+c+"`, expected a ReactNode."))}return null}return d(a)}function n(a){function b(b,c,d,e){var f=b[c],g=p(f);if("object"!==g){var h=t[e];return new Error("Invalid "+h+" `"+c+"` of type `"+g+"` "+("supplied to `"+d+"`, expected `object`."))}for(var i in a){var j=a[i];if(j){var k=j(f,i,d,e);if(k)return k}}return null}return d(b)}function o(a){switch(typeof a){case"number":case"string":case"undefined":return!0;case"boolean":return!a;case"object":if(Array.isArray(a))return a.every(o);if(null===a||r.isValidElement(a))return!0;a=s.extractIfFragment(a);for(var b in a)if(!o(a[b]))return!1;return!0;default:return!1}}function p(a){var b=typeof a;return Array.isArray(a)?"array":a instanceof RegExp?"object":b}function q(a){var b=p(a);if("object"===b){if(a instanceof Date)return"date";if(a instanceof RegExp)return"regexp"}return b}var r=a("./ReactElement"),s=a("./ReactFragment"),t=a("./ReactPropTypeLocationNames"),u=a("./emptyFunction"),v="<<anonymous>>",w=h(),x=m(),y={array:e("array"),bool:e("boolean"),func:e("function"),number:e("number"),object:e("object"),string:e("string"),any:f(),arrayOf:g,element:w,instanceOf:i,node:x,objectOf:k,oneOf:j,oneOfType:l,shape:n};b.exports=y},{"./ReactElement":70,"./ReactFragment":76,"./ReactPropTypeLocationNames":89,"./emptyFunction":127}],92:[function(a,b,c){"use strict";function d(){this.listenersToPut=[]}var e=a("./PooledClass"),f=a("./ReactBrowserEventEmitter"),g=a("./Object.assign");g(d.prototype,{enqueuePutListener:function(a,b,c){this.listenersToPut.push({rootNodeID:a,propKey:b,propValue:c})},putListeners:function(){for(var a=0;a<this.listenersToPut.length;a++){var b=this.listenersToPut[a];f.putListener(b.rootNodeID,b.propKey,b.propValue)}},reset:function(){this.listenersToPut.length=0},destructor:function(){this.reset()}}),e.addPoolingTo(d),b.exports=d},{"./Object.assign":39,"./PooledClass":40,"./ReactBrowserEventEmitter":43}],93:[function(a,b,c){"use strict";function d(){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=e.getPooled(null),this.putListenerQueue=i.getPooled()}var e=a("./CallbackQueue"),f=a("./PooledClass"),g=a("./ReactBrowserEventEmitter"),h=a("./ReactInputSelection"),i=a("./ReactPutListenerQueue"),j=a("./Transaction"),k=a("./Object.assign"),l={initialize:h.getSelectionInformation,close:h.restoreSelection},m={initialize:function(){var a=g.isEnabled();return g.setEnabled(!1),a},close:function(a){g.setEnabled(a)}},n={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},o={initialize:function(){this.putListenerQueue.reset()},close:function(){this.putListenerQueue.putListeners()}},p=[o,l,m,n],q={getTransactionWrappers:function(){return p},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){e.release(this.reactMountReady),this.reactMountReady=null,i.release(this.putListenerQueue),this.putListenerQueue=null}};k(d.prototype,j.Mixin,q),f.addPoolingTo(d),b.exports=d},{"./CallbackQueue":18,"./Object.assign":39,"./PooledClass":40,"./ReactBrowserEventEmitter":43,"./ReactInputSelection":78,"./ReactPutListenerQueue":92,"./Transaction":116}],94:[function(a,b,c){"use strict";function d(){e.attachRefs(this,this._currentElement)}var e=a("./ReactRef"),f=(a("./ReactElementValidator"),{mountComponent:function(a,b,c,e){var f=a.mountComponent(b,c,e);return c.getReactMountReady().enqueue(d,a),f},unmountComponent:function(a){e.detachRefs(a,a._currentElement),a.unmountComponent()},receiveComponent:function(a,b,c,f){var g=a._currentElement;if(b!==g||null==b._owner){var h=e.shouldUpdateRefs(g,b);h&&e.detachRefs(a,g),a.receiveComponent(b,c,f),h&&c.getReactMountReady().enqueue(d,a)}},performUpdateIfNecessary:function(a,b){a.performUpdateIfNecessary(b)}});b.exports=f},{"./ReactElementValidator":71,"./ReactRef":95}],95:[function(a,b,c){"use strict";function d(a,b,c){"function"==typeof a?a(b.getPublicInstance()):f.addComponentAsRefTo(b,a,c)}function e(a,b,c){"function"==typeof a?a(null):f.removeComponentAsRefFrom(b,a,c)}var f=a("./ReactOwner"),g={};g.attachRefs=function(a,b){var c=b.ref;null!=c&&d(c,a,b._owner)},g.shouldUpdateRefs=function(a,b){return b._owner!==a._owner||b.ref!==a.ref},g.detachRefs=function(a,b){var c=b.ref;null!=c&&e(c,a,b._owner)},b.exports=g},{"./ReactOwner":87}],96:[function(a,b,c){"use strict";var d={injectCreateReactRootIndex:function(a){e.createReactRootIndex=a}},e={createReactRootIndex:null,injection:d};b.exports=e},{}],97:[function(a,b,c){"use strict";function d(a){l(f.isValidElement(a));var b;try{var c=g.createReactRootID();return b=i.getPooled(!1),b.perform(function(){var d=k(a,null),e=d.mountComponent(c,b,j);return h.addChecksumToMarkup(e)},null)}finally{i.release(b)}}function e(a){l(f.isValidElement(a));var b;try{var c=g.createReactRootID();return b=i.getPooled(!0),b.perform(function(){var d=k(a,null);return d.mountComponent(c,b,j)},null)}finally{i.release(b)}}var f=a("./ReactElement"),g=a("./ReactInstanceHandles"),h=a("./ReactMarkupChecksum"),i=a("./ReactServerRenderingTransaction"),j=a("./emptyObject"),k=a("./instantiateReactComponent"),l=a("./invariant");b.exports={renderToString:d,renderToStaticMarkup:e}},{"./ReactElement":70,"./ReactInstanceHandles":79,"./ReactMarkupChecksum":82,"./ReactServerRenderingTransaction":98,"./emptyObject":128,"./instantiateReactComponent":147,"./invariant":148}],98:[function(a,b,c){"use strict";function d(a){this.reinitializeTransaction(),this.renderToStaticMarkup=a,this.reactMountReady=f.getPooled(null),this.putListenerQueue=g.getPooled()}var e=a("./PooledClass"),f=a("./CallbackQueue"),g=a("./ReactPutListenerQueue"),h=a("./Transaction"),i=a("./Object.assign"),j=a("./emptyFunction"),k={initialize:function(){this.reactMountReady.reset()},close:j},l={initialize:function(){this.putListenerQueue.reset()},close:j},m=[l,k],n={getTransactionWrappers:function(){return m},getReactMountReady:function(){return this.reactMountReady},getPutListenerQueue:function(){return this.putListenerQueue},destructor:function(){f.release(this.reactMountReady),this.reactMountReady=null,g.release(this.putListenerQueue),this.putListenerQueue=null}};i(d.prototype,h.Mixin,n),e.addPoolingTo(d),b.exports=d},{"./CallbackQueue":18,"./Object.assign":39,"./PooledClass":40,"./ReactPutListenerQueue":92,"./Transaction":116,"./emptyFunction":127}],99:[function(a,b,c){"use strict";function d(a){a!==f.currentlyMountingInstance&&j.enqueueUpdate(a)}function e(a,b){l(null==g.current);var c=i.get(a);return c?c===f.currentlyUnmountingInstance?null:c:null}var f=a("./ReactLifeCycle"),g=a("./ReactCurrentOwner"),h=a("./ReactElement"),i=a("./ReactInstanceMap"),j=a("./ReactUpdates"),k=a("./Object.assign"),l=a("./invariant"),m=(a("./warning"),{enqueueCallback:function(a,b){l("function"==typeof b);var c=e(a);return c&&c!==f.currentlyMountingInstance?(c._pendingCallbacks?c._pendingCallbacks.push(b):c._pendingCallbacks=[b],void d(c)):null},enqueueCallbackInternal:function(a,b){l("function"==typeof b),a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b],d(a)},enqueueForceUpdate:function(a){var b=e(a,"forceUpdate");b&&(b._pendingForceUpdate=!0,d(b))},enqueueReplaceState:function(a,b){var c=e(a,"replaceState");c&&(c._pendingStateQueue=[b],c._pendingReplaceState=!0,d(c))},enqueueSetState:function(a,b){var c=e(a,"setState");if(c){var f=c._pendingStateQueue||(c._pendingStateQueue=[]);f.push(b),d(c)}},enqueueSetProps:function(a,b){var c=e(a,"setProps");if(c){l(c._isTopLevel);var f=c._pendingElement||c._currentElement,g=k({},f.props,b);c._pendingElement=h.cloneAndReplaceProps(f,g),d(c)}},enqueueReplaceProps:function(a,b){var c=e(a,"replaceProps");if(c){l(c._isTopLevel);var f=c._pendingElement||c._currentElement;c._pendingElement=h.cloneAndReplaceProps(f,b),d(c)}},enqueueElementInternal:function(a,b){a._pendingElement=b,d(a)}});b.exports=m},{"./Object.assign":39,"./ReactCurrentOwner":52,"./ReactElement":70,"./ReactInstanceMap":80,"./ReactLifeCycle":81,"./ReactUpdates":100,"./invariant":148,"./warning":167}],100:[function(a,b,c){"use strict";function d(){q(A.ReactReconcileTransaction&&u)}function e(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=k.getPooled(),this.reconcileTransaction=A.ReactReconcileTransaction.getPooled()}function f(a,b,c,e,f){d(),u.batchedUpdates(a,b,c,e,f)}function g(a,b){return a._mountOrder-b._mountOrder}function h(a){var b=a.dirtyComponentsLength;q(b===r.length),r.sort(g);for(var c=0;b>c;c++){var d=r[c],e=d._pendingCallbacks;if(d._pendingCallbacks=null,n.performUpdateIfNecessary(d,a.reconcileTransaction),e)for(var f=0;f<e.length;f++)a.callbackQueue.enqueue(e[f],d.getPublicInstance())}}function i(a){return d(),u.isBatchingUpdates?void r.push(a):void u.batchedUpdates(i,a)}function j(a,b){q(u.isBatchingUpdates),s.enqueue(a,b),t=!0}var k=a("./CallbackQueue"),l=a("./PooledClass"),m=(a("./ReactCurrentOwner"),a("./ReactPerf")),n=a("./ReactReconciler"),o=a("./Transaction"),p=a("./Object.assign"),q=a("./invariant"),r=(a("./warning"),[]),s=k.getPooled(),t=!1,u=null,v={initialize:function(){this.dirtyComponentsLength=r.length},close:function(){this.dirtyComponentsLength!==r.length?(r.splice(0,this.dirtyComponentsLength),y()):r.length=0}},w={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},x=[v,w];p(e.prototype,o.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,k.release(this.callbackQueue),this.callbackQueue=null,A.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(a,b,c){return o.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,b,c)}}),l.addPoolingTo(e);var y=function(){for(;r.length||t;){if(r.length){var a=e.getPooled();a.perform(h,null,a),e.release(a)}if(t){t=!1;var b=s;s=k.getPooled(),b.notifyAll(),k.release(b)}}};y=m.measure("ReactUpdates","flushBatchedUpdates",y);var z={injectReconcileTransaction:function(a){q(a),A.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){q(a),q("function"==typeof a.batchedUpdates),q("boolean"==typeof a.isBatchingUpdates),u=a}},A={ReactReconcileTransaction:null,batchedUpdates:f,enqueueUpdate:i,flushBatchedUpdates:y,injection:z,asap:j};b.exports=A},{"./CallbackQueue":18,"./Object.assign":39,"./PooledClass":40,"./ReactCurrentOwner":52,"./ReactPerf":88,"./ReactReconciler":94,"./Transaction":116,"./invariant":148,"./warning":167}],101:[function(a,b,c){"use strict";var d=a("./DOMProperty"),e=d.injection.MUST_USE_ATTRIBUTE,f={Properties:{clipPath:e,cx:e,cy:e,d:e,dx:e,dy:e,fill:e,fillOpacity:e,fontFamily:e,fontSize:e,fx:e,fy:e,gradientTransform:e,gradientUnits:e,markerEnd:e,markerMid:e,markerStart:e,offset:e,opacity:e,patternContentUnits:e,patternUnits:e,points:e,preserveAspectRatio:e,r:e,rx:e,ry:e,spreadMethod:e,stopColor:e,stopOpacity:e,stroke:e,strokeDasharray:e,strokeLinecap:e,strokeOpacity:e,strokeWidth:e,textAnchor:e,transform:e,version:e,viewBox:e,x1:e,x2:e,x:e,y1:e,y2:e,y:e},DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox"}};b.exports=f},{"./DOMProperty":22}],102:[function(a,b,c){"use strict";function d(a){if("selectionStart"in a&&h.hasSelectionCapabilities(a))return{start:a.selectionStart,end:a.selectionEnd};if(window.getSelection){var b=window.getSelection();return{anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}}if(document.selection){var c=document.selection.createRange();return{parentElement:c.parentElement(),text:c.text,top:c.boundingTop,left:c.boundingLeft}}}function e(a){if(s||null==p||p!==j())return null;var b=d(p);if(!r||!m(r,b)){r=b;var c=i.getPooled(o.select,q,a);return c.type="select",c.target=p,g.accumulateTwoPhaseDispatches(c),c}}var f=a("./EventConstants"),g=a("./EventPropagators"),h=a("./ReactInputSelection"),i=a("./SyntheticEvent"),j=a("./getActiveElement"),k=a("./isTextInputElement"),l=a("./keyOf"),m=a("./shallowEqual"),n=f.topLevelTypes,o={select:{phasedRegistrationNames:{bubbled:l({onSelect:null}),captured:l({onSelectCapture:null})},dependencies:[n.topBlur,n.topContextMenu,n.topFocus,n.topKeyDown,n.topMouseDown,n.topMouseUp,n.topSelectionChange]}},p=null,q=null,r=null,s=!1,t={eventTypes:o,extractEvents:function(a,b,c,d){switch(a){case n.topFocus:(k(b)||"true"===b.contentEditable)&&(p=b,q=c,r=null);break;case n.topBlur:p=null,q=null,r=null;break;case n.topMouseDown:s=!0;break;case n.topContextMenu:case n.topMouseUp:return s=!1,e(d);case n.topSelectionChange:case n.topKeyDown:case n.topKeyUp:return e(d)}}};b.exports=t},{"./EventConstants":27,"./EventPropagators":32,"./ReactInputSelection":78,"./SyntheticEvent":108,"./getActiveElement":134,"./isTextInputElement":151,"./keyOf":154,"./shallowEqual":163}],103:[function(a,b,c){"use strict";var d=Math.pow(2,53),e={createReactRootIndex:function(){return Math.ceil(Math.random()*d)}};b.exports=e},{}],104:[function(a,b,c){"use strict";var d=a("./EventConstants"),e=a("./EventPluginUtils"),f=a("./EventPropagators"),g=a("./SyntheticClipboardEvent"),h=a("./SyntheticEvent"),i=a("./SyntheticFocusEvent"),j=a("./SyntheticKeyboardEvent"),k=a("./SyntheticMouseEvent"),l=a("./SyntheticDragEvent"),m=a("./SyntheticTouchEvent"),n=a("./SyntheticUIEvent"),o=a("./SyntheticWheelEvent"),p=a("./getEventCharCode"),q=a("./invariant"),r=a("./keyOf"),s=(a("./warning"),d.topLevelTypes),t={blur:{phasedRegistrationNames:{bubbled:r({onBlur:!0}),captured:r({onBlurCapture:!0})}},click:{phasedRegistrationNames:{bubbled:r({onClick:!0}),captured:r({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:r({onContextMenu:!0}),captured:r({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:r({onCopy:!0}),captured:r({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:r({onCut:!0}),captured:r({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:r({onDoubleClick:!0}),captured:r({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:r({onDrag:!0}),captured:r({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:r({onDragEnd:!0}),captured:r({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:r({onDragEnter:!0}),captured:r({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:r({onDragExit:!0}),captured:r({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:r({onDragLeave:!0}),captured:r({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:r({onDragOver:!0}),captured:r({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:r({onDragStart:!0}),captured:r({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:r({onDrop:!0}),captured:r({onDropCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:r({onFocus:!0}),captured:r({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:r({onInput:!0}),captured:r({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:r({onKeyDown:!0}),captured:r({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:r({onKeyPress:!0}),captured:r({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:r({onKeyUp:!0}),captured:r({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:r({onLoad:!0}),captured:r({onLoadCapture:!0})}},error:{phasedRegistrationNames:{bubbled:r({onError:!0}),captured:r({onErrorCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:r({onMouseDown:!0}),captured:r({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:r({onMouseMove:!0}),captured:r({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:r({onMouseOut:!0}),captured:r({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:r({onMouseOver:!0}),captured:r({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:r({onMouseUp:!0}),captured:r({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:r({onPaste:!0}),captured:r({onPasteCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:r({onReset:!0}),captured:r({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:r({onScroll:!0}),captured:r({onScrollCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:r({onSubmit:!0}),captured:r({onSubmitCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:r({onTouchCancel:!0}),captured:r({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:r({onTouchEnd:!0}),captured:r({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:r({onTouchMove:!0}),captured:r({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{
bubbled:r({onTouchStart:!0}),captured:r({onTouchStartCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:r({onWheel:!0}),captured:r({onWheelCapture:!0})}}},u={topBlur:t.blur,topClick:t.click,topContextMenu:t.contextMenu,topCopy:t.copy,topCut:t.cut,topDoubleClick:t.doubleClick,topDrag:t.drag,topDragEnd:t.dragEnd,topDragEnter:t.dragEnter,topDragExit:t.dragExit,topDragLeave:t.dragLeave,topDragOver:t.dragOver,topDragStart:t.dragStart,topDrop:t.drop,topError:t.error,topFocus:t.focus,topInput:t.input,topKeyDown:t.keyDown,topKeyPress:t.keyPress,topKeyUp:t.keyUp,topLoad:t.load,topMouseDown:t.mouseDown,topMouseMove:t.mouseMove,topMouseOut:t.mouseOut,topMouseOver:t.mouseOver,topMouseUp:t.mouseUp,topPaste:t.paste,topReset:t.reset,topScroll:t.scroll,topSubmit:t.submit,topTouchCancel:t.touchCancel,topTouchEnd:t.touchEnd,topTouchMove:t.touchMove,topTouchStart:t.touchStart,topWheel:t.wheel};for(var v in u)u[v].dependencies=[v];var w={eventTypes:t,executeDispatch:function(a,b,c){var d=e.executeDispatch(a,b,c);d===!1&&(a.stopPropagation(),a.preventDefault())},extractEvents:function(a,b,c,d){var e=u[a];if(!e)return null;var r;switch(a){case s.topInput:case s.topLoad:case s.topError:case s.topReset:case s.topSubmit:r=h;break;case s.topKeyPress:if(0===p(d))return null;case s.topKeyDown:case s.topKeyUp:r=j;break;case s.topBlur:case s.topFocus:r=i;break;case s.topClick:if(2===d.button)return null;case s.topContextMenu:case s.topDoubleClick:case s.topMouseDown:case s.topMouseMove:case s.topMouseOut:case s.topMouseOver:case s.topMouseUp:r=k;break;case s.topDrag:case s.topDragEnd:case s.topDragEnter:case s.topDragExit:case s.topDragLeave:case s.topDragOver:case s.topDragStart:case s.topDrop:r=l;break;case s.topTouchCancel:case s.topTouchEnd:case s.topTouchMove:case s.topTouchStart:r=m;break;case s.topScroll:r=n;break;case s.topWheel:r=o;break;case s.topCopy:case s.topCut:case s.topPaste:r=g}q(r);var t=r.getPooled(e,c,d);return f.accumulateTwoPhaseDispatches(t),t}};b.exports=w},{"./EventConstants":27,"./EventPluginUtils":31,"./EventPropagators":32,"./SyntheticClipboardEvent":105,"./SyntheticDragEvent":107,"./SyntheticEvent":108,"./SyntheticFocusEvent":109,"./SyntheticKeyboardEvent":111,"./SyntheticMouseEvent":112,"./SyntheticTouchEvent":113,"./SyntheticUIEvent":114,"./SyntheticWheelEvent":115,"./getEventCharCode":135,"./invariant":148,"./keyOf":154,"./warning":167}],105:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f={clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}};e.augmentClass(d,f),b.exports=d},{"./SyntheticEvent":108}],106:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f={data:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticEvent":108}],107:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticMouseEvent"),f={dataTransfer:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticMouseEvent":112}],108:[function(a,b,c){"use strict";function d(a,b,c){this.dispatchConfig=a,this.dispatchMarker=b,this.nativeEvent=c;var d=this.constructor.Interface;for(var e in d)if(d.hasOwnProperty(e)){var f=d[e];f?this[e]=f(c):this[e]=c[e]}var h=null!=c.defaultPrevented?c.defaultPrevented:c.returnValue===!1;h?this.isDefaultPrevented=g.thatReturnsTrue:this.isDefaultPrevented=g.thatReturnsFalse,this.isPropagationStopped=g.thatReturnsFalse}var e=a("./PooledClass"),f=a("./Object.assign"),g=a("./emptyFunction"),h=a("./getEventTarget"),i={type:null,target:h,currentTarget:g.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};f(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=g.thatReturnsTrue},stopPropagation:function(){var a=this.nativeEvent;a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=g.thatReturnsTrue},persist:function(){this.isPersistent=g.thatReturnsTrue},isPersistent:g.thatReturnsFalse,destructor:function(){var a=this.constructor.Interface;for(var b in a)this[b]=null;this.dispatchConfig=null,this.dispatchMarker=null,this.nativeEvent=null}}),d.Interface=i,d.augmentClass=function(a,b){var c=this,d=Object.create(c.prototype);f(d,a.prototype),a.prototype=d,a.prototype.constructor=a,a.Interface=f({},c.Interface,b),a.augmentClass=c.augmentClass,e.addPoolingTo(a,e.threeArgumentPooler)},e.addPoolingTo(d,e.threeArgumentPooler),b.exports=d},{"./Object.assign":39,"./PooledClass":40,"./emptyFunction":127,"./getEventTarget":138}],109:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f={relatedTarget:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticUIEvent":114}],110:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f={data:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticEvent":108}],111:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f=a("./getEventCharCode"),g=a("./getEventKey"),h=a("./getEventModifierState"),i={key:g,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:h,charCode:function(a){return"keypress"===a.type?f(a):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(a){return"keypress"===a.type?f(a):"keydown"===a.type||"keyup"===a.type?a.keyCode:0}};e.augmentClass(d,i),b.exports=d},{"./SyntheticUIEvent":114,"./getEventCharCode":135,"./getEventKey":136,"./getEventModifierState":137}],112:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f=a("./ViewportMetrics"),g=a("./getEventModifierState"),h={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:g,button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(a){return"pageX"in a?a.pageX:a.clientX+f.currentScrollLeft},pageY:function(a){return"pageY"in a?a.pageY:a.clientY+f.currentScrollTop}};e.augmentClass(d,h),b.exports=d},{"./SyntheticUIEvent":114,"./ViewportMetrics":117,"./getEventModifierState":137}],113:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticUIEvent"),f=a("./getEventModifierState"),g={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:f};e.augmentClass(d,g),b.exports=d},{"./SyntheticUIEvent":114,"./getEventModifierState":137}],114:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticEvent"),f=a("./getEventTarget"),g={view:function(a){if(a.view)return a.view;var b=f(a);if(null!=b&&b.window===b)return b;var c=b.ownerDocument;return c?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}};e.augmentClass(d,g),b.exports=d},{"./SyntheticEvent":108,"./getEventTarget":138}],115:[function(a,b,c){"use strict";function d(a,b,c){e.call(this,a,b,c)}var e=a("./SyntheticMouseEvent"),f={deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null};e.augmentClass(d,f),b.exports=d},{"./SyntheticMouseEvent":112}],116:[function(a,b,c){"use strict";var d=a("./invariant"),e={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,b,c,e,f,g,h,i){d(!this.isInTransaction());var j,k;try{this._isInTransaction=!0,j=!0,this.initializeAll(0),k=a.call(b,c,e,f,g,h,i),j=!1}finally{try{if(j)try{this.closeAll(0)}catch(l){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return k},initializeAll:function(a){for(var b=this.transactionWrappers,c=a;c<b.length;c++){var d=b[c];try{this.wrapperInitData[c]=f.OBSERVED_ERROR,this.wrapperInitData[c]=d.initialize?d.initialize.call(this):null}finally{if(this.wrapperInitData[c]===f.OBSERVED_ERROR)try{this.initializeAll(c+1)}catch(e){}}}},closeAll:function(a){d(this.isInTransaction());for(var b=this.transactionWrappers,c=a;c<b.length;c++){var e,g=b[c],h=this.wrapperInitData[c];try{e=!0,h!==f.OBSERVED_ERROR&&g.close&&g.close.call(this,h),e=!1}finally{if(e)try{this.closeAll(c+1)}catch(i){}}}this.wrapperInitData.length=0}},f={Mixin:e,OBSERVED_ERROR:{}};b.exports=f},{"./invariant":148}],117:[function(a,b,c){"use strict";var d={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(a){d.currentScrollLeft=a.x,d.currentScrollTop=a.y}};b.exports=d},{}],118:[function(a,b,c){"use strict";function d(a,b){if(e(null!=b),null==a)return b;var c=Array.isArray(a),d=Array.isArray(b);return c&&d?(a.push.apply(a,b),a):c?(a.push(b),a):d?[a].concat(b):[a,b]}var e=a("./invariant");b.exports=d},{"./invariant":148}],119:[function(a,b,c){"use strict";function d(a){for(var b=1,c=0,d=0;d<a.length;d++)b=(b+a.charCodeAt(d))%e,c=(c+b)%e;return b|c<<16}var e=65521;b.exports=d},{}],120:[function(a,b,c){function d(a){return a.replace(e,function(a,b){return b.toUpperCase()})}var e=/-(.)/g;b.exports=d},{}],121:[function(a,b,c){"use strict";function d(a){return e(a.replace(f,"ms-"))}var e=a("./camelize"),f=/^-ms-/;b.exports=d},{"./camelize":120}],122:[function(a,b,c){function d(a,b){return a&&b?a===b?!0:e(a)?!1:e(b)?d(a,b.parentNode):a.contains?a.contains(b):a.compareDocumentPosition?!!(16&a.compareDocumentPosition(b)):!1:!1}var e=a("./isTextNode");b.exports=d},{"./isTextNode":152}],123:[function(a,b,c){function d(a){return!!a&&("object"==typeof a||"function"==typeof a)&&"length"in a&&!("setInterval"in a)&&"number"!=typeof a.nodeType&&(Array.isArray(a)||"callee"in a||"item"in a)}function e(a){return d(a)?Array.isArray(a)?a.slice():f(a):[a]}var f=a("./toArray");b.exports=e},{"./toArray":165}],124:[function(a,b,c){"use strict";function d(a){var b=f.createFactory(a),c=e.createClass({tagName:a.toUpperCase(),displayName:"ReactFullPageComponent"+a,componentWillUnmount:function(){g(!1)},render:function(){return b(this.props)}});return c}var e=a("./ReactClass"),f=a("./ReactElement"),g=a("./invariant");b.exports=d},{"./ReactClass":46,"./ReactElement":70,"./invariant":148}],125:[function(a,b,c){function d(a){var b=a.match(k);return b&&b[1].toLowerCase()}function e(a,b){var c=j;i(!!j);var e=d(a),f=e&&h(e);if(f){c.innerHTML=f[1]+a+f[2];for(var k=f[0];k--;)c=c.lastChild}else c.innerHTML=a;var l=c.getElementsByTagName("script");l.length&&(i(b),g(l).forEach(b));for(var m=g(c.childNodes);c.lastChild;)c.removeChild(c.lastChild);return m}var f=a("./ExecutionEnvironment"),g=a("./createArrayFromMixed"),h=a("./getMarkupWrap"),i=a("./invariant"),j=f.canUseDOM?document.createElement("div"):null,k=/^\s*<(\w+)/;b.exports=e},{"./ExecutionEnvironment":33,"./createArrayFromMixed":123,"./getMarkupWrap":140,"./invariant":148}],126:[function(a,b,c){"use strict";function d(a,b){var c=null==b||"boolean"==typeof b||""===b;if(c)return"";var d=isNaN(b);return d||0===b||f.hasOwnProperty(a)&&f[a]?""+b:("string"==typeof b&&(b=b.trim()),b+"px")}var e=a("./CSSProperty"),f=e.isUnitlessNumber;b.exports=d},{"./CSSProperty":16}],127:[function(a,b,c){function d(a){return function(){return a}}function e(){}e.thatReturns=d,e.thatReturnsFalse=d(!1),e.thatReturnsTrue=d(!0),e.thatReturnsNull=d(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(a){return a},b.exports=e},{}],128:[function(a,b,c){"use strict";var d={};b.exports=d},{}],129:[function(a,b,c){"use strict";function d(a){return f[a]}function e(a){return(""+a).replace(g,d)}var f={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},g=/[&><"']/g;b.exports=e},{}],130:[function(a,b,c){"use strict";function d(a){return null==a?null:h(a)?a:e.has(a)?f.getNodeFromInstance(a):(g(null==a.render||"function"!=typeof a.render),void g(!1))}var e=(a("./ReactCurrentOwner"),a("./ReactInstanceMap")),f=a("./ReactMount"),g=a("./invariant"),h=a("./isNode");a("./warning");b.exports=d},{"./ReactCurrentOwner":52,"./ReactInstanceMap":80,"./ReactMount":83,"./invariant":148,"./isNode":150,"./warning":167}],131:[function(a,b,c){"use strict";function d(a,b,c){var d=a,e=!d.hasOwnProperty(c);e&&null!=b&&(d[c]=b)}function e(a){if(null==a)return a;var b={};return f(a,d,b),b}var f=a("./traverseAllChildren");a("./warning");b.exports=e},{"./traverseAllChildren":166,"./warning":167}],132:[function(a,b,c){"use strict";function d(a){try{a.focus()}catch(b){}}b.exports=d},{}],133:[function(a,b,c){"use strict";var d=function(a,b,c){Array.isArray(a)?a.forEach(b,c):a&&b.call(c,a)};b.exports=d},{}],134:[function(a,b,c){function d(){try{return document.activeElement||document.body}catch(a){return document.body}}b.exports=d},{}],135:[function(a,b,c){"use strict";function d(a){var b,c=a.keyCode;return"charCode"in a?(b=a.charCode,0===b&&13===c&&(b=13)):b=c,b>=32||13===b?b:0}b.exports=d},{}],136:[function(a,b,c){"use strict";function d(a){if(a.key){var b=f[a.key]||a.key;if("Unidentified"!==b)return b}if("keypress"===a.type){var c=e(a);return 13===c?"Enter":String.fromCharCode(c)}return"keydown"===a.type||"keyup"===a.type?g[a.keyCode]||"Unidentified":""}var e=a("./getEventCharCode"),f={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},g={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};b.exports=d},{"./getEventCharCode":135}],137:[function(a,b,c){"use strict";function d(a){var b=this,c=b.nativeEvent;if(c.getModifierState)return c.getModifierState(a);var d=f[a];return d?!!c[d]:!1}function e(a){return d}var f={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};b.exports=e},{}],138:[function(a,b,c){"use strict";function d(a){var b=a.target||a.srcElement||window;return 3===b.nodeType?b.parentNode:b}b.exports=d},{}],139:[function(a,b,c){"use strict";function d(a){var b=a&&(e&&a[e]||a[f]);return"function"==typeof b?b:void 0}var e="function"==typeof Symbol&&Symbol.iterator,f="@@iterator";b.exports=d},{}],140:[function(a,b,c){function d(a){return f(!!g),m.hasOwnProperty(a)||(a="*"),h.hasOwnProperty(a)||("*"===a?g.innerHTML="<link />":g.innerHTML="<"+a+"></"+a+">",h[a]=!g.firstChild),h[a]?m[a]:null}var e=a("./ExecutionEnvironment"),f=a("./invariant"),g=e.canUseDOM?document.createElement("div"):null,h={circle:!0,clipPath:!0,defs:!0,ellipse:!0,g:!0,line:!0,linearGradient:!0,path:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,stop:!0,text:!0},i=[1,'<select multiple="true">',"</select>"],j=[1,"<table>","</table>"],k=[3,"<table><tbody><tr>","</tr></tbody></table>"],l=[1,"<svg>","</svg>"],m={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:i,option:i,caption:j,colgroup:j,tbody:j,tfoot:j,thead:j,td:k,th:k,circle:l,clipPath:l,defs:l,ellipse:l,g:l,line:l,linearGradient:l,path:l,polygon:l,polyline:l,radialGradient:l,rect:l,stop:l,text:l};b.exports=d},{"./ExecutionEnvironment":33,"./invariant":148}],141:[function(a,b,c){"use strict";function d(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function e(a){for(;a;){if(a.nextSibling)return a.nextSibling;a=a.parentNode}}function f(a,b){for(var c=d(a),f=0,g=0;c;){if(3===c.nodeType){if(g=f+c.textContent.length,b>=f&&g>=b)return{node:c,offset:b-f};f=g}c=d(e(c))}}b.exports=f},{}],142:[function(a,b,c){"use strict";function d(a){return a?a.nodeType===e?a.documentElement:a.firstChild:null}var e=9;b.exports=d},{}],143:[function(a,b,c){"use strict";function d(){return!f&&e.canUseDOM&&(f="textContent"in document.documentElement?"textContent":"innerText"),f}var e=a("./ExecutionEnvironment"),f=null;b.exports=d},{"./ExecutionEnvironment":33}],144:[function(a,b,c){"use strict";function d(a){return a===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:a.scrollLeft,y:a.scrollTop}}b.exports=d},{}],145:[function(a,b,c){function d(a){return a.replace(e,"-$1").toLowerCase()}var e=/([A-Z])/g;b.exports=d},{}],146:[function(a,b,c){"use strict";function d(a){return e(a).replace(f,"-ms-")}var e=a("./hyphenate"),f=/^ms-/;b.exports=d},{"./hyphenate":145}],147:[function(a,b,c){"use strict";function d(a){return"function"==typeof a&&"undefined"!=typeof a.prototype&&"function"==typeof a.prototype.mountComponent&&"function"==typeof a.prototype.receiveComponent}function e(a,b){var c;if((null===a||a===!1)&&(a=g.emptyElement),"object"==typeof a){var e=a;c=b===e.type&&"string"==typeof e.type?h.createInternalComponent(e):d(e.type)?new e.type(e):new k}else"string"==typeof a||"number"==typeof a?c=h.createInstanceForText(a):j(!1);return c.construct(a),c._mountIndex=0,c._mountImage=null,c}var f=a("./ReactCompositeComponent"),g=a("./ReactEmptyComponent"),h=a("./ReactNativeComponent"),i=a("./Object.assign"),j=a("./invariant"),k=(a("./warning"),function(){});i(k.prototype,f.Mixin,{_instantiateReactComponent:e}),b.exports=e},{"./Object.assign":39,"./ReactCompositeComponent":50,"./ReactEmptyComponent":72,"./ReactNativeComponent":86,"./invariant":148,"./warning":167}],148:[function(a,b,c){"use strict";var d=function(a,b,c,d,e,f,g,h){if(!a){var i;if(void 0===b)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var j=[c,d,e,f,g,h],k=0;i=new Error("Invariant Violation: "+b.replace(/%s/g,function(){return j[k++]}))}throw i.framesToPop=1,i}};b.exports=d},{}],149:[function(a,b,c){"use strict";function d(a,b){if(!f.canUseDOM||b&&!("addEventListener"in document))return!1;var c="on"+a,d=c in document;if(!d){var g=document.createElement("div");g.setAttribute(c,"return;"),d="function"==typeof g[c]}return!d&&e&&"wheel"===a&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}var e,f=a("./ExecutionEnvironment");f.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),b.exports=d},{"./ExecutionEnvironment":33}],150:[function(a,b,c){function d(a){return!(!a||!("function"==typeof Node?a instanceof Node:"object"==typeof a&&"number"==typeof a.nodeType&&"string"==typeof a.nodeName))}b.exports=d},{}],151:[function(a,b,c){"use strict";function d(a){return a&&("INPUT"===a.nodeName&&e[a.type]||"TEXTAREA"===a.nodeName)}var e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};b.exports=d},{}],152:[function(a,b,c){function d(a){return e(a)&&3==a.nodeType}var e=a("./isNode");b.exports=d},{"./isNode":150}],153:[function(a,b,c){"use strict";var d=a("./invariant"),e=function(a){var b,c={};d(a instanceof Object&&!Array.isArray(a));for(b in a)a.hasOwnProperty(b)&&(c[b]=b);return c};b.exports=e},{"./invariant":148}],154:[function(a,b,c){var d=function(a){var b;for(b in a)if(a.hasOwnProperty(b))return b;return null};b.exports=d},{}],155:[function(a,b,c){"use strict";function d(a,b,c){if(!a)return null;var d={};for(var f in a)e.call(a,f)&&(d[f]=b.call(c,a[f],f,a));return d}var e=Object.prototype.hasOwnProperty;b.exports=d},{}],156:[function(a,b,c){"use strict";function d(a){var b={};return function(c){return b.hasOwnProperty(c)||(b[c]=a.call(this,c)),b[c]}}b.exports=d},{}],157:[function(a,b,c){"use strict";function d(a){return f(e.isValidElement(a)),a}var e=a("./ReactElement"),f=a("./invariant");b.exports=d},{"./ReactElement":70,"./invariant":148}],158:[function(a,b,c){"use strict";var d,e=a("./ExecutionEnvironment");e.canUseDOM&&(d=window.performance||window.msPerformance||window.webkitPerformance),b.exports=d||{}},{"./ExecutionEnvironment":33}],159:[function(a,b,c){var d=a("./performance");d&&d.now||(d=Date);var e=d.now.bind(d);b.exports=e},{"./performance":158}],160:[function(a,b,c){"use strict";function d(a){return'"'+e(a)+'"'}var e=a("./escapeTextContentForBrowser");b.exports=d},{"./escapeTextContentForBrowser":129}],161:[function(a,b,c){"use strict";var d=a("./ExecutionEnvironment"),e=/^[ \r\n\t\f]/,f=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,g=function(a,b){a.innerHTML=b};if("undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction&&(g=function(a,b){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=b})}),d.canUseDOM){var h=document.createElement("div");h.innerHTML=" ",""===h.innerHTML&&(g=function(a,b){if(a.parentNode&&a.parentNode.replaceChild(a,a),e.test(b)||"<"===b[0]&&f.test(b)){a.innerHTML="\ufeff"+b;var c=a.firstChild;1===c.data.length?a.removeChild(c):c.deleteData(0,1)}else a.innerHTML=b})}b.exports=g},{"./ExecutionEnvironment":33}],162:[function(a,b,c){"use strict";var d=a("./ExecutionEnvironment"),e=a("./escapeTextContentForBrowser"),f=a("./setInnerHTML"),g=function(a,b){a.textContent=b};d.canUseDOM&&("textContent"in document.documentElement||(g=function(a,b){f(a,e(b))})),b.exports=g},{"./ExecutionEnvironment":33,"./escapeTextContentForBrowser":129,"./setInnerHTML":161}],163:[function(a,b,c){"use strict";function d(a,b){if(a===b)return!0;var c;for(c in a)if(a.hasOwnProperty(c)&&(!b.hasOwnProperty(c)||a[c]!==b[c]))return!1;for(c in b)if(b.hasOwnProperty(c)&&!a.hasOwnProperty(c))return!1;return!0}b.exports=d},{}],164:[function(a,b,c){"use strict";function d(a,b){if(null!=a&&null!=b){var c=typeof a,d=typeof b;if("string"===c||"number"===c)return"string"===d||"number"===d;if("object"===d&&a.type===b.type&&a.key===b.key){var e=a._owner===b._owner;return e}}return!1}a("./warning");b.exports=d},{"./warning":167}],165:[function(a,b,c){function d(a){var b=a.length;if(e(!Array.isArray(a)&&("object"==typeof a||"function"==typeof a)),e("number"==typeof b),e(0===b||b-1 in a),a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(c){}for(var d=Array(b),f=0;b>f;f++)d[f]=a[f];return d}var e=a("./invariant");b.exports=d},{"./invariant":148}],166:[function(a,b,c){"use strict";function d(a){return q[a]}function e(a,b){return a&&null!=a.key?g(a.key):b.toString(36)}function f(a){return(""+a).replace(r,d)}function g(a){return"$"+f(a)}function h(a,b,c,d,f){var i=typeof a;if(("undefined"===i||"boolean"===i)&&(a=null),null===a||"string"===i||"number"===i||j.isValidElement(a))return d(f,a,""===b?o+e(a,0):b,c),1;var l,q,r,s=0;if(Array.isArray(a))for(var t=0;t<a.length;t++)l=a[t],q=(""!==b?b+p:o)+e(l,t),r=c+s,s+=h(l,q,r,d,f);else{var u=m(a);if(u){var v,w=u.call(a);if(u!==a.entries)for(var x=0;!(v=w.next()).done;)l=v.value,q=(""!==b?b+p:o)+e(l,x++),r=c+s,s+=h(l,q,r,d,f);else for(;!(v=w.next()).done;){var y=v.value;y&&(l=y[1],q=(""!==b?b+p:o)+g(y[0])+p+e(l,0),r=c+s,s+=h(l,q,r,d,f))}}else if("object"===i){n(1!==a.nodeType);var z=k.extract(a);for(var A in z)z.hasOwnProperty(A)&&(l=z[A],q=(""!==b?b+p:o)+g(A)+p+e(l,0),r=c+s,s+=h(l,q,r,d,f))}}return s}function i(a,b,c){return null==a?0:h(a,"",0,b,c)}var j=a("./ReactElement"),k=a("./ReactFragment"),l=a("./ReactInstanceHandles"),m=a("./getIteratorFn"),n=a("./invariant"),o=(a("./warning"),l.SEPARATOR),p=":",q={"=":"=0",".":"=1",":":"=2"},r=/[=.:]/g;b.exports=i},{"./ReactElement":70,"./ReactFragment":76,"./ReactInstanceHandles":79,"./getIteratorFn":139,"./invariant":148,"./warning":167}],167:[function(a,b,c){"use strict";var d=a("./emptyFunction"),e=d;b.exports=e},{"./emptyFunction":127}],168:[function(a,b,c){b.exports=a("./lib/React")},{"./lib/React":41}],169:[function(a,b,c){(function(){var a=this,d=a._,e={},f=Array.prototype,g=Object.prototype,h=Function.prototype,i=f.push,j=f.slice,k=f.concat,l=g.toString,m=g.hasOwnProperty,n=f.forEach,o=f.map,p=f.reduce,q=f.reduceRight,r=f.filter,s=f.every,t=f.some,u=f.indexOf,v=f.lastIndexOf,w=Array.isArray,x=Object.keys,y=h.bind,z=function(a){return a instanceof z?a:this instanceof z?void(this._wrapped=a):new z(a)};"undefined"!=typeof c?("undefined"!=typeof b&&b.exports&&(c=b.exports=z),c._=z):a._=z,z.VERSION="1.4.4";var A=z.each=z.forEach=function(a,b,c){if(null!=a)if(n&&a.forEach===n)a.forEach(b,c);else if(a.length===+a.length){for(var d=0,f=a.length;f>d;d++)if(b.call(c,a[d],d,a)===e)return}else for(var g in a)if(z.has(a,g)&&b.call(c,a[g],g,a)===e)return};z.map=z.collect=function(a,b,c){var d=[];return null==a?d:o&&a.map===o?a.map(b,c):(A(a,function(a,e,f){d[d.length]=b.call(c,a,e,f)}),d)};var B="Reduce of empty array with no initial value";z.reduce=z.foldl=z.inject=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),p&&a.reduce===p)return d&&(b=z.bind(b,d)),e?a.reduce(b,c):a.reduce(b);if(A(a,function(a,f,g){e?c=b.call(d,c,a,f,g):(c=a,e=!0)}),!e)throw new TypeError(B);return c},z.reduceRight=z.foldr=function(a,b,c,d){var e=arguments.length>2;if(null==a&&(a=[]),q&&a.reduceRight===q)return d&&(b=z.bind(b,d)),e?a.reduceRight(b,c):a.reduceRight(b);var f=a.length;if(f!==+f){var g=z.keys(a);f=g.length}if(A(a,function(h,i,j){i=g?g[--f]:--f,e?c=b.call(d,c,a[i],i,j):(c=a[i],e=!0)}),!e)throw new TypeError(B);return c},z.find=z.detect=function(a,b,c){var d;return C(a,function(a,e,f){return b.call(c,a,e,f)?(d=a,!0):void 0}),d},z.filter=z.select=function(a,b,c){var d=[];return null==a?d:r&&a.filter===r?a.filter(b,c):(A(a,function(a,e,f){b.call(c,a,e,f)&&(d[d.length]=a)}),d)},z.reject=function(a,b,c){return z.filter(a,function(a,d,e){return!b.call(c,a,d,e)},c)},z.every=z.all=function(a,b,c){b||(b=z.identity);var d=!0;return null==a?d:s&&a.every===s?a.every(b,c):(A(a,function(a,f,g){return(d=d&&b.call(c,a,f,g))?void 0:e}),!!d)};var C=z.some=z.any=function(a,b,c){b||(b=z.identity);var d=!1;return null==a?d:t&&a.some===t?a.some(b,c):(A(a,function(a,f,g){return d||(d=b.call(c,a,f,g))?e:void 0}),!!d)};z.contains=z.include=function(a,b){return null==a?!1:u&&a.indexOf===u?-1!=a.indexOf(b):C(a,function(a){return a===b})},z.invoke=function(a,b){var c=j.call(arguments,2),d=z.isFunction(b);return z.map(a,function(a){return(d?b:a[b]).apply(a,c)})},z.pluck=function(a,b){return z.map(a,function(a){return a[b]})},z.where=function(a,b,c){return z.isEmpty(b)?c?null:[]:z[c?"find":"filter"](a,function(a){for(var c in b)if(b[c]!==a[c])return!1;return!0})},z.findWhere=function(a,b){return z.where(a,b,!0)},z.max=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.max.apply(Math,a);if(!b&&z.isEmpty(a))return-(1/0);var d={computed:-(1/0),value:-(1/0)};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g>=d.computed&&(d={value:a,computed:g})}),d.value},z.min=function(a,b,c){if(!b&&z.isArray(a)&&a[0]===+a[0]&&a.length<65535)return Math.min.apply(Math,a);if(!b&&z.isEmpty(a))return 1/0;var d={computed:1/0,value:1/0};return A(a,function(a,e,f){var g=b?b.call(c,a,e,f):a;g<d.computed&&(d={value:a,computed:g})}),d.value},z.shuffle=function(a){var b,c=0,d=[];return A(a,function(a){b=z.random(c++),d[c-1]=d[b],d[b]=a}),d};var D=function(a){return z.isFunction(a)?a:function(b){return b[a]}};z.sortBy=function(a,b,c){var d=D(b);return z.pluck(z.map(a,function(a,b,e){return{value:a,index:b,criteria:d.call(c,a,b,e)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(c>d||void 0===c)return 1;if(d>c||void 0===d)return-1}return a.index<b.index?-1:1}),"value")};var E=function(a,b,c,d){var e={},f=D(b||z.identity);return A(a,function(b,g){var h=f.call(c,b,g,a);d(e,h,b)}),e};z.groupBy=function(a,b,c){return E(a,b,c,function(a,b,c){(z.has(a,b)?a[b]:a[b]=[]).push(c)})},z.countBy=function(a,b,c){return E(a,b,c,function(a,b){z.has(a,b)||(a[b]=0),a[b]++})},z.sortedIndex=function(a,b,c,d){c=null==c?z.identity:D(c);for(var e=c.call(d,b),f=0,g=a.length;g>f;){var h=f+g>>>1;c.call(d,a[h])<e?f=h+1:g=h}return f},z.toArray=function(a){return a?z.isArray(a)?j.call(a):a.length===+a.length?z.map(a,z.identity):z.values(a):[]},z.size=function(a){return null==a?0:a.length===+a.length?a.length:z.keys(a).length},z.first=z.head=z.take=function(a,b,c){return null==a?void 0:null==b||c?a[0]:j.call(a,0,b)},z.initial=function(a,b,c){return j.call(a,0,a.length-(null==b||c?1:b))},z.last=function(a,b,c){return null==a?void 0:null==b||c?a[a.length-1]:j.call(a,Math.max(a.length-b,0))},z.rest=z.tail=z.drop=function(a,b,c){return j.call(a,null==b||c?1:b)},z.compact=function(a){return z.filter(a,z.identity)};var F=function(a,b,c){return A(a,function(a){z.isArray(a)?b?i.apply(c,a):F(a,b,c):c.push(a)}),c};z.flatten=function(a,b){return F(a,b,[])},z.without=function(a){return z.difference(a,j.call(arguments,1))},z.uniq=z.unique=function(a,b,c,d){z.isFunction(b)&&(d=c,c=b,b=!1);var e=c?z.map(a,c,d):a,f=[],g=[];return A(e,function(c,d){(b?d&&g[g.length-1]===c:z.contains(g,c))||(g.push(c),f.push(a[d]))}),f},z.union=function(){return z.uniq(k.apply(f,arguments))},z.intersection=function(a){var b=j.call(arguments,1);return z.filter(z.uniq(a),function(a){return z.every(b,function(b){return z.indexOf(b,a)>=0})})},z.difference=function(a){var b=k.apply(f,j.call(arguments,1));return z.filter(a,function(a){return!z.contains(b,a)})},z.zip=function(){for(var a=j.call(arguments),b=z.max(z.pluck(a,"length")),c=new Array(b),d=0;b>d;d++)c[d]=z.pluck(a,""+d);return c},z.object=function(a,b){if(null==a)return{};for(var c={},d=0,e=a.length;e>d;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c},z.indexOf=function(a,b,c){if(null==a)return-1;var d=0,e=a.length;if(c){if("number"!=typeof c)return d=z.sortedIndex(a,b),a[d]===b?d:-1;d=0>c?Math.max(0,e+c):c}if(u&&a.indexOf===u)return a.indexOf(b,c);for(;e>d;d++)if(a[d]===b)return d;return-1},z.lastIndexOf=function(a,b,c){if(null==a)return-1;var d=null!=c;if(v&&a.lastIndexOf===v)return d?a.lastIndexOf(b,c):a.lastIndexOf(b);for(var e=d?c:a.length;e--;)if(a[e]===b)return e;return-1},z.range=function(a,b,c){arguments.length<=1&&(b=a||0,a=0),c=arguments[2]||1;for(var d=Math.max(Math.ceil((b-a)/c),0),e=0,f=new Array(d);d>e;)f[e++]=a,a+=c;return f},z.bind=function(a,b){if(a.bind===y&&y)return y.apply(a,j.call(arguments,1));var c=j.call(arguments,2);return function(){return a.apply(b,c.concat(j.call(arguments)))}},z.partial=function(a){var b=j.call(arguments,1);return function(){return a.apply(this,b.concat(j.call(arguments)))}},z.bindAll=function(a){var b=j.call(arguments,1);return 0===b.length&&(b=z.functions(a)),A(b,function(b){a[b]=z.bind(a[b],a)}),a},z.memoize=function(a,b){var c={};return b||(b=z.identity),function(){var d=b.apply(this,arguments);return z.has(c,d)?c[d]:c[d]=a.apply(this,arguments)}},z.delay=function(a,b){var c=j.call(arguments,2);return setTimeout(function(){return a.apply(null,c)},b)},z.defer=function(a){return z.delay.apply(z,[a,1].concat(j.call(arguments,1)))},z.throttle=function(a,b){var c,d,e,f,g=0,h=function(){g=new Date,e=null,f=a.apply(c,d)};return function(){var i=new Date,j=b-(i-g);return c=this,d=arguments,0>=j?(clearTimeout(e),e=null,g=i,f=a.apply(c,d)):e||(e=setTimeout(h,j)),f}},z.debounce=function(a,b,c){var d,e;return function(){var f=this,g=arguments,h=function(){d=null,c||(e=a.apply(f,g))},i=c&&!d;return clearTimeout(d),d=setTimeout(h,b),i&&(e=a.apply(f,g)),e}},z.once=function(a){var b,c=!1;return function(){return c?b:(c=!0,b=a.apply(this,arguments),a=null,b)}},z.wrap=function(a,b){return function(){var c=[a];return i.apply(c,arguments),b.apply(this,c)}},z.compose=function(){var a=arguments;return function(){
for(var b=arguments,c=a.length-1;c>=0;c--)b=[a[c].apply(this,b)];return b[0]}},z.after=function(a,b){return 0>=a?b():function(){return--a<1?b.apply(this,arguments):void 0}},z.keys=x||function(a){if(a!==Object(a))throw new TypeError("Invalid object");var b=[];for(var c in a)z.has(a,c)&&(b[b.length]=c);return b},z.values=function(a){var b=[];for(var c in a)z.has(a,c)&&b.push(a[c]);return b},z.pairs=function(a){var b=[];for(var c in a)z.has(a,c)&&b.push([c,a[c]]);return b},z.invert=function(a){var b={};for(var c in a)z.has(a,c)&&(b[a[c]]=c);return b},z.functions=z.methods=function(a){var b=[];for(var c in a)z.isFunction(a[c])&&b.push(c);return b.sort()},z.extend=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)a[c]=b[c]}),a},z.pick=function(a){var b={},c=k.apply(f,j.call(arguments,1));return A(c,function(c){c in a&&(b[c]=a[c])}),b},z.omit=function(a){var b={},c=k.apply(f,j.call(arguments,1));for(var d in a)z.contains(c,d)||(b[d]=a[d]);return b},z.defaults=function(a){return A(j.call(arguments,1),function(b){if(b)for(var c in b)null==a[c]&&(a[c]=b[c])}),a},z.clone=function(a){return z.isObject(a)?z.isArray(a)?a.slice():z.extend({},a):a},z.tap=function(a,b){return b(a),a};var G=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return a===b;a instanceof z&&(a=a._wrapped),b instanceof z&&(b=b._wrapped);var e=l.call(a);if(e!=l.call(b))return!1;switch(e){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase}if("object"!=typeof a||"object"!=typeof b)return!1;for(var f=c.length;f--;)if(c[f]==a)return d[f]==b;c.push(a),d.push(b);var g=0,h=!0;if("[object Array]"==e){if(g=a.length,h=g==b.length)for(;g--&&(h=G(a[g],b[g],c,d)););}else{var i=a.constructor,j=b.constructor;if(i!==j&&!(z.isFunction(i)&&i instanceof i&&z.isFunction(j)&&j instanceof j))return!1;for(var k in a)if(z.has(a,k)&&(g++,!(h=z.has(b,k)&&G(a[k],b[k],c,d))))break;if(h){for(k in b)if(z.has(b,k)&&!g--)break;h=!g}}return c.pop(),d.pop(),h};z.isEqual=function(a,b){return G(a,b,[],[])},z.isEmpty=function(a){if(null==a)return!0;if(z.isArray(a)||z.isString(a))return 0===a.length;for(var b in a)if(z.has(a,b))return!1;return!0},z.isElement=function(a){return!(!a||1!==a.nodeType)},z.isArray=w||function(a){return"[object Array]"==l.call(a)},z.isObject=function(a){return a===Object(a)},A(["Arguments","Function","String","Number","Date","RegExp"],function(a){z["is"+a]=function(b){return l.call(b)=="[object "+a+"]"}}),z.isArguments(arguments)||(z.isArguments=function(a){return!(!a||!z.has(a,"callee"))}),"function"!=typeof/./&&(z.isFunction=function(a){return"function"==typeof a}),z.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},z.isNaN=function(a){return z.isNumber(a)&&a!=+a},z.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"==l.call(a)},z.isNull=function(a){return null===a},z.isUndefined=function(a){return void 0===a},z.has=function(a,b){return m.call(a,b)},z.noConflict=function(){return a._=d,this},z.identity=function(a){return a},z.times=function(a,b,c){for(var d=Array(a),e=0;a>e;e++)d[e]=b.call(c,e);return d},z.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};H.unescape=z.invert(H.escape);var I={escape:new RegExp("["+z.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+z.keys(H.unescape).join("|")+")","g")};z.each(["escape","unescape"],function(a){z[a]=function(b){return null==b?"":(""+b).replace(I[a],function(b){return H[a][b]})}}),z.result=function(a,b){if(null==a)return null;var c=a[b];return z.isFunction(c)?c.call(a):c},z.mixin=function(a){A(z.functions(a),function(b){var c=z[b]=a[b];z.prototype[b]=function(){var a=[this._wrapped];return i.apply(a,arguments),N.call(this,c.apply(z,a))}})};var J=0;z.uniqueId=function(a){var b=++J+"";return a?a+b:b},z.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},M=/\\|'|\r|\n|\t|\u2028|\u2029/g;z.template=function(a,b,c){var d;c=z.defaults({},c,z.templateSettings);var e=new RegExp([(c.escape||K).source,(c.interpolate||K).source,(c.evaluate||K).source].join("|")+"|$","g"),f=0,g="__p+='";a.replace(e,function(b,c,d,e,h){return g+=a.slice(f,h).replace(M,function(a){return"\\"+L[a]}),c&&(g+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'"),d&&(g+="'+\n((__t=("+d+"))==null?'':__t)+\n'"),e&&(g+="';\n"+e+"\n__p+='"),f=h+b.length,b}),g+="';\n",c.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{d=new Function(c.variable||"obj","_",g)}catch(h){throw h.source=g,h}if(b)return d(b,z);var i=function(a){return d.call(this,a,z)};return i.source="function("+(c.variable||"obj")+"){\n"+g+"}",i},z.chain=function(a){return z(a).chain()};var N=function(a){return this._chain?z(a).chain():a};z.mixin(z),A(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=f[a];z.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!=a&&"splice"!=a||0!==c.length||delete c[0],N.call(this,c)}}),A(["concat","join","slice"],function(a){var b=f[a];z.prototype[a]=function(){return N.call(this,b.apply(this._wrapped,arguments))}}),z.extend(z.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}).call(this)},{}],170:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],171:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(0>d)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;h>g;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return 10>a?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(b){return"[Circular]"}default:return a}}),h=d[c];f>c;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":170,_process:12,inherits:8}],172:[function(a,b,c){"use strict";var d=a("../constants/AppConstants"),e=a("../dispatcher/AppDispatcher"),f=d.ActionTypes,g={submitCommand:function(a){e.handleViewAction({type:f.SUBMIT_COMMAND,text:a})}};b.exports=g},{"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183}],173:[function(a,b,c){"use strict";var d=a("../constants/AppConstants"),e=a("../dispatcher/AppDispatcher"),f=d.ActionTypes,g={changeIsAnimating:function(a){e.handleViewAction({type:f.CHANGE_IS_ANIMATING,isAnimating:a})},levelSolved:function(){e.handleViewAction({type:f.LEVEL_SOLVED})},changeFlipTreeY:function(a){e.handleViewAction({type:f.CHANGE_FLIP_TREE_Y,flipTreeY:a})}};b.exports=g},{"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183}],174:[function(a,b,c){"use strict";var d=a("../constants/AppConstants"),e=a("../dispatcher/AppDispatcher"),f=d.ActionTypes,g={setLevelSolved:function(a){e.handleViewAction({type:f.SET_LEVEL_SOLVED,levelID:a})},resetLevelsSolved:function(){e.handleViewAction({type:f.RESET_LEVELS_SOLVED})}};b.exports=g},{"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183}],175:[function(a,b,c){"use strict";var d=a("../constants/AppConstants"),e=a("../dispatcher/AppDispatcher"),f=d.ActionTypes,g={changeLocale:function(a){e.handleViewAction({type:f.CHANGE_LOCALE,locale:a})},changeLocaleFromURI:function(a){e.handleURIAction({type:f.CHANGE_LOCALE,locale:a})},changeLocaleFromHeader:function(a){e.handleViewAction({type:f.CHANGE_LOCALE_FROM_HEADER,header:a})}};b.exports=g},{"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183}],176:[function(a,b,c){function d(){e(navigator.language||navigator.browserLanguage)}function e(a){m.changeLocaleFromHeader(a)}function f(){g.$=$;var b=(a("../views"),a("../models/collections")),c=a("../views/commandViews"),d=a("../react_views/CommandHistoryView.jsx"),e=a("../react_views/MainHelperBarView.jsx");this.commandCollection=new b.CommandCollection,this.commandBuffer=new b.CommandBuffer({collection:this.commandCollection}),this.commandPromptView=new c.CommandPromptView({el:$("#commandLineBar")}),i.render(i.createElement(e),document.getElementById("helperBarMount")),i.render(i.createElement(d,{commandCollection:this.commandCollection}),document.getElementById("commandDisplay"))}var g=a("backbone"),h=a("events").EventEmitter,i=a("react"),j=a("../util"),k=a("../intl"),l=a("../stores/LocaleStore"),m=a("../actions/LocaleActions"),n=Object.assign({},h.prototype,{trigger:function(){this.emit.apply(this,arguments)}});n.setMaxListeners(0);var o,p,q,r,s=function(){var b=a("../sandbox/").Sandbox,c=a("../util/eventBaton").EventBaton,d=a("../views/levelDropdownView").LevelDropdownView;q=new c,o=new f,p=new b,r=new d({wait:!0}),l.subscribe(function(){l.getLocale()!==l.getDefaultLocale()&&v()}),n.on("vcsModeChange",t),w(q),x(p),window.LocaleStore=l,window.LocaleActions=m,window.intl=k},t=function(a){if(window.$){var b=a.mode,c="git"===a.mode,d=b.slice(0,1).toUpperCase()+b.slice(1),e="Git"===d?"Hg":"Git",f=new RegExp(e,"g");document.title=k.str("learn-git-branching").replace(f,d),$("span.vcs-mode-aware").each(function(a,b){var c=$(b).text().replace(f,d);$(b).text(c)}),$("body").toggleClass("gitMode",c),$("body").toggleClass("hgMode",!c)}},u=function(a){var b=l.getSupportedLocales().map(function(a){var b="https://learngitbranching.js.org/?locale="+a;return'<link rel="alternate" hreflang="'+a+'" href="'+b+'" />'}),c="https://learngitbranching.js.org/?locale="+l.getDefaultLocale();b.push('<link rel="alternate" hreflang="x-default" href="'+c+'" />'),$("head").prepend(b)},v=function(){if(window.$){var b=l.getLocale().split("_")[0];$("html").attr("lang",b),$("meta[http-equiv='content-language']").attr("content",b),$("span.intl-aware").each(function(b,c){var d=a("../intl"),e=$(c).attr("data-intl");$(c).text(d.str(e))})}},w=function(a){var b=function(){$("#commandTextField").focus()};b(),$(window).focus(function(b){a.trigger("windowFocus",b)}),$(document).click(function(b){a.trigger("documentClick",b)}),$(document).bind("keydown",function(b){a.trigger("docKeydown",b)}),$(document).bind("keyup",function(b){a.trigger("docKeyup",b)}),$(window).on("resize",function(a){n.trigger("resize",a)}),a.stealBaton("docKeydown",function(){}),a.stealBaton("docKeyup",function(){}),a.stealBaton("windowFocus",b),a.stealBaton("documentClick",b);var c=function(b){return function(){var c=[b];Array.prototype.slice.apply(arguments).forEach(function(a){c.push(a)}),a.trigger.apply(a,c)}};$("#commandTextField").on("keydown",c("keydown")),$("#commandTextField").on("keyup",c("keyup")),$(window).trigger("resize")},x=function(a){var b,c=j.parseQueryString(window.location.href);if((/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent)||/android/i.test(navigator.userAgent))&&a.mainVis.customEvents.on("gitEngineReady",function(){q.trigger("commandSubmitted","mobile alert")}),c.hasOwnProperty("demo")?b=["git commit; git checkout -b bugFix C1; git commit; git merge master; git checkout master; git commit; git rebase bugFix;","delay 1000; reset;","level advanced1 --noFinishDialog --noStartCommand --noIntroDialog;","delay 2000; show goal; delay 1000; hide goal;","git checkout bugFix; git rebase master; git checkout side; git rebase bugFix;","git checkout another; git rebase side; git rebase another master;","help; levels"]:c.hasOwnProperty("hgdemo")?(b=['importTreeNow {"branches":{"master":{"target":"C3","id":"master"},"feature":{"target":"C2","id":"feature"},"debug":{"target":"C4","id":"debug"}},"commits":{"C0":{"parents":[],"id":"C0","rootCommit":true},"C1":{"parents":["C0"],"id":"C1"},"C2":{"parents":["C1"],"id":"C2"},"C3":{"parents":["C1"],"id":"C3"},"C4":{"parents":["C2"],"id":"C4"}},"HEAD":{"target":"feature","id":"HEAD"}}',"delay 1000","git rebase master","delay 1000","undo","hg book","delay 1000","hg rebase -d master"],b=b.join(";#").split("#")):c.hasOwnProperty("hgdemo2")?(b=['importTreeNow {"branches":{"master":{"target":"C3","id":"master"},"feature":{"target":"C2","id":"feature"},"debug":{"target":"C4","id":"debug"}},"commits":{"C0":{"parents":[],"id":"C0","rootCommit":true},"C1":{"parents":["C0"],"id":"C1"},"C2":{"parents":["C1"],"id":"C2"},"C3":{"parents":["C1"],"id":"C3"},"C4":{"parents":["C2"],"id":"C4"}},"HEAD":{"target":"debug","id":"HEAD"}}',"delay 1000","git rebase master","delay 1000","undo","hg sum","delay 1000","hg rebase -d master"],b=b.join(";#").split("#")):c.hasOwnProperty("remoteDemo")?(b=["git clone","git commit","git fakeTeamwork","git pull","git push","git commit","git fakeTeamwork","git pull --rebase","git push","levels"],b=b.join(";#").split("#")):c.gist_level_id?$.ajax({url:"https://api.github.com/gists/"+c.gist_level_id,type:"GET",dataType:"jsonp",success:function(a){var b=a.data||{},c=b.files||{};if(!Object.keys(c).length)return void console.warn("no files found");var d=c[Object.keys(c)[0]];d.content||console.warn("file empty"),q.trigger("commandSubmitted","importLevelNow "+escape(d.content)+"; clear")}}):c.hasOwnProperty("NODEMO")||(b=["help;","levels"]),c.hasOwnProperty("STARTREACT"),b&&a.mainVis.customEvents.on("gitEngineReady",function(){q.trigger("commandSubmitted",b.join(""))}),void 0!==c.locale&&c.locale.length?m.changeLocaleFromURI(c.locale):d(),u(),c.command){var e=unescape(c.command);a.mainVis.customEvents.on("gitEngineReady",function(){q.trigger("commandSubmitted",e)})}};a("../util").isBrowser()&&$(document).ready(s),c.getEvents=function(){return n},c.getSandbox=function(){return p},c.getEventBaton=function(){return q},c.getCommandUI=function(){return o},c.getLevelDropdown=function(){return r},c.init=s},{"../actions/LocaleActions":175,"../intl":191,"../models/collections":199,"../react_views/CommandHistoryView.jsx":201,"../react_views/MainHelperBarView.jsx":207,"../sandbox/":209,"../stores/LocaleStore":213,"../util":220,"../util/eventBaton":219,"../views":230,"../views/commandViews":228,"../views/levelDropdownView":231,backbone:1,events:7,react:168}],177:[function(a,b,c){function d(a,b,c){if(this.vcs=a,this.method=b,this.rawOptions=c,this.supportedMap=k.getOptionMap()[a][b],void 0===this.supportedMap)throw new Error("No option map for "+b);this.generalArgs=[]}var e=a("../intl"),f=a("../util/errors"),g=a("../git/commands"),h=a("../mercurial/commands"),i=f.CommandProcessError,j=(f.CommandResult,{git:g.commandConfig,hg:h.commandConfig}),k={execute:function(a,b,c,d){if(!j[a][b])throw new Error("i don't have a command for "+b);var e=j[a][b];return e.delegate?this.delegateExecute(e,c,d):void e.execute.call(this,c,d)},delegateExecute:function(a,b,c){var d=a.delegate.call(this,b,c);d.multiDelegate?d.multiDelegate.forEach(function(a){c.setOptionsMap(a.options||{}),c.setGeneralArgs(a.args||[]),j[a.vcs][a.name].execute.call(this,b,c)},this):(a=j[d.vcs][d.name],j[d.vcs][d.name].execute.call(this,b,c))},blankMap:function(){return{git:{},hg:{}}},getShortcutMap:function(){var a=this.blankMap();return this.loop(function(b,c,d){b.sc&&(a[d][c]=b.sc)},this),a},getOptionMap:function(){var a=this.blankMap();return this.loop(function(b,c,d){var e=b.displayName||c,f={};(b.options||[]).forEach(function(a){f[a]=!1}),a[d][e]=f}),a},getRegexMap:function(){var a=this.blankMap();return this.loop(function(b,c,d){var e=b.displayName||c;a[d][e]=b.regex}),a},getCommandsThatCount:function(){var a=this.blankMap();return this.loop(function(b,c,d){b.dontCountForGolf||(a[d][c]=b.regex)}),a},loop:function(a,b){Object.keys(j).forEach(function(b){var c=j[b];Object.keys(c).forEach(function(d){var e=c[d];a(e,d,b)})})}},l=function(a){var b,c,e,f=k.getRegexMap();if(Object.keys(f).forEach(function(d){var g=f[d];Object.keys(g).forEach(function(f){var h=g[f];h.exec(a)&&(b=d,c=f,e=a.match(/('.*?'|".*?"|\S+)/g).slice(2))})}),!c)return!1;var g=new d(b,c,e),h=g.explodeAndSet();return{toSet:{generalArgs:g.generalArgs,supportedMap:g.supportedMap,error:h,vcs:b,method:c,options:e,eventName:"processGitCommand"}}};d.prototype.explodeAndSet=function(){for(var a=0;a<this.rawOptions.length;a++){var b=this.rawOptions[a];if("-"==b.slice(0,1)){if(void 0===this.supportedMap[b])return new i({msg:e.str("option-not-supported",{option:b})});var c=this.rawOptions[a+1],d=[];c&&"-"!==c.slice(0,1)&&(a++,d=[c]),this.supportedMap[b]=d}else this.generalArgs.push(b)}},c.commands=k,c.parse=l},{"../git/commands":184,"../intl":191,"../mercurial/commands":198,"../util/errors":217}],178:[function(a,b,c){"use strict";var d=a("../util/keyMirror"),e="change";b.exports={CHANGE_EVENT:e,StoreSubscribePrototype:{subscribe:function(a){this.on(e,a)},unsubscribe:function(a){this.removeListener(e,a)}},ActionTypes:d({SET_LEVEL_SOLVED:null,RESET_LEVELS_SOLVED:null,CHANGE_IS_ANIMATING:null,CHANGE_FLIP_TREE_Y:null,SUBMIT_COMMAND:null,CHANGE_LOCALE:null,CHANGE_LOCALE_FROM_HEADER:null,SOLVE_LEVEL:null}),PayloadSources:d({VIEW_ACTION:null,URI_ACTION:null})}},{"../util/keyMirror":221}],179:[function(a,b,c){c.dialog={de_DE:[{type:"ModalAlert",options:{markdowns:["## Bist du sicher, dass du die Auflsung sehen willst?","","Ich glaube an dich! Du schaffst das!"]}}]}},{}],180:[function(a,b,c){c.dialog={de_DE:[{type:"ModalAlert",options:{markdowns:["## Willkommen zum Level-Editor!","","So funktioniert's:","","  * Stelle mit Git-Befehlen die Ausganssituation her","  * Leg den Startpunkt mit ```define start``` fest","  * Gib eine Abfolge von Git-Befehlen ein, welche die (optimale) Lsung darstellen","  * Leg den Ziel-Baum mit ```define goal``` fest. Damit markierst du den Endpunkt der Lsung","  * Gib einen Hinweis mittels ```define hint``` an, wenn du willst","  * nder den Namen mittels ```define name```","  * Wenn du magst, erstelle einen schnene Einfhrungsdialog mit ```edit dialog```","  * Gib das Kommando ```finish``` ein um deinen Level als JSON auszugeben"]}}]}},{}],181:[function(a,b,c){c.dialog={de_DE:[{type:"ModalAlert",options:{markdowns:["## Super gemacht","","Du hast den Level in *{numCommands}* Befehl(en) gelst;","meine Lsung besteht aus {best}."]}}]}},{}],182:[function(a,b,c){c.dialog={de_DE:[{type:"ModalAlert",options:{markdowns:["## Willkommen bei Learn Git Branching!","","Der Sinn dieser Anwendung ist, die umfangreichen und komplexen Zusammenhnge der Prozesse, die bei der Arbeit mit Git ablaufen, zu verdeutlichen. Ich hoffe du hast Spa dabei und lernst vielleicht sogar etwas!","","# Demo!","","Falls du die Demonstration noch nicht gesehen hast, schau sie dir hier an:","","[https://pcottle.github.io/learnGitBranching/?demo](https://pcottle.github.io/learnGitBranching/?demo)","","Genervt von diesem Fenster? Hng `?NODEMO` an die URL um es los zu werden, so wie hier:","","[https://pcottle.github.io/learnGitBranching/?NODEMO](?NODEMO)"]}},{type:"ModalAlert",options:{markdowns:["## Git-Kommandos","","Dir steht eine groe Zahl von Git-Befehlen im Sandkasten-Modus zur Verfgung. Unter anderem",""," * commit"," * branch"," * checkout"," * cherry-pick"," * reset"," * revert"," * rebase"," * merge"]}},{type:"ModalAlert",options:{markdowns:["## Teilen macht Spa!","","Teile diese Git-Bume mit deinen Freunden mittels `export tree` und `import tree`.","","Hast du Wissenswertes zu Git zu vermitteln? Versuch einen Level mit `build level` zu bauen oder probier den Level eines Freundes mit `import level` aus.","","Um alle Kommandos zu sehen, gib `show commands` ein. Darunter gibt's kleine Schtze wie `undo` und `reset`.","","Fr's Erste lass uns mit `levels` anfangen ..."]}}]}},{}],183:[function(a,b,c){"use strict";var d=a("../constants/AppConstants"),e=a("flux").Dispatcher,f=d.PayloadSources,g=new e;g.handleViewAction=function(a){this.dispatch({source:f.VIEW_ACTION,action:a})},g.handleURIAction=function(a){this.dispatch({source:f.URI_ACTION,action:a})},b.exports=g},{"../constants/AppConstants":178,flux:4}],184:[function(a,b,c){function d(a){return-1!==a.indexOf(":")&&2===a.split(":").length}var e=a("../util/escapeString"),f=a("../intl"),g=a("../graph"),h=a("../util/errors"),i=(h.CommandProcessError,h.GitError),j=(h.Warning,h.CommandResult),k="o/",l=function(a){return a.replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")},m=function(a,b){a.resolveID(b)},n=function(a,b){return a.validateBranchName(b)},o=function(a,b){return a.origin.validateBranchName(b)},p=function(a,b){return a.refs[b]?b:n(a,b)},q=function(a,b){if(a.refs[b]&&a.HEAD.get("target")===a.refs[b])throw new i({msg:f.todo("cannot fetch to "+b+" when checked out on "+b)})},r=function(a,b){m(a,b);var c=a.resolveID(b);if(!c||"branch"!==c.get("type"))throw new i({msg:f.todo(b+" is not a branch")})},s=function(a,b){m(a,b);var c=a.resolveID(b);if("branch"!==c.get("type")||!c.getIsRemote())throw new i({msg:f.todo(b+" is not a remote branch")})},t=function(a){if(a.length&&"origin"!==a[0])throw new i({msg:f.todo(a[0]+" is not a remote in your repository! try adding origin that argument")})},u=function(a,b){if(b=l(b),!a.resolveID(b))throw new i({msg:f.todo(b+" is not a branch!")});var c=a.resolveID(b);if("branch"!==c.get("type"))throw new i({msg:f.todo(b+" is not a branch!")});var d=c.getRemoteTrackingBranchID();if(!d)throw new i({msg:f.todo(b+" is not a remote tracking branch! I don't know where to push")});return d},v={commit:{sc:/^(gc|git ci)($|\s)/,regex:/^git +commit($|\s)/,options:["--amend","-a","--all","-am","-m"],execute:function(a,b){var c=b.getOptionsMap();if(b.acceptNoGeneralArgs(),c["-am"]&&(c["-a"]||c["--all"]||c["-m"]))throw new i({msg:f.str("git-error-options")});var d=null,e=null;(c["-a"]||c["--all"])&&b.addWarning(f.str("git-warning-add")),c["-am"]&&(e=c["-am"],b.validateArgBounds(e,1,1,"-am"),d=e[0]),c["-m"]&&(e=c["-m"],b.validateArgBounds(e,1,1,"-m"),d=e[0]),c["--amend"]&&(e=c["--amend"],b.validateArgBounds(e,0,0,"--amend"));var g=a.commit({isAmend:!!c["--amend"]});d&&(d=d.replace(/&quot;/g,'"').replace(/^"/g,"").replace(/"$/g,""),g.set("commitMessage",d));var h=a.animationFactory.playCommitBirthPromiseAnimation(g,a.gitVisuals);a.animationQueue.thenFinish(h)}},cherrypick:{displayName:"cherry-pick",regex:/^git +cherry-pick($|\s)/,execute:function(a,b){var c=(b.getOptionsMap(),b.getGeneralArgs());b.validateArgBounds(c,1,Number.MAX_VALUE);var d=g.getUpstreamSet(a,"HEAD"),e=c.map(function(b){var c=a.getCommitFromRef(b);if(d[c.get("id")])throw new i({msg:f.str("git-error-already-exists",{commit:c.get("id")})});return c},this);a.setupCherrypickChain(e)}},pull:{regex:/^git +pull($|\s)/,options:["--rebase"],execute:function(a,b){if(!a.hasOrigin())throw new i({msg:f.str("git-error-origin-required")});var c=b.getOptionsMap(),e=b.getGeneralArgs();b.twoArgsForOrigin(e),t(e);var g,h,j=e[1];if(j&&d(j)){var m=j.split(":");g=m[0],h=p(a,l(m[1])),q(a,h)}else if(j)g=j,r(a.origin,g),h=a.origin.refs[g].getPrefixedID();else{if(a.getDetachedHead())throw new i({msg:f.todo("Git pull can not be executed in detached HEAD mode if no remote branch specified!")});var n=a.getOneBeforeCommit("HEAD"),o=n.get("id");u(a,o),h=n.getRemoteTrackingBranchID(),g=h.replace(k,"")}a.pull({source:g,destination:h,isRebase:!!c["--rebase"]})}},fakeTeamwork:{regex:/^git +fakeTeamwork($|\s)/,execute:function(a,b){var c=b.getGeneralArgs();if(!a.hasOrigin())throw new i({msg:f.str("git-error-origin-required")});b.validateArgBounds(c,0,2);var d,e;switch(c.length){case 0:d="master",e=1;break;case 1:isNaN(parseInt(c[0],10))?(d=o(a,c[0]),e=1):(e=parseInt(c[0],10),d="master");break;case 2:if(d=o(a,c[0]),isNaN(parseInt(c[1],10)))throw new i({msg:"Bad numeric argument: "+c[1]});e=parseInt(c[1],10)}var g=a.origin.resolveID(d);if("branch"!==g.get("type"))throw new i({msg:f.str("git-error-options")});a.fakeTeamwork(e,d)}},clone:{regex:/^git +clone *?$/,execute:function(a,b){b.acceptNoGeneralArgs(),a.makeOrigin(a.printTree())}},remote:{regex:/^git +remote($|\s)/,options:["-v"],execute:function(a,b){if(b.acceptNoGeneralArgs(),!a.hasOrigin())throw new j({msg:""});a.printRemotes({verbose:!!b.getOptionsMap()["-v"]})}},fetch:{regex:/^git +fetch($|\s)/,execute:function(a,b){if(!a.hasOrigin())throw new i({msg:f.str("git-error-origin-required")});var c,e,g=b.getGeneralArgs();b.twoArgsForOrigin(g),t(g);var h=g[1];if(h&&d(h)){var j=h.split(":");c=j[0],e=p(a,l(j[1])),q(a,e)}else h&&(c=h,r(a.origin,c),e=a.origin.refs[c].getPrefixedID());c&&m(a.origin,c),a.fetch({source:c,destination:e})}},branch:{sc:/^(gb|git br)($|\s)/,regex:/^git +branch($|\s)/,options:["-d","-D","-f","--force","-a","-r","-u","--contains"],execute:function(a,b){var c=b.getOptionsMap(),d=b.getGeneralArgs(),e=null;if(c["-d"]||c["-D"]){var f=c["-d"]||c["-D"];return f=f.concat(d),b.validateArgBounds(f,1,Number.MAX_VALUE,"-d"),void f.forEach(function(b){a.validateAndDeleteBranch(b)})}if(c["-u"]){e=c["-u"].concat(d),b.validateArgBounds(e,1,2,"-u");var g=l(e[0]),h=e[1]||a.getOneBeforeCommit("HEAD").get("id");return s(a,g),r(a,h),void a.setLocalToTrackRemote(a.refs[h],a.refs[g])}if(c["--contains"])return e=c["--contains"],b.validateArgBounds(e,1,1,"--contains"),void a.printBranchesWithout(e[0]);if(c["-f"]||c["--force"])return e=c["-f"]||c["--force"],e=e.concat(d),b.twoArgsImpliedHead(e,"-f"),void a.forceBranch(e[0],e[1]);if(0===d.length){var i;return i=c["-a"]?a.getBranches():c["-r"]?a.getRemoteBranches():a.getLocalBranches(),void a.printBranches(i)}b.twoArgsImpliedHead(d),a.branch(d[0],d[1])}},add:{dontCountForGolf:!0,sc:/^ga($|\s)/,regex:/^git +add($|\s)/,execute:function(){throw new j({msg:f.str("git-error-staging")})}},reset:{regex:/^git +reset($|\s)/,options:["--hard","--soft"],execute:function(a,b){var c=b.getOptionsMap(),d=b.getGeneralArgs();if(c["--soft"])throw new i({msg:f.str("git-error-staging")});if(c["--hard"]&&(b.addWarning(f.str("git-warning-hard")),d=d.concat(c["--hard"])),b.validateArgBounds(d,1,1),a.getDetachedHead())throw new i({msg:f.str("git-error-reset-detached")});a.reset(d[0])}},revert:{regex:/^git +revert($|\s)/,execute:function(a,b){var c=b.getGeneralArgs();b.validateArgBounds(c,1,Number.MAX_VALUE),a.revert(c);
}},merge:{regex:/^git +merge($|\s)/,options:["--no-ff"],execute:function(a,b){var c=b.getOptionsMap(),d=b.getGeneralArgs().concat(c["--no-ff"]||[]);b.validateArgBounds(d,1,1);var e=a.merge(d[0],{noFF:!!c["--no-ff"]});return void 0===e?void a.animationFactory.refreshTree(a.animationQueue,a.gitVisuals):void a.animationFactory.genCommitBirthAnimation(a.animationQueue,e,a.gitVisuals)}},log:{dontCountForGolf:!0,regex:/^git +log($|\s)/,execute:function(a,b){var c=b.getGeneralArgs();if(2==c.length){if("^"!=c[1][0])throw new i({msg:f.str("git-error-options")});a.logWithout(c[0],c[1])}b.oneArgImpliedHead(c),a.log(c[0])}},show:{dontCountForGolf:!0,regex:/^git +show($|\s)/,execute:function(a,b){var c=b.getGeneralArgs();b.oneArgImpliedHead(c),a.show(c[0])}},rebase:{sc:/^gr($|\s)/,options:["-i","--solution-ordering","--interactive-test","--aboveAll","-p","--preserve-merges"],regex:/^git +rebase($|\s)/,execute:function(a,b){var c=b.getOptionsMap(),d=b.getGeneralArgs();if(c["-i"]){var e=c["-i"].concat(d);return b.twoArgsImpliedHead(e," -i"),void(c["--interactive-test"]?a.rebaseInteractiveTest(e[0],e[1],{interactiveTest:c["--interactive-test"]}):a.rebaseInteractive(e[0],e[1],{aboveAll:!!c["--aboveAll"],initialCommitOrdering:c["--solution-ordering"]}))}b.twoArgsImpliedHead(d),a.rebase(d[0],d[1],{preserveMerges:c["-p"]||c["--preserve-merges"]})}},status:{dontCountForGolf:!0,sc:/^(gst|gs|git st)($|\s)/,regex:/^git +status($|\s)/,execute:function(a){a.status()}},checkout:{sc:/^(go|git co)($|\s)/,regex:/^git +checkout($|\s)/,options:["-b","-B","-"],execute:function(a,b){var c=b.getOptionsMap(),d=b.getGeneralArgs(),e=null;if(c["-b"]){e=c["-b"].concat(d),b.twoArgsImpliedHead(e,"-b");var g=a.validateBranchName(e[0]);return a.branch(g,e[1]),void a.checkout(g)}if(c["-"]){var h=a.HEAD.get("lastLastTarget");if(!h)throw new i({msg:f.str("git-result-nothing")});return void a.HEAD.set("target",h)}return c["-B"]?(e=c["-B"].concat(d),b.twoArgsImpliedHead(e,"-B"),a.forceBranch(e[0],e[1]),void a.checkout(e[0])):(b.validateArgBounds(d,1,1),void a.checkout(a.crappyUnescape(d[0])))}},push:{regex:/^git +push($|\s)/,options:["--force"],execute:function(a,b){if(!a.hasOrigin())throw new i({msg:f.str("git-error-origin-required")});var c,e,g,h={},j=b.getOptionsMap(),k=b.getGeneralArgs();b.twoArgsForOrigin(k),t(k);var l=k[1];if(l&&d(l)){var o=l.split(":");if(e=o[0],c=n(a,o[1]),""===e&&!a.origin.refs[c])throw new i({msg:f.todo("cannot delete branch "+h.destination+" which doesnt exist")})}else if(l?(m(a,l),g=a.resolveID(l)):g=a.getOneBeforeCommit("HEAD"),e=g.get("id"),g.getRemoteTrackingBranchID&&g.getRemoteTrackingBranchID()){u(a,e);var p=g.getRemoteTrackingBranchID();c=a.refs[p].getBaseID()}else c=n(a,e);e&&m(a,e),a.push({destination:c,source:e,force:!!j["--force"]})}},describe:{regex:/^git +describe($|\s)/,execute:function(a,b){if(0===a.tagCollection.toArray().length)throw new i({msg:f.todo("fatal: No tags found, cannot describe anything.")});var c=b.getGeneralArgs();b.oneArgImpliedHead(c),m(a,c[0]),a.describe(c[0])}},tag:{regex:/^git +tag($|\s)/,execute:function(a,b){var c=b.getGeneralArgs();if(0===c.length){var d=a.getTags();return void a.printTags(d)}b.twoArgsImpliedHead(c),a.tag(c[0],c[1])}}},w=[[/^(git help($|\s)|git$)/,function(){var b=[f.str("git-version"),"<br/>",f.str("git-usage"),e(f.str("git-usage-command")),"<br/>",f.str("git-supported-commands"),"<br/>"],c=a("../commands").commands.getOptionMap().git;Object.keys(c).forEach(function(a){var d=c[a];b.push("git "+a),Object.keys(d).forEach(function(a){b.push("	 "+a)},this)},this);var d=b.join("\n");throw d=d.replace(/\t/g,"&nbsp;&nbsp;&nbsp;"),new j({msg:d})}]];c.commandConfig=v,c.instantCommands=w},{"../commands":177,"../graph":188,"../intl":191,"../util/errors":217,"../util/escapeString":218}],185:[function(a,b,c){function d(a){a=a||{},this.beforeCB=a.beforeCB||function(){},this.afterCB=a.afterCB||function(){};var b=function(a){a.resolve()};this.beforeDeferHandler=a.beforeDeferHandler||b,this.afterDeferHandler=a.afterDeferHandler||b,this.eventBaton=a.eventBaton||f.getEventBaton()}var e=a("q"),f=a("../app");a("../views/multiView").MultiView;d.prototype.insertShim=function(){this.eventBaton.stealBaton("processGitCommand",this.processGitCommand,this)},d.prototype.removeShim=function(){this.eventBaton.releaseBaton("processGitCommand",this.processGitCommand,this)},d.prototype.processGitCommand=function(a,b){this.beforeCB(a);var c=e.defer();c.promise.then(function(){this.afterGitCommandProcessed(a,b)}.bind(this)).done();var d=function(){this.eventBaton.passBatonBack("processGitCommand",this.processGitCommand,this,[a,c])}.bind(this),f=e.defer();f.promise.then(d).done(),this.beforeDeferHandler(f,a)},d.prototype.afterGitCommandProcessed=function(a,b){this.afterCB(a);var c=e.defer();c.promise.then(function(){b.resolve()}).done(),this.afterDeferHandler(c,a)},c.GitShim=d},{"../app":176,"../views/multiView":232,q:13}],186:[function(a,b,c){function d(){var a={},b=function(){var a=f.defer();return a.resolve(),a.promise};for(var c in h)a[c]=b;return a.playRefreshAnimationAndFinish=function(a,b){b.finish()},a.refreshTree=function(a,b){a.finish()},a.highlightEachWithPromise=function(a,b,c){return a},a}function e(){return{makeOrigin:function(a){var b=(a.localRepo,a.treeString),c=new r;return c.gitEngine.loadTreeFromString(b),{customEvents:{on:function(a,b,c){b.apply(c,[])}},gitEngine:c.gitEngine}}}}var f=(a("backbone"),a("q")),g=a("../git").GitEngine,h=a("../visuals/animation/animationFactory").AnimationFactory,i=a("../visuals").GitVisuals,j=(a("../graph/treeCompare"),a("../util/eventBaton").EventBaton),k=a("../models/collections"),l=k.CommitCollection,m=k.BranchCollection,n=k.TagCollection,o=a("../models/commandModel").Command,p=a("../util/mock").mock,q=a("../util"),r=function(){this.init()};r.prototype.init=function(){this.commitCollection=new l,this.branchCollection=new m,this.tagCollection=new n;var a=d(),b=p(i),c=e();b.getVisualization=function(){return c},this.gitEngine=new g({collection:this.commitCollection,branches:this.branchCollection,tags:this.tagCollection,gitVisuals:b,animationFactory:a,eventBaton:new j}),this.gitEngine.init()};var s=function(a,b){var c=f.defer(),d=new r;d.sendCommand(a,c),c.promise.then(function(){b.resolve(d.gitEngine.exportTree())})};r.prototype.sendCommand=function(a,b){var c=f.defer(),d=c.promise;(new Date).getTime();q.splitTextCommand(a,function(a){d=d.then(function(){var b=new o({rawStr:a}),c=f.defer();return this.gitEngine.dispatch(b,c),c.promise}.bind(this))},this),d.then(function(){(new Date).getTime();b&&b.resolve()}),d.fail(function(a){console.log("!!!!!!!! error !!!!!!!"),console.log(a),console.log(a.stack),console.log("!!!!!!!!!!!!!!!!!!!!!!")}),c.resolve()},c.HeadlessGit=r,c.getTreeQuick=s},{"../git":187,"../graph/treeCompare":189,"../models/collections":199,"../models/commandModel":200,"../util":220,"../util/eventBaton":219,"../util/mock":223,"../visuals":236,"../visuals/animation/animationFactory":234,backbone:1,q:13}],187:[function(a,b,c){function d(a){if(a!==t)throw a}function e(a){this.rootCommit=null,this.refs={},this.HEAD=null,this.origin=null,this.mode="git",this.localRepo=null,this.branchCollection=a.branches,this.tagCollection=a.tags,this.commitCollection=a.collection,this.gitVisuals=a.gitVisuals,this.eventBaton=a.eventBaton,this.eventBaton.stealBaton("processGitCommand",this.dispatch,this),this.animationFactory=a.animationFactory?a.animationFactory:i,this.initUniqueID()}var f=a("backbone"),g=a("q"),h=a("../intl"),i=a("../visuals/animation/animationFactory").AnimationFactory,j=a("../visuals/animation").AnimationQueue,k=a("../graph/treeCompare"),l=a("../graph"),m=a("../util/errors"),n=a("../app"),o=a("../commands"),p=m.GitError,q=m.CommandResult,r="o/",s="&nbsp;&nbsp;&nbsp;",t="STAPH";e.prototype.initUniqueID=function(){this.uniqueId=function(){var a=0;return function(b){return b?b+a++:a++}}()},e.prototype.handleModeChange=function(a,b){if(this.mode===a)return void b();n.getEvents().trigger("vcsModeChange",{mode:a});var c=this.setMode(a);return this.origin&&this.origin.setMode(a,function(){}),c?void c.then(b):void b()},e.prototype.getIsHg=function(){return"hg"===this.mode},e.prototype.setMode=function(a){var b="git"===this.mode&&"hg"===a;if(this.mode=a,b){var c=g.defer();c.resolve();var d=c.promise,e=this.updateAllBranchesForHg();if(e)return d=d.then(function(){return this.animationFactory.playRefreshAnimationSlow(this.gitVisuals)}.bind(this)),d=d.then(function(){var a=this.pruneTree();if(a)return this.animationFactory.playRefreshAnimation(this.gitVisuals)}.bind(this));var f=this.pruneTree();if(f)return this.animationFactory.playRefreshAnimation(this.gitVisuals)}},e.prototype.assignLocalRepo=function(a){this.localRepo=a},e.prototype.defaultInit=function(){var a=l.getDefaultTree();this.loadTree(a)},e.prototype.init=function(){this.rootCommit=this.makeCommit(null,null,{rootCommit:!0}),this.commitCollection.add(this.rootCommit);var a=this.makeBranch("master",this.rootCommit);this.HEAD=new u({id:"HEAD",target:a}),this.refs[this.HEAD.get("id")]=this.HEAD,this.commit()},e.prototype.hasOrigin=function(){return!!this.origin},e.prototype.isOrigin=function(){return!!this.localRepo},e.prototype.exportTreeForBranch=function(a){var b=this.exportTree(),c=l.getUpstreamSet(this,a),d=b.commits;b.commits={},d.forEach(function(a,d){c[d]&&(b.commits[d]=a)});var e=b.branches;return b.branches={},e.forEach(function(c,d){d===a&&(b.branches[d]=c)}),b.HEAD.target=a,b},e.prototype.exportTree=function(){var a={branches:{},commits:{},tags:{},HEAD:null};this.branchCollection.toJSON().forEach(function(b){b.target=b.target.get("id"),delete b.visBranch,a.branches[b.id]=b}),this.commitCollection.toJSON().forEach(function(b){w.prototype.constants.circularFields.forEach(function(a){delete b[a]}),b.parents=(b.parents||[]).map(function(a){return a.get("id")}),a.commits[b.id]=b},this),this.tagCollection.toJSON().forEach(function(b){delete b.visTag,b.target=b.target.get("id"),a.tags[b.id]=b},this);var b=this.HEAD.toJSON();return b.lastTarget=b.lastLastTarget=b.visBranch=b.visTag=void 0,b.target=b.target.get("id"),a.HEAD=b,this.hasOrigin()&&(a.originTree=this.origin.exportTree()),a},e.prototype.printTree=function(a){a=a||this.exportTree(),k.reduceTreeFields([a]);var b=JSON.stringify(a);return/'/.test(b)&&(b=escape(b)),b},e.prototype.printAndCopyTree=function(){window.prompt(h.str("Copy the tree string below"),this.printTree())},e.prototype.loadTree=function(a){a=JSON.parse(JSON.stringify(a)),this.removeAll(),this.instantiateFromTree(a),this.reloadGraphics(),this.initUniqueID()},e.prototype.loadTreeFromString=function(a){this.loadTree(JSON.parse(unescape(this.crappyUnescape(a))))},e.prototype.instantiateFromTree=function(a){var b={};Object.values(a.commits).forEach(function(c){var d=this.getOrMakeRecursive(a,b,c.id,this.gitVisuals);this.commitCollection.add(d)},this),Object.values(a.branches).forEach(function(c){var d=this.getOrMakeRecursive(a,b,c.id,this.gitVisuals);this.branchCollection.add(d,{silent:!0})},this),Object.values(a.tags||{}).forEach(function(c){var d=this.getOrMakeRecursive(a,b,c.id,this.gitVisuals);this.tagCollection.add(d,{silent:!0})},this);var c=this.getOrMakeRecursive(a,b,a.HEAD.id,this.gitVisuals);if(this.HEAD=c,this.rootCommit=b.C0,!this.rootCommit)throw new Error("Need root commit of C0 for calculations");if(this.refs=b,this.gitVisuals.gitReady=!1,this.branchCollection.each(function(a){this.gitVisuals.addBranch(a)},this),this.tagCollection.each(function(a){this.gitVisuals.addTag(a)},this),a.originTree){var d=JSON.stringify(a.originTree);this.animationQueue=this.animationQueue||new j({callback:function(){}}),this.makeOrigin(d)}},e.prototype.makeOrigin=function(a){if(this.hasOrigin())throw new p({msg:h.str("git-error-origin-exists")});a=a||this.printTree(this.exportTreeForBranch("master"));var b=this.gitVisuals.getVisualization(),c=b.makeOrigin({localRepo:this,treeString:a});this.animationQueue.set("promiseBased",!0),c.customEvents.on("gitEngineReady",function(){this.origin=c.gitEngine,c.gitEngine.assignLocalRepo(this),this.syncRemoteBranchFills(),this.origin.externalRefresh(),this.animationFactory.playRefreshAnimationAndFinish(this.gitVisuals,this.animationQueue)},this);var d=JSON.parse(unescape(a));Object.keys(d.branches).forEach(function(a){var b=d.branches[a];if(!this.refs[r+a]){var c=this.findCommonAncestorWithRemote(b.target),e=this.makeBranch(r+a,this.getCommitFromRef(c));this.setLocalToTrackRemote(this.refs[b.id],e)}},this)},e.prototype.makeRemoteBranchIfNeeded=function(a){if(!this.refs[r+a]){var b=this.origin.resolveID(a);if("branch"===b.get("type"))return this.makeRemoteBranchForRemote(a)}},e.prototype.makeBranchIfNeeded=function(a){if(!this.refs[a]){var b=this.findCommonAncestorForRemote(this.getCommitFromRef("HEAD").get("id"));return this.validateAndMakeBranch(a,this.getCommitFromRef(b))}},e.prototype.makeRemoteBranchForRemote=function(a){var b=this.origin.refs[a].get("target"),c=this.findCommonAncestorWithRemote(b.get("id"));return this.makeBranch(r+a,this.getCommitFromRef(c))},e.prototype.findCommonAncestorForRemote=function(a){if(this.origin.refs[a])return a;var b=this.refs[a].get("parents");if(1===b.length)return a=b[0].get("id"),this.findCommonAncestorForRemote(a);var c=this.findCommonAncestorForRemote(b[0].get("id")),d=this.findCommonAncestorForRemote(b[1].get("id"));return this.getCommonAncestor(c,d,!0).get("id")},e.prototype.findCommonAncestorWithRemote=function(a){if(this.refs[a])return a;var b=this.origin.refs[a].get("parents");if(1===b.length)return this.findCommonAncestorWithRemote(b[0].get("id"));var c=this.findCommonAncestorWithRemote(b[0].get("id")),d=this.findCommonAncestorWithRemote(b[1].get("id"));return this.getCommonAncestor(c,d,!0).get("id")},e.prototype.makeBranchOnOriginAndTrack=function(a,b){var c=this.makeBranch(r+a,this.getCommitFromRef(b));this.refs[a]&&this.setLocalToTrackRemote(this.refs[a],c);var d=this.findCommonAncestorForRemote(this.getCommitFromRef(b).get("id"));this.origin.makeBranch(a,this.origin.getCommitFromRef(d))},e.prototype.setLocalToTrackRemote=function(a,b){if(a.setRemoteTrackingBranchID(b.get("id")),this.command){var c='local branch "'+a.get("id")+'" set to track remote branch "'+b.get("id")+'"';this.command.addWarning(h.todo(c))}},e.prototype.getOrMakeRecursive=function(a,b,c,d){if(b[c])return b[c];var e=function(a,b){if(a.commits[b])return"commit";if(a.branches[b])return"branch";if("HEAD"==b)return"HEAD";if(a.tags[b])return"tag";throw new Error("bad type for "+b)},f=e(a,c);if("HEAD"==f){var g=a.HEAD,h=new u(Object.assign(a.HEAD,{target:this.getOrMakeRecursive(a,b,g.target)}));return b[c]=h,h}if("branch"==f){var i=a.branches[c],j=new v(Object.assign(a.branches[c],{target:this.getOrMakeRecursive(a,b,i.target)}));return b[c]=j,j}if("tag"==f){var k=a.tags[c],l=new x(Object.assign(a.tags[c],{target:this.getOrMakeRecursive(a,b,k.target)}));return b[c]=l,l}if("commit"==f){var m=a.commits[c],n=m.parents.map(function(c){return this.getOrMakeRecursive(a,b,c)},this),o=new w(Object.assign(m,{parents:n,gitVisuals:this.gitVisuals}));return b[c]=o,o}throw new Error("ruh rho!! unsupported type for "+c)},e.prototype.tearDown=function(){this.tornDown||(this.eventBaton.releaseBaton("processGitCommand",this.dispatch,this),this.removeAll(),this.tornDown=!0)},e.prototype.reloadGraphics=function(){this.gitVisuals.rootCommit=this.refs.C0,this.gitVisuals.initHeadBranch(),this.gitVisuals.drawTreeFromReload(),this.gitVisuals.refreshTreeHarsh()},e.prototype.removeAll=function(){this.branchCollection.reset(),this.tagCollection.reset(),this.commitCollection.reset(),this.refs={},this.HEAD=null,this.rootCommit=null,this.origin&&(this.origin.gitVisuals.getVisualization().tearDown(),delete this.origin,this.gitVisuals.getVisualization().clearOrigin()),this.gitVisuals.resetAll()},e.prototype.getDetachedHead=function(){var a=this.HEAD.get("target"),b=a.get("type");return"branch"!==b},e.prototype.validateBranchName=function(a){if(a=a.replace(/&#x2F;/g,"/"),a=a.replace(/\s/g,""),!/^(\w+[.\/\-]?)+\w+$/.test(a)||0===a.search("o/"))throw new p({msg:h.str("bad-branch-name",{branch:a})});if(/^[cC]\d+$/.test(a))throw new p({msg:h.str("bad-branch-name",{branch:a})});if(/[hH][eE][aA][dD]/.test(a))throw new p({msg:h.str("bad-branch-name",{branch:a})});return a.length>9&&(a=a.slice(0,9),this.command.addWarning(h.str("branch-name-short",{branch:a}))),a},e.prototype.validateAndMakeBranch=function(a,b){if(a=this.validateBranchName(a),this.refs[a])throw new p({msg:h.str("bad-branch-name",{branch:a})});return this.makeBranch(a,b)},e.prototype.validateAndMakeTag=function(a,b){if(a=this.validateBranchName(a),this.refs[a])throw new p({msg:h.str("bad-tag-name",{tag:name})});this.makeTag(a,b)},e.prototype.makeBranch=function(a,b){if(this.refs[a])throw new Error("woah already have that");var c=new v({target:b,id:a});return this.branchCollection.add(c),this.refs[c.get("id")]=c,c},e.prototype.makeTag=function(a,b){if(this.refs[a])throw new Error("woah already have that");var c=new x({target:b,id:a});return this.tagCollection.add(c),this.refs[c.get("id")]=c,c},e.prototype.getHead=function(){return Object.assign({},this.HEAD)},e.prototype.getTags=function(){var a=[];return this.tagCollection.each(function(b){a.push({id:b.get("id"),target:b.get("target"),remote:b.getIsRemote(),obj:b})},this),a},e.prototype.getBranches=function(){var a=[];return this.branchCollection.each(function(b){a.push({id:b.get("id"),selected:this.HEAD.get("target")===b,target:b.get("target"),remote:b.getIsRemote(),obj:b})},this),a},e.prototype.getRemoteBranches=function(){var a=this.getBranches();return a.filter(function(a){return a.remote===!0})},e.prototype.getLocalBranches=function(){var a=this.getBranches();return a.filter(function(a){return a.remote===!1})},e.prototype.printBranchesWithout=function(a){var b=this.getUpstreamBranchSet(),c=this.getCommitFromRef(a).get("id"),d=b[c].map(function(a){return a.selected=this.HEAD.get("target").get("id")==a.id,a},this);this.printBranches(d)},e.prototype.printBranches=function(a){var b="";throw a.forEach(function(a){b+=(a.selected?"* ":"")+a.id+"\n"}),new q({msg:b})},e.prototype.printTags=function(a){var b="";throw a.forEach(function(a){b+=a.id+"\n"}),new q({msg:b})},e.prototype.printRemotes=function(a){var b="";throw a.verbose?(b+="origin (fetch)\n",b+=s+"git@github.com:pcottle/foo.git\n\n",b+="origin (push)\n",b+=s+"git@github.com:pcottle/foo.git"):b+="origin",new q({msg:b})},e.prototype.getUniqueID=function(){for(var a=this.uniqueId("C"),b=function(a){return this.refs[a]?!0:this.origin&&this.origin.refs[a]?!0:!1}.bind(this);b(a);)a=this.uniqueId("C");return a},e.prototype.makeCommit=function(a,b,c){b||(b=this.getUniqueID());var d=new w(Object.assign({parents:a,id:b,gitVisuals:this.gitVisuals},c||{}));return this.refs[d.get("id")]=d,this.commitCollection.add(d),d},e.prototype.revert=function(a){var b=a.map(function(a){return this.getCommitFromRef(a)},this),c=g.defer(),d=c.promise,e=this.resolveID("HEAD");d=this.animationFactory.highlightEachWithPromise(d,b,e);var f=this.getCommitFromRef("HEAD"),i=function(a){var b=this.rebaseAltID(a.get("id")),c=h.str("git-revert-msg",{oldCommit:this.resolveName(a),oldMsg:a.get("commitMessage")}),d=this.makeCommit([f],b,{commitMessage:c});return f=d,this.animationFactory.playCommitBirthPromiseAnimation(d,this.gitVisuals)}.bind(this);b.forEach(function(a){d=d.then(function(){return i(a)})}),d=d.then(function(){return this.setTargetLocation("HEAD",f),this.animationFactory.playRefreshAnimation(this.gitVisuals)}.bind(this)),this.animationQueue.thenFinish(d,c)},e.prototype.reset=function(a){this.setTargetLocation("HEAD",this.getCommitFromRef(a))},e.prototype.setupCherrypickChain=function(a){var b=g.defer(),c=b.promise,d=this.resolveID("HEAD");c=this.animationFactory.highlightEachWithPromise(c,a,d);var e=function(a){var b=this.cherrypick(a);return this.animationFactory.playCommitBirthPromiseAnimation(b,this.gitVisuals)}.bind(this);a.forEach(function(a){c=c.then(function(){return e(a)})},this),this.animationQueue.thenFinish(c,b)},e.prototype.checkUpstreamOfSource=function(a,b,c,d,e){var f=l.getUpstreamSet(b,d),g=a.getCommitFromRef(c).get("id");if(!f[g])throw new p({msg:e||h.str("git-error-origin-fetch-no-ff")})},e.prototype.getTargetGraphDifference=function(a,b,c,d,e){e=e||{},d=b.resolveID(d);var f=l.getUpstreamSet(a,c),g=b.getCommitFromRef(d),i=b.exportTree(),j=i.commits[g.get("id")];if(f[j.id]){if(e.dontThrowOnNoFetch)return[];throw new p({msg:h.str("git-error-origin-fetch-uptodate")})}j.depth=0;for(var k=[],m=[j],n=function(a){if(!f[a]){var b=i.commits[a];b.depth=o.depth+1,m.push(b)}};m.length;){var o=m.pop();k.push(o),o.parents.forEach(n)}for(var q=l.getUniqueObjects(k),r=[],s=function(a){var b=!0;return a.parents.forEach(function(a){b=b&&f[a]}),b};q.length;)for(var t=0;t<q.length;t++)if(s(q[t])){var u=q[t];r.push(u),q.splice(t,1),f[u.id]=!0}return r},e.prototype.push=function(a){if(a=a||{},""===a.source)return void this.pushDeleteRemoteBranch(this.refs[r+a.destination],this.origin.refs[a.destination]);var b=this.refs[a.source];if(b&&"tag"===b.attributes.type)throw new p({msg:h.todo("Tags are not allowed as sources for pushing")});this.origin.refs[a.destination]||(this.makeBranchOnOriginAndTrack(a.destination,this.getCommitFromRef(b)),this.animationFactory.playRefreshAnimation(this.origin.gitVisuals),this.animationFactory.playRefreshAnimation(this.gitVisuals));var c=this.origin.refs[a.destination],d=this.resolveID(a.source||"HEAD");a.force||this.checkUpstreamOfSource(this,this.origin,c,d,h.str("git-error-origin-push-no-ff"));var e=this.getTargetGraphDifference(this.origin,this,c,d,{dontThrowOnNoFetch:!0});if(!e.length){if(!a.force)throw new p({msg:h.str("git-error-origin-fetch-uptodate")});var f=this.getCommitFromRef(b),i=this.getCommitFromRef(c);if(f.id===i.id)throw new p({msg:h.str("git-error-origin-fetch-uptodate")})}e=e.filter(function(a){return!this.origin.refs[a.id]},this);var j=function(a,b){var c=b.map(function(a){return this.origin.refs[a]},this);return this.origin.makeCommit(c,a)}.bind(this),k=function(a,b){var c=j(a,b);return this.animationFactory.playCommitBirthPromiseAnimation(c,this.origin.gitVisuals)}.bind(this),l=g.defer(),m=l.promise;e.forEach(function(a){m=m.then(function(){return this.animationFactory.playHighlightPromiseAnimation(this.refs[a.id],c)}.bind(this)),m=m.then(function(){return k(a.id,a.parents)})},this),m=m.then(function(){var a=this.getCommitFromRef(d).get("id"),b=this.origin.refs[a];return this.origin.setTargetLocation(c,b),this.animationFactory.playRefreshAnimation(this.gitVisuals),this.animationFactory.playRefreshAnimation(this.origin.gitVisuals)}.bind(this)),m=m.then(function(){var b=this.getCommitFromRef(d);return this.setTargetLocation(this.refs[r+a.destination],b),this.animationFactory.playRefreshAnimation(this.gitVisuals)}.bind(this)),a.dontResolvePromise||this.animationQueue.thenFinish(m,l)},e.prototype.pushDeleteRemoteBranch=function(a,b){if("master"===b.get("id"))throw new p({msg:h.todo("You cannot delete master branch on remote!")});var c=a.get("id");this.origin.deleteBranch(b),this.deleteBranch(a),this.branchCollection.each(function(a){a.getRemoteTrackingBranchID()===c&&a.setRemoteTrackingBranchID(null)},this),this.origin.pruneTree(),this.origin.externalRefresh()},e.prototype.fetch=function(a){a=a||{};var b;if(a.destination&&""===a.source)return void this.validateAndMakeBranch(a.destination,this.getCommitFromRef("HEAD"));if(a.destination&&a.source)return b=b||this.makeRemoteBranchIfNeeded(a.source),b=b||this.makeBranchIfNeeded(a.destination),a.didMakeBranch=b,this.fetchCore([{destination:a.destination,source:a.source}],a);var c=this.origin.branchCollection.toArray(),d=c.map(function(a){var c=a.get("id");return b=b||this.makeRemoteBranchIfNeeded(c),{destination:a.getPrefixedID(),source:c}},this);return a.didMakeBranch=b,this.fetchCore(d,a)},e.prototype.fetchCore=function(a,b){a.forEach(function(a){this.checkUpstreamOfSource(this,this.origin,a.destination,a.source)},this);var c=[];if(a.forEach(function(a){c=c.concat(this.getTargetGraphDifference(this,this.origin,a.destination,a.source,Object.assign({},b,{dontThrowOnNoFetch:!0})))},this),!c.length&&!b.dontThrowOnNoFetch)throw new p({msg:h.str("git-error-origin-fetch-uptodate")});c=l.getUniqueObjects(c),c=l.descendSortDepth(c),c=c.filter(function(a){return!this.refs[a.id]},this);var d=function(a,b){var c=b.map(function(a){return this.refs[a]},this);return this.makeCommit(c,a)}.bind(this),e=function(a,b){var c=d(a,b);return this.animationFactory.playCommitBirthPromiseAnimation(c,this.gitVisuals)}.bind(this),f=g.defer(),i=f.promise;b.didMakeBranch&&(i=i.then(function(){return this.animationFactory.playRefreshAnimation(this.origin.gitVisuals),this.animationFactory.playRefreshAnimation(this.gitVisuals)}.bind(this)));var j=this.origin.getUpstreamBranchSet();return c.forEach(function(a){var b=j[a.id][0].obj,c=this.refs[b.getPrefixedID()];i=i.then(function(){return this.animationFactory.playHighlightPromiseAnimation(this.origin.refs[a.id],c)}.bind(this)),i=i.then(function(){return e(a.id,a.parents)})},this),i=i.then(function(){return a.forEach(function(a){var b=this.refs[a.destination],c=this.origin.getCommitFromRef(a.source).get("id"),d=this.refs[c];this.setTargetLocation(b,d)},this),this.animationFactory.playRefreshAnimation(this.origin.gitVisuals),this.animationFactory.playRefreshAnimation(this.gitVisuals)}.bind(this)),b.dontResolvePromise||this.animationQueue.thenFinish(i,f),{chain:i,deferred:f}},e.prototype.pull=function(a){a=a||{};var b=this.getOneBeforeCommit("HEAD"),c=this.fetch({dontResolvePromise:!0,dontThrowOnNoFetch:!0,source:a.source,destination:a.destination});if(c){var d=this.refs[a.destination];a.isRebase?this.pullFinishWithRebase(c,b,d):this.pullFinishWithMerge(c,b,d)}},e.prototype.pullFinishWithRebase=function(a,b,c){var e=a.chain,f=a.deferred;e=e.then(function(){if(this.isUpstreamOf(c,b))throw this.command.set("error",new q({msg:h.str("git-result-uptodate")})),t}.bind(this)),e=e.then(function(){return this.animationFactory.getDelayedPromise(300)}.bind(this)),e=e.then(function(){return this.animationFactory.playHighlightPromiseAnimation(this.getCommitFromRef(c),b)}.bind(this)),e=e.then(function(){if(a.dontResolvePromise=!0,this.isUpstreamOf(b,c))return this.setTargetLocation(b,this.getCommitFromRef(c)),this.checkout(b),this.animationFactory.playRefreshAnimation(this.gitVisuals);try{return this.rebase(c,b,a)}catch(d){if(this.filterError(d),d.getMsg()!==h.str("git-error-rebase-none"))throw d;return this.setTargetLocation(b,this.getCommitFromRef(c)),this.checkout(b),this.animationFactory.playRefreshAnimation(this.gitVisuals)}}.bind(this)),e=e.fail(d),this.animationQueue.thenFinish(e,f)},e.prototype.pullFinishWithMerge=function(a,b,c){var e=a.chain,f=a.deferred;e=e.then(function(){if(this.mergeCheck(c,b))throw this.command.set("error",new q({msg:h.str("git-result-uptodate")})),t}.bind(this)),e=e.then(function(){return this.animationFactory.getDelayedPromise(300)}.bind(this)),e=e.then(function(){return this.animationFactory.playHighlightPromiseAnimation(this.getCommitFromRef(c),b)}.bind(this)),e=e.then(function(){return this.animationFactory.playHighlightPromiseAnimation(this.getCommitFromRef(b),c)}.bind(this)),e=e.then(function(){return this.animationFactory.getDelayedPromise(700)}.bind(this)),e=e.then(function(){var a=this.merge(c);return a?this.animationFactory.playCommitBirthPromiseAnimation(a,this.gitVisuals):this.animationFactory.playRefreshAnimation(this.gitVisuals)}.bind(this)),e=e.fail(d),this.animationQueue.thenFinish(e,f)},e.prototype.fakeTeamwork=function(a,b){for(var c=function(){var a=this.getUniqueID();return this.origin.receiveTeamwork(a,b,this.animationQueue)}.bind(this),d=function(){var a=c();return this.animationFactory.playCommitBirthPromiseAnimation(a,this.origin.gitVisuals)}.bind(this),e=g.defer(),f=e.promise,h=0;a>h;h++)f=f.then(d);this.animationQueue.thenFinish(f,e)},e.prototype.receiveTeamwork=function(a,b,c){this.checkout(this.resolveID(b));var d=this.makeCommit([this.getCommitFromRef("HEAD")],a);return this.setTargetLocation(this.HEAD,d),d},e.prototype.cherrypick=function(a){var b=this.rebaseAltID(a.get("id")),c=this.makeCommit([this.getCommitFromRef("HEAD")],b);return this.setTargetLocation(this.HEAD,c),c},e.prototype.commit=function(a){a=a||{};var b=this.getCommitFromRef(this.HEAD),c=null;a.isAmend&&(b=this.resolveID("HEAD~1"),c=this.rebaseAltID(this.getCommitFromRef("HEAD").get("id")));var d=this.makeCommit([b],c);return this.getDetachedHead()&&"git"===this.mode&&this.command.addWarning(h.str("git-warning-detached")),this.setTargetLocation(this.HEAD,d),d},e.prototype.resolveName=function(a){var b=this.resolveID(a);return"commit"==b.get("type")?"commit "+b.get("id"):"branch"==b.get("type")?'branch "'+b.get("id")+'"':this.resolveName(b.get("target"))},e.prototype.resolveID=function(a){if(null===a||void 0===a)throw new Error("Don't call this with null / undefined");return"string"!=typeof a?a:this.resolveStringRef(a)},e.prototype.resolveRelativeRef=function(a,b){for(var c,d=/([~\^])(\d*)/g;c=d.exec(b);){var e=a,f=c[2]?parseInt(c[2],10):1;if("^"==c[1])e=a.getParent(f-1);else for(;e&&f--;)e=e.getParent(0);if(!e){var g=h.str("git-error-relative-ref",{commit:a.id,match:c[0]});throw new p({msg:g})}a=e}return a},e.prototype.resolveStringRef=function(a){if(a=this.crappyUnescape(a),this.refs[a])return this.refs[a];if(a.match(/^c\d+'*/)&&this.refs[a.toUpperCase()])return this.refs[a.toUpperCase()];var b=null,c=null,d=/^([a-zA-Z0-9]+)(([~\^]\d*)*)/,e=d.exec(a);if(!e)throw new p({msg:h.str("git-error-exist",{ref:a})});if(b=e[1],c=e[2],!this.refs[b])throw new p({msg:h.str("git-error-exist",{ref:a})});var f=this.getCommitFromRef(b);return c&&(f=this.resolveRelativeRef(f,c)),f},e.prototype.getCommitFromRef=function(a){for(var b=this.resolveID(a);"commit"!==b.get("type");)b=b.get("target");return b},e.prototype.getType=function(a){return this.resolveID(a).get("type")},e.prototype.setTargetLocation=function(a,b){"commit"!=this.getType(a)&&(a=this.getOneBeforeCommit(a),a.set("target",b))},e.prototype.updateBranchesFromSet=function(a){if(!a)throw new Error("need commit set here");var b=this.getUpstreamBranchSet(),c={};a.forEach(function(a,d){b[d].forEach(function(a){c[a.id]=!0})},this);var d=c.map(function(a,b){return b});return this.updateBranchesForHg(d)},e.prototype.updateAllBranchesForHgAndPlay=function(a){return this.updateBranchesForHg(a)&&this.animationFactory.playRefreshAnimationSlow(this.gitVisuals)},e.prototype.updateAllBranchesForHg=function(){var a=this.branchCollection.map(function(a){return a.get("id")});return this.updateBranchesForHg(a)},e.prototype.syncRemoteBranchFills=function(){this.branchCollection.each(function(a){if(a.getIsRemote()){var b=this.origin.refs[a.getBaseID()];if(b.get("visBranch")){var c=b.get("visBranch").get("fill");a.get("visBranch").set("fill",c)}}},this)},e.prototype.updateBranchesForHg=function(a){var b=!1;return a.forEach(function(a){var c=this.getCommitFromRef(a).get("id"),d=this.getBumpedID(c);if(this.refs[d]){b=!0;for(var e;this.refs[d];)e=d,d=this.rebaseAltID(d);this.setTargetLocation(this.refs[a],this.refs[e])}},this),b?!0:!1},e.prototype.updateCommitParentsForHgRebase=function(a){var b=!1;return Object.keys(a).forEach(function(a){var c=this.refs[a],d=c.checkForUpdatedParent(this);b=b||d},this),b},e.prototype.pruneTreeAndPlay=function(){return this.pruneTree()&&this.animationFactory.playRefreshAnimationSlow(this.gitVisuals)},e.prototype.pruneTree=function(){var a=this.getUpstreamBranchSet(),b=l.getUpstreamSet(this,"HEAD");Object.keys(b).forEach(function(b){a[b]=!0});var c=[];return this.commitCollection.each(function(b){a[b.get("id")]||c.push(b)},this),c.length?(this.command&&this.command.addWarning(h.str("hg-prune-tree")),c.forEach(function(a){a.removeFromParents(),this.commitCollection.remove(a);var b=a.get("id");this.refs[b]=void 0,delete this.refs[b];
var c=a.get("visNode");c&&c.removeAll()},this),!0):void 0},e.prototype.getUpstreamBranchSet=function(){return this.getUpstreamCollectionSet(this.branchCollection)},e.prototype.getUpstreamTagSet=function(){return this.getUpstreamCollectionSet(this.tagCollection)},e.prototype.getUpstreamCollectionSet=function(a){var b={},c=function(a,b){var c=!1;return a.forEach(function(a){a.id==b&&(c=!0)}),c},d=function(a){for(var b=[],c=[a];c.length;){var d=c.pop();b.push(d.get("id")),d.get("parents")&&d.get("parents").length&&(c=c.concat(d.get("parents")))}return b};return a.each(function(a){var e=d(a.get("target"));e.forEach(function(d){b[d]=b[d]||[],c(b[d],a.get("id"))||b[d].push({obj:a,id:a.get("id")})})}),b},e.prototype.getUpstreamHeadSet=function(){var a=l.getUpstreamSet(this,"HEAD"),b=this.getCommitFromRef("HEAD").get("id");return a[b]=!0,a},e.prototype.getOneBeforeCommit=function(a){var b=this.resolveID(a);return b!==this.HEAD||this.getDetachedHead()||(b=b.get("target")),b},e.prototype.scrapeBaseID=function(a){var b=/^C(\d+)/.exec(a);if(!b)throw new Error("regex failed on "+a);return"C"+b[1]},e.prototype.rebaseAltID=function(a){for(var b=this.getBumpedID(a);this.refs[b];)b=this.getBumpedID(b);return b},e.prototype.getMostRecentBumpedID=function(a){for(var b,c=a;this.refs[c];)b=c,c=this.getBumpedID(c);return b},e.prototype.getBumpedID=function(a){for(var b=[[/^C(\d+)[']{0,2}$/,function(a){return a[0]+"'"}],[/^C(\d+)[']{3}$/,function(a){return a[0].slice(0,-3)+"'^4"}],[/^C(\d+)['][\^](\d+)$/,function(a){return"C"+String(a[1])+"'^"+String(Number(a[2])+1)}]],c=0;c<b.length;c++){var d=b[c][0],e=b[c][1],f=d.exec(a);if(f)return e(f)}throw new Error("could not modify the id "+a)},e.prototype.idSortFunc=function(a,b){var c=1e3,d=[[/^C(\d+)$/,function(a){return c*a[1]}],[/^C(\d+)([']+)$/,function(a){return c*a[1]+a[2].length}],[/^C(\d+)['][\^](\d+)$/,function(a){return c*a[1]+Number(a[2])}]],e=function(a){for(var b=0;b<d.length;b++){var c=d[b][0],e=d[b][1],f=c.exec(a);if(f)return e(f)}throw new Error("Could not parse commit ID "+a)};return e(a.get("id"))-e(b.get("id"))},e.prototype.dateSortFunc=function(a,b){var c=new Date(a.get("createTime")),d=new Date(b.get("createTime"));return c-d===0?e.prototype.idSortFunc(a,b):c-d},e.prototype.hgRebase=function(a,b){var c=g.defer(),d=this.rebase(a,b,{dontResolvePromise:!0,deferred:c});if(d){var e=(this.getCommonAncestor(a,b),this.getCommitFromRef(b)),f=this.getDownstreamSet(b),h=l.getUpstreamSet(this,a),i=this.getUpstreamDiffSetFromSet(h,b),j=[];Object.keys(i).forEach(function(a){j.push(this.getDownstreamSet(a))},this);var k={};k[e.get("id")]=!0,[i,f].concat(j).forEach(function(a){Object.keys(a).forEach(function(a){k[a]=!0})});var m={},n=this.getUpstreamBranchSet();Object.keys(k).forEach(function(a){n[a].forEach(function(a){m[a.id]=!0})});var o=Object.keys(m);d=d.then(function(){var a=this.updateCommitParentsForHgRebase(k);if(a)return this.animationFactory.playRefreshAnimationSlow(this.gitVisuals)}.bind(this)),d=d.then(function(){return this.updateAllBranchesForHgAndPlay(o)}.bind(this)),d=d.then(function(){return this.pruneTreeAndPlay()}.bind(this)),this.animationQueue.thenFinish(d,c)}},e.prototype.rebase=function(a,b,c){if(this.isUpstreamOf(a,b))return this.command.setResult(h.str("git-result-uptodate")),void this.checkout(b);if(this.isUpstreamOf(b,a))return this.setTargetLocation(b,this.getCommitFromRef(a)),this.command.setResult(h.str("git-result-fastforward")),void this.checkout(b);var d=l.getUpstreamSet(this,a),e=this.getUpstreamDiffFromSet(d,b);return this.rebaseFinish(e,d,a,b,c)},e.prototype.getUpstreamDiffSetFromSet=function(a,b){var c={};return this.getUpstreamDiffFromSet(a,b).forEach(function(a){c[a.get("id")]=!0}),c},e.prototype.getUpstreamDiffFromSet=function(a,b){var c=l.bfsFromLocationWithSet(this,b,a);return c.sort(this.dateSortFunc),c},e.prototype.getInteractiveRebaseCommits=function(a,b){for(var c=l.getUpstreamSet(this,a),d=[],e=[this.getCommitFromRef(b)];e.length;){var f=e.pop();c[f.get("id")]||(d.push(f),e=e.concat(f.get("parents")),e.sort(this.dateSortFunc))}var g=[];if(d.forEach(function(a){1==a.get("parents").length&&g.push(a)}),!g.length)throw new p({msg:h.str("git-error-rebase-none")});return g},e.prototype.rebaseInteractiveTest=function(a,b,c){c=c||{};var d=this.getInteractiveRebaseCommits(a,b),e={};d.forEach(function(a){var b=a.get("id");e[b]=a});var f;if(0===c.interactiveTest.length)f=d;else{var g=c.interactiveTest[0].split(","),i=[];if(f=[],g.forEach(function(a){a in e?f.push(e[a]):i.push(a)}),i.length>0)throw new p({msg:h.todo("Hey those commits don't exist in the set!")})}this.rebaseFinish(f,{},a,b)},e.prototype.rebaseInteractive=function(b,c,d){d=d||{};var e=this.getInteractiveRebaseCommits(b,c);this.animationQueue.set("defer",!0);var f=g.defer();f.promise.then(function(a){if(!a.length)throw new q({msg:h.str("git-result-nothing")});this.rebaseFinish(a,{},b,c)}.bind(this)).fail(function(a){this.filterError(a),this.command.set("error",a),this.animationQueue.start()}.bind(this)).done();var i;if(d.initialCommitOrdering&&d.initialCommitOrdering.length>0){var j={};e.forEach(function(a){j[a.get("id")]=!0}),i=[],d.initialCommitOrdering[0].split(",").forEach(function(a){if(!j[a])throw new p({msg:h.todo("Hey those commits don't exist in the set!")});i.push(a)})}var k=a("../views/rebaseView").InteractiveRebaseView;new k({deferred:f,toRebase:e,initialCommitOrdering:i,aboveAll:d.aboveAll})},e.prototype.filterRebaseCommits=function(a,b,c){var d={};Object.keys(b).forEach(function(a){d[this.scrapeBaseID(a)]=!0},this);var e={};return a.filter(function(a){if(1!==a.get("parents").length&&!c.preserveMerges)return!1;var b=this.scrapeBaseID(a.get("id"));return d[b]?!1:e[a.get("id")]?!1:(e[a.get("id")]=!0,!0)},this)},e.prototype.getRebasePreserveMergesParents=function(a){var b=a.get("parents");return b.map(function(a){var b=a.get("id"),c=this.getMostRecentBumpedID(b);return this.refs[c]},this)},e.prototype.rebaseFinish=function(a,b,c,d,e){e=e||{};var f=this.resolveID(c),i=e.deferred||g.defer(),j=e.chain||i.promise,k=this.filterRebaseCommits(a,b,e);if(!k.length)throw new p({msg:h.str("git-error-rebase-none")});j=this.animationFactory.highlightEachWithPromise(j,k,f);var l=this.getCommitFromRef(c),m=!1,n=function(a){var b,c=this.rebaseAltID(a.get("id"));b=e.preserveMerges&&m&&m?this.getRebasePreserveMergesParents(a):[l];var d=this.makeCommit(b,c);return l=d,m=!0,this.animationFactory.playCommitBirthPromiseAnimation(d,this.gitVisuals)}.bind(this);return k.forEach(function(a){j=j.then(function(){return n(a)})},this),j=j.then(function(){return"commit"==this.resolveID(d).get("type")?this.checkout(l):(this.setTargetLocation(d,l),this.checkout(d)),this.animationFactory.playRefreshAnimation(this.gitVisuals)}.bind(this)),e.dontResolvePromise||this.animationQueue.thenFinish(j,i),j},e.prototype.mergeCheck=function(a,b){var c=this.getCommitFromRef(a)===this.getCommitFromRef(b);return this.isUpstreamOf(a,b)||c},e.prototype.merge=function(a,b){b=b||{};var c="HEAD";if(this.mergeCheck(a,c))throw new q({msg:h.str("git-result-uptodate")});if(this.isUpstreamOf(c,a)&&!b.noFF)return this.setTargetLocation(c,this.getCommitFromRef(a)),void this.command.setResult(h.str("git-result-fastforward"));var d=this.getCommitFromRef(c),e=this.getCommitFromRef(a),f=h.str("git-merge-msg",{target:this.resolveName(a),current:this.resolveName(c)}),g=this.makeCommit([d,e],null,{commitMessage:f});return this.setTargetLocation(c,g),g},e.prototype.checkout=function(a){var b=this.resolveID(a);if("HEAD"!==b.get("id")){var c=b.get("type");if("branch"===c&&b.getIsRemote()&&(b=this.getCommitFromRef(b.get("id"))),"branch"!==c&&"tag"!==c&&"commit"!==c)throw new p({msg:h.str("git-error-options")});"tag"===c&&(b=b.get("target")),this.HEAD.set("target",b)}},e.prototype.forceBranch=function(a,b){a=this.crappyUnescape(a),this.refs[a]||this.branch(a,b);var c=this.resolveID(a);if("branch"!==c.get("type"))throw new p({msg:h.str("git-error-options")});if(c.getIsRemote())throw new p({msg:h.str("git-error-remote-branch")});var d=this.getCommitFromRef(b);this.setTargetLocation(c,d)},e.prototype.branch=function(a,b){var c=this.getCommitFromRef(b),d=this.validateAndMakeBranch(a,c);b=this.resolveID(b),this.isRemoteBranchRef(b)&&this.setLocalToTrackRemote(d,b)},e.prototype.isRemoteBranchRef=function(a){var b=this.resolveID(a);return"branch"!==b.get("type")?!1:b.getIsRemote()},e.prototype.tag=function(a,b){var c=this.getCommitFromRef(b);this.validateAndMakeTag(a,c)},e.prototype.describe=function(a){var b=this.getCommitFromRef(a),c={};this.tagCollection.toJSON().forEach(function(a){c[a.target.get("id")]=a.id});for(var d,e=[b],f=[];e.length;){var g=e.pop(),i=g.get("id");if(c[i]){d=c[i];break}f.push(g.get("id"));var j=g.get("parents");j&&j.length&&(e=e.concat(j),e.sort(this.dateSortFunc))}if(!d)throw new p({msg:h.todo("Fatal: no tags found upstream")});if(0===f.length)throw new q({msg:d});throw new q({msg:d+"_"+f.length+"_g"+b.get("id")})},e.prototype.validateAndDeleteBranch=function(a){var b=this.resolveID(a);if("branch"!==b.get("type")||"master"==b.get("id")||this.HEAD.get("target")===b)throw new p({msg:h.str("git-error-branch")});var c=b;if(b.getIsRemote())throw new p({msg:h.str("git-error-remote-branch")});this.deleteBranch(c)},e.prototype.deleteBranch=function(a){this.branchCollection.remove(a),this.refs[a.get("id")]=void 0,delete this.refs[a.get("id")],this.HEAD.get("target")===a&&this.HEAD.set("target",this.refs.master),a.get("visBranch")&&a.get("visBranch").remove()},e.prototype.crappyUnescape=function(a){return a.replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/")},e.prototype.filterError=function(a){if(!(a instanceof p||a instanceof q))throw a},e.prototype.externalRefresh=function(){this.animationQueue=new j({callback:function(){}}),this.animationFactory.refreshTree(this.animationQueue,this.gitVisuals),this.animationQueue.start()},e.prototype.dispatch=function(a,b){this.command=a;var c=a.get("vcs"),d=function(){this.dispatchProcess(a,b)}.bind(this);this.handleModeChange(c,d)},e.prototype.dispatchProcess=function(a,b){var c=function(){a.finishWith(b)}.bind(this);this.animationQueue=new j({callback:c});var d=a.get("vcs"),e=a.get("method").replace(/-/g,"");try{o.commands.execute(d,e,this,this.command)}catch(f){return this.filterError(f),a.set("error",f),void b.resolve()}var g=this.animationQueue.get("defer")||this.animationQueue.get("promiseBased");this.animationQueue.get("animations").length||g||this.animationFactory.refreshTree(this.animationQueue,this.gitVisuals),g||this.animationQueue.start()},e.prototype.show=function(a){var b=this.getCommitFromRef(a);throw new q({msg:b.getShowEntry()})},e.prototype.status=function(){var a=[];if(this.getDetachedHead())a.push(h.str("git-status-detached"));else{var b=this.HEAD.get("target").get("id");a.push(h.str("git-status-onbranch",{branch:b}))}a.push("Changes to be committed:"),a.push(""),a.push(s+"modified: cal/OskiCostume.stl"),a.push(""),a.push(h.str("git-status-readytocommit"));var c="";throw a.forEach(function(a){c+="# "+a+"\n"}),new q({msg:c})},e.prototype.logWithout=function(a,b){b=b.slice(1),this.log(a,l.getUpstreamSet(this,b))},e.prototype.log=function(a,b){b=b||{};for(var c=this.getCommitFromRef(a),d=[],e=[c],f={};e.length;){var g=e.shift(0);f[g.get("id")]||b[g.get("id")]||(f[g.get("id")]=!0,d.push(g),g.get("parents")&&g.get("parents").length&&(e=e.concat(g.get("parents"))))}var h="";throw d.forEach(function(a){h+=a.getLogEntry()},this),new q({msg:h})},e.prototype.getCommonAncestor=function(a,b,c){if(this.isUpstreamOf(b,a)&&!c)throw new Error("Don't use common ancestor if we are upstream!");for(var d=l.getUpstreamSet(this,a),e=[this.getCommitFromRef(b)];e.length;){var f=e.pop();if(d[f.get("id")])return f;e=e.concat(f.get("parents"))}throw new Error("something has gone very wrong... two nodes aren't connected!")},e.prototype.isUpstreamOf=function(a,b){a=this.getCommitFromRef(a);var c=l.getUpstreamSet(this,b);return void 0!==c[a.get("id")]},e.prototype.getDownstreamSet=function(a){var b=this.getCommitFromRef(a),c=b.get("id"),d=[b],e={};e[c]=!0;for(var f=function(a){e[a.get("id")]=!0,d.push(a)};d.length;){var g=d.pop(),h=g.get("children");h.forEach(f)}return e};var u=f.Model.extend({initialize:function(){if(!this.get("target"))throw new Error("must be initialized with target");if(!this.get("id"))throw new Error("must be given an id");this.set("type","general ref"),"HEAD"==this.get("id")&&(this.set("lastLastTarget",null),this.set("lastTarget",this.get("target")),this.on("change:target",this.targetChanged,this))},getIsRemote:function(){return!1},getName:function(){return this.get("id")},targetChanged:function(a,b,c){this.set("lastLastTarget",this.get("lastTarget")),this.set("lastTarget",b)},toString:function(){return"a "+this.get("type")+"pointing to "+String(this.get("target"))}}),v=u.extend({defaults:{visBranch:null,remoteTrackingBranchID:null,remote:!1},initialize:function(){u.prototype.initialize.call(this),this.set("type","branch")},setRemoteTrackingBranchID:function(a){this.set("remoteTrackingBranchID",a)},getRemoteTrackingBranchID:function(){return this.get("remoteTrackingBranchID")},getPrefixedID:function(){if(this.getIsRemote())throw new Error("im already remote");return r+this.get("id")},getBaseID:function(){if(!this.getIsRemote())throw new Error("im not remote so can't get base");return this.get("id").replace(r,"")},getIsRemote:function(){return"string"!=typeof this.get("id"),this.get("id").slice(0,2)===r}}),w=f.Model.extend({defaults:{type:"commit",children:null,parents:null,author:"Peter Cottle",createTime:null,commitMessage:null,visNode:null,gitVisuals:null},constants:{circularFields:["gitVisuals","visNode","children"]},getLogEntry:function(){return["Author: "+this.get("author"),"Date: "+this.get("createTime"),"<br/>",this.get("commitMessage"),"<br/>","Commit: "+this.get("id")].join("\n")+"\n"},getShowEntry:function(){return[this.getLogEntry(),"diff --git a/bigGameResults.html b/bigGameResults.html","--- bigGameResults.html","+++ bigGameResults.html","@@ 13,27 @@ Winner, Score","- Stanfurd, 14-7","+ Cal, 21-14"].join("\n")+"\n"},validateAtInit:function(){if(!this.get("id"))throw new Error("Need ID!!");if(this.get("createTime")||this.set("createTime",(new Date).toString()),this.get("commitMessage")||this.set("commitMessage",h.str("git-dummy-msg")),this.set("children",[]),!(this.get("rootCommit")||this.get("parents")&&this.get("parents").length))throw new Error("needs parents")},addNodeToVisuals:function(){var a=this.get("gitVisuals").addNode(this.get("id"),this);this.set("visNode",a)},addEdgeToVisuals:function(a){this.get("gitVisuals").addEdge(this.get("id"),a.get("id"))},getParent:function(a){return this&&this.attributes&&this.attributes.parents?this.attributes.parents[a]:null},removeFromParents:function(){this.get("parents").forEach(function(a){a.removeChild(this)},this)},checkForUpdatedParent:function(a){var b=this.get("parents");if(!(b.length>1)){var c=b[0],d=c.get("id"),e=a.getMostRecentBumpedID(d);if(d!==e){var f=a.refs[e];this.removeFromParents(),this.set("parents",[f]),f.get("children").push(this);var g=this.get("visNode");g&&g.removeAllEdges();var h=this.get("gitVisuals");return h&&h.addEdge(this.get("id"),e),!0}}},removeChild:function(a){var b=[];this.get("children").forEach(function(c){c!==a&&b.push(c)}),this.set("children",b)},isMainParent:function(a){var b=this.get("parents").indexOf(a);return 0===b},initialize:function(a){this.validateAtInit(),this.addNodeToVisuals(),(this.get("parents")||[]).forEach(function(a){a.get("children").push(this),this.addEdgeToVisuals(a)},this)}}),x=u.extend({defaults:{visTag:null},initialize:function(){u.prototype.initialize.call(this),this.set("type","tag")}});c.GitEngine=e,c.Commit=w,c.Branch=v,c.Tag=x,c.Ref=u},{"../app":176,"../commands":177,"../graph":188,"../graph/treeCompare":189,"../intl":191,"../util/errors":217,"../views/rebaseView":233,"../visuals/animation":235,"../visuals/animation/animationFactory":234,backbone:1,q:13}],188:[function(a,b,c){var d={getOrMakeRecursive:function(b,c,d,e){var f=a("../git"),g=f.Commit,h=f.Ref,i=f.Branch,j=f.Tag;if(c[d])return c[d];var k=function(a,b){if(a.commits[b])return"commit";if(a.branches[b])return"branch";if("HEAD"==b)return"HEAD";if(a.tags[b])return"tag";throw new Error("bad type for "+b)},l=k(b,d);if("HEAD"==l){var m=b.HEAD,n=new h(Object.assign(b.HEAD,{target:this.getOrMakeRecursive(b,c,m.target)}));return c[d]=n,n}if("branch"==l){var o=b.branches[d],p=new i(Object.assign(b.branches[d],{target:this.getOrMakeRecursive(b,c,o.target)}));return c[d]=p,p}if("tag"==l){var q=b.tags[d],r=new j(Object.assign(b.tags[d],{target:this.getOrMakeRecursive(b,c,q.target)}));return c[d]=r,r}if("commit"==l){var s=b.commits[d],t=[];s.parents.forEach(function(a){t.push(this.getOrMakeRecursive(b,c,a))},this);var u=new g(Object.assign(s,{parents:t,gitVisuals:this.gitVisuals}));return c[d]=u,u}throw new Error("ruh rho!! unsupported type for "+d)},descendSortDepth:function(a){return a.sort(function(a,b){return b.depth-a.depth})},bfsFromLocationWithSet:function(a,b,c){for(var d=[],e=[a.getCommitFromRef(b)];e.length;){var f=e.pop();c[f.get("id")]||(d.push(f),e=e.concat(f.get("parents")))}return d},getUpstreamSet:function(a,b){var c=a.getCommitFromRef(b),d=c.get("id"),e=[c],f={};f[d]=!0;for(var g=function(a){f[a.get("id")]=!0,e.push(a)};e.length;){var h=e.pop(),i=h.get("parents");(i||[]).forEach(g)}return f},getUniqueObjects:function(a){var b={},c=[];return a.forEach(function(a){b[a.id]||(b[a.id]=!0,c.push(a))}),c},getDefaultTree:function(){return JSON.parse(unescape("%7B%22branches%22%3A%7B%22master%22%3A%7B%22target%22%3A%22C1%22%2C%22id%22%3A%22master%22%2C%22type%22%3A%22branch%22%7D%7D%2C%22commits%22%3A%7B%22C0%22%3A%7B%22type%22%3A%22commit%22%2C%22parents%22%3A%5B%5D%2C%22author%22%3A%22Peter%20Cottle%22%2C%22createTime%22%3A%22Mon%20Nov%2005%202012%2000%3A56%3A47%20GMT-0800%20%28PST%29%22%2C%22commitMessage%22%3A%22Quick%20Commit.%20Go%20Bears%21%22%2C%22id%22%3A%22C0%22%2C%22rootCommit%22%3Atrue%7D%2C%22C1%22%3A%7B%22type%22%3A%22commit%22%2C%22parents%22%3A%5B%22C0%22%5D%2C%22author%22%3A%22Peter%20Cottle%22%2C%22createTime%22%3A%22Mon%20Nov%2005%202012%2000%3A56%3A47%20GMT-0800%20%28PST%29%22%2C%22commitMessage%22%3A%22Quick%20Commit.%20Go%20Bears%21%22%2C%22id%22%3A%22C1%22%7D%7D%2C%22HEAD%22%3A%7B%22id%22%3A%22HEAD%22%2C%22target%22%3A%22master%22%2C%22type%22%3A%22general%20ref%22%7D%7D"))}};b.exports=d},{"../git":187}],189:[function(a,b,c){var d=a("underscore"),e={};e.dispatchFromLevel=function(a,b){var c=a.goalTreeString;return"string"!=typeof b&&console.warn("NEED to pass in string!! gah"),e.dispatch(a,c,b)},e.onlyMasterCompared=function(a){var b=!0;switch(b){case!!a.compareOnlyMaster:case!!a.compareOnlyMasterHashAgnostic:case!!a.compareOnlyMasterHashAgnosticWithAsserts:return!0;default:return!1}},e.dispatch=function(a,b,c){var d=this.convertTreeSafe(b);if(c=this.convertTreeSafe(c),typeof d.originTree!=typeof c.originTree)return!1;var e=this.dispatchShallow(a,d,c);if(!e||!d.originTree)return e;var f=a.originCompare?a.originCompare:a;return e&&this.dispatchShallow(f,d.originTree,c.originTree)},e.dispatchShallow=function(a,b,c){var d=!0;switch(d){case!!a.compareOnlyMaster:return e.compareBranchWithinTrees(c,b,"master");case!!a.compareOnlyBranches:return e.compareAllBranchesWithinTrees(c,b);case!!a.compareAllBranchesHashAgnostic:return e.compareAllBranchesWithinTreesHashAgnostic(c,b);case!!a.compareOnlyMasterHashAgnostic:return e.compareBranchesWithinTreesHashAgnostic(c,b,["master"]);case!!a.compareOnlyMasterHashAgnosticWithAsserts:return e.compareBranchesWithinTreesHashAgnostic(c,b,["master"])&&e.evalAsserts(c,a.goalAsserts);default:return e.compareAllBranchesWithinTreesAndHEAD(c,b)}},e.compareAllBranchesWithinTreesAndHEAD=function(a,b){return a=this.convertTreeSafe(a),b=this.convertTreeSafe(b),a.HEAD.target===b.HEAD.target&&this.compareAllBranchesWithinTrees(a,b)&&this.compareAllTagsWithinTrees(a,b)},e.compareAllBranchesWithinTrees=function(a,b){a=this.convertTreeSafe(a),b=this.convertTreeSafe(b);var c=Object.assign({},a.branches,b.branches),e=!0;return d.uniq(c,function(c,d){e=e&&this.compareBranchWithinTrees(a,b,d)},this),e},e.compareAllTagsWithinTrees=function(a,b){return a=this.convertTreeSafe(a),b=this.convertTreeSafe(b),this.reduceTreeFields([a,b]),d.isEqual(a.tags,b.tags)},e.compareBranchesWithinTrees=function(a,b,c){var d=!0;return c.forEach(function(c){d=d&&this.compareBranchWithinTrees(a,b,c)},this),d},e.compareBranchWithinTrees=function(a,b,c){a=this.convertTreeSafe(a),b=this.convertTreeSafe(b),this.reduceTreeFields([a,b]);var e=this.getRecurseCompare(a,b),f=a.branches[c],g=b.branches[c];return d.isEqual(f,g)&&e(a.commits[f.target],b.commits[g.target])},e.compareAllBranchesWithinTreesHashAgnostic=function(a,b){a=this.convertTreeSafe(a),b=this.convertTreeSafe(b),this.reduceTreeFields([a,b]);var c=Object.assign({},a.branches,b.branches),d=Object.keys(c||{});return this.compareBranchesWithinTreesHashAgnostic(a,b,d)},e.compareBranchesWithinTreesHashAgnostic=function(a,b,c){a=this.convertTreeSafe(a),b=this.convertTreeSafe(b),this.reduceTreeFields([a,b]);var e=function(a,b){return a&&b?(a=Object.assign({},a),b=Object.assign({},b),a.target=this.getBaseRef(a.target),b.target=this.getBaseRef(b.target),d.isEqual(a,b)):!1}.bind(this),f=this.getRecurseCompareHashAgnostic(a,b),g=!0;return c.forEach(function(c){var d=a.branches[c],h=b.branches[c];g=g&&e(d,h)&&f(a.commits[d.target],b.commits[h.target])},this),g},e.evalAsserts=function(a,b){var c=!0;return Object.keys(b).forEach(function(d){var e=b[d];c=c&&this.evalAssertsOnBranch(a,d,e)},this),c},e.evalAssertsOnBranch=function(a,b,c){if(a=this.convertTreeSafe(a),!a.branches[b])return!1;for(var d=a.branches[b],e=[d.target],f={};e.length;){var g=e.pop();f[this.getBaseRef(g)]=this.getNumHashes(g),e=e.concat(a.commits[g].parents)}var h=!0;return c.forEach(function(a){try{h=h&&a(f)}catch(b){console.warn("error during assert",b),console.log(b),h=!1}}),h},e.getNumHashes=function(a){for(var b=[[/^C(\d+)([']{0,3})$/,function(a){return a[2]?a[2].length:0}],[/^C(\d+)['][\^](\d+)$/,function(a){return Number(a[2])}]],c=0;c<b.length;c++){var d=b[c][0],e=b[c][1],f=d.exec(a);if(f)return e(f)}throw new Error("couldn't parse ref "+a)},e.getBaseRef=function(a){var b=/^C(\d+)/,c=b.exec(a);if(!c)throw new Error("no regex matchy for "+a);return"C"+c[1]},e.getRecurseCompareHashAgnostic=function(a,b){var c=function(a){return a?Object.assign({},a,{id:this.getBaseRef(a.id),parents:null}):{}}.bind(this),e=function(a,b){return d.isEqual(c(a),c(b))};return this.getRecurseCompare(a,b,{isEqual:e})},e.getRecurseCompare=function(a,b,c){c=c||{};var e=function(f,g){var h=c.isEqual?c.isEqual(f,g):d.isEqual(f,g);if(!h)return!1;for(var i=Math.max(f.parents.length,g.parents.length),j=0;i>j;j++){var k=f.parents[j],l=g.parents[j],m=a.commits[k],n=b.commits[l];h=h&&e(m,n)}return h};return e},e.lowercaseTree=function(a){a.HEAD&&(a.HEAD.target=a.HEAD.target.toLocaleLowerCase());var b=a.branches||{};return a.branches={},Object.keys(b).forEach(function(c){var d=b[c];d.id=d.id.toLocaleLowerCase(),a.branches[c.toLocaleLowerCase()]=d}),a},e.convertTreeSafe=function(a){return"string"!=typeof a?a:(a=JSON.parse(unescape(a)),this.lowercaseTree(a),a.originTree&&(a.originTree=this.lowercaseTree(a.originTree)),a)},e.reduceTreeFields=function(a){var b=["parents","id","rootCommit"],c=["target","id","remoteTrackingBranchID"],d=["target","id"],e=["children","parents"],f={remoteTrackingBranchID:null},g={tags:{}};a.forEach(function(a){Object.keys(g).forEach(function(b){var c=g[b];void 0===a[b]&&(a[b]=c)})});var h=function(a,b,c,d){var e=a[b];Object.keys(e).forEach(function(g){var h=e[g],i={};c.forEach(function(a){void 0!==h[a]?i[a]=h[a]:void 0!==f[a]&&(i[a]=f[a])}),Object.values(d||{}).forEach(function(a){h[a]&&(h[a].sort(),i[a]=h[a])}),a[b][g]=i})};a.forEach(function(a){h(a,"commits",b,e),h(a,"branches",c),h(a,"tags",d),a.HEAD={target:a.HEAD.target,id:a.HEAD.id},a.originTree&&this.reduceTreeFields([a.originTree])},this)},e.compareTrees=function(a,b){return a=this.convertTreeSafe(a),b=this.convertTreeSafe(b),this.reduceTreeFields([a,b]),d.isEqual(a,b)},b.exports=e},{underscore:169}],190:[function(a,b,c){var d=(a("sys"),a("../util")),e=a("child_process"),f=a("../intl/strings").strings,g='grep -C 2 -r "intl.str(" ../../',h=function(a){return'grep -r "'+a+'" ../../'},i=/intl.str\('([a-zA-Z\-]+)'/g,j=/\s+'([a-z\-]+)',/g,k=function(a){e.exec(h(a),function(a,b){console.log(b)})},l=0,m=function(a){f[a]?l++:(console.log('NO KEY for: "',a,'"'),k(a))},n=function(a){a.forEach(function(a){var b=i.exec(a);return b&&b[1]?void m(b[1]):(b=j.exec(a),void(b&&b[1]&&m(b[1])))})};d.isBrowser()||e.exec(g,function(a,b){n(b.split("\n")),console.log(l+" good keys found!")})},{"../intl/strings":192,"../util":220,child_process:6,sys:171}],191:[function(a,b,c){var d=a("../stores/LocaleStore"),e=a("underscore"),f=a("../intl/strings").strings,g=d.getDefaultLocale,h={de_DE:"zh_CN"},i=Object.assign({},e.templateSettings);i.interpolate=/\{(.+?)\}/g;var j=c.template=function(a,b){return e.template(a,b,i)},k=c.str=function(a,b){b=b||{};var c=d.getLocale();return f[a]?(f[a][c]||(c=h[c]||g()),f[a][c]?j(f[a][c],b):"error-untranslated"!==a?k("error-untranslated"):'No translation for the key "'+a+'"'):(console.warn("NO INTL support for key "+a),"NO INTL support for key "+a+". this is probably a dev error")},l=c.getIntlKey=function(a,b,c){if(!a||!a[b])throw new Error("that key "+b+"doesn't exist in this blob"+a);a[b][g()]||console.warn("WARNING!! This blob does not have intl support:",a,"for this key",b);var e=c||d.getLocale();return a[b][e]};c.todo=function(a){return a},c.getDialog=function(a){return l(a,"dialog")||a.dialog[g()]},c.getHint=function(a){return l(a,"hint")?l(a,"hint"):l(a,"hint",g())+" -- "+k("error-untranslated")},c.getName=function(a){return l(a,"name")?l(a,"name"):l(a,"name",g())+" -- "+k("error-untranslated")},c.getStartDialog=function(a){var b=l(a,"startDialog");if(b)return b;var c={type:"ModalAlert",options:{markdown:k("error-untranslated")}},d=Object.assign({},a.startDialog[g()]||a.startDialog);return d.childViews.unshift(c),d}},{"../intl/strings":192,"../stores/LocaleStore":213,underscore:169}],192:[function(a,b,c){c.strings={"finish-dialog-finished":{__desc__:"One of the lines in the next level dialog",en_US:"Wow! You finished the last level, great!",de_DE:"Wow! Du hast den letzten Level gelst, super!"},"finish-dialog-next":{__desc__:"One of the lines in the next level dialog",en_US:'Would you like to move on to *"{nextLevel}"*, the next level?',de_DE:'Mchtest du mit *"{nextLevel}"* weitermachen, dem nchsten Level?'},"finish-dialog-win":{__desc__:"One of the lines in the next level dialog",en_US:"Awesome! You matched or exceeded our solution.",de_DE:"Wahnsinn! Du warst so gut wie unsere Lsung, oder sogar besser."},"finish-dialog-lose":{__desc__:"When the user entered more commands than our best, encourage them to do better",en_US:"See if you can whittle it down to {best} :D",de_DE:"Schau mal ob du es in {best} Schritten hinbekommst :D"},"hg-prune-tree":{__desc__:"warning when pruning tree",en_US:"Warning! Mercurial does aggressive garbage collection and thus needs to prune your tree",de_DE:"Achtung! Mercurial macht aggressive Garbage Collection und muss daher deinen Baum reduzieren"},"hg-a-option":{__desc__:"warning for when using -A option",en_US:"The -A option is not needed for this app, just commit away!",de_DE:"Die Option -A wird in dieser Anwendung nicht bentigt, committe einfach!"},"hg-error-no-status":{__desc__:"One of the errors for hg",en_US:"There is no status command for this app, since there is no staging of files. Try hg summary instead",de_DE:"Es gibt keinen Befehl status in dieser Anwendung, da es kein Staging von Dateien gibt. Probier stattdessen hg summary"},"hg-error-need-option":{__desc__:"One of the errors for hg",en_US:"I need the option {option} for that command!",de_DE:"Ich bentige die Option {option} fr diesen Befehl!"},"hg-error-log-no-follow":{__desc__:"hg log without -f (--follow)",en_US:"hg log without -f is currently not supported, use -f",de_DE:"hg log ohne -f wird aktuell nicht untersttzt, benutze bitte -f"},"git-status-detached":{__desc__:"One of the lines for git status output",en_US:"Detached head!",de_DE:"Detached head!"},"git-status-onbranch":{__desc__:"One of the lines for git status output",en_US:"On branch {branch}",de_DE:"Auf Branch {branch}"},"git-status-readytocommit":{__desc__:"One of the lines for git status output",en_US:"Ready to commit! (as always in this demo)",de_DE:"Fertig zum committen! (Wie immer in dieser Demo)"},"git-dummy-msg":{__desc__:"The dummy commit message for all commits. Feel free to put in a shoutout to your school / city / whatever!",en_US:"Quick commit. Go Bears!",de_DE:"Schneller Commit. Eff-Zeh!"},"git-error-origin-fetch-uptodate":{__desc__:"One of the error messages for git",en_US:"Already up to date!",de_DE:"Bereits aktuell!"},"git-error-origin-fetch-no-ff":{__desc__:"One of the error messages for git",en_US:"Your origin branch is out of sync with the remote branch and fetch cannot be performed",de_DE:"Dein origin Branch ist nicht auf dem Stand des Remote Branch und fetch kann nicht ausgefhrt werden"},"git-error-origin-push-no-ff":{__desc__:"One of the error messages for git",en_US:"The remote repository has diverged from your local repository, so uploading your changes is not a simple fast forward (and thus your push was rejected). Please pull down the new changes in the remote repository, incorporate them into this branch, and try again. You can do so with git pull or git pull --rebase",de_DE:"Das entfernte Repository weicht von deinem lokalen Repository ab, daher knnen deine nderungen nicht mit einem einfachen fast forward hochgeladen werden (und daher ist dein push abgelehnt worden). Bitte pull erst die neuen nderungen in das lokale Repository, integriere sie in den Branch und versuch es nochmal. Das kannst du mit git pull oder git pull --rebase machen"},"git-error-remote-branch":{__desc__:"One of the error messages for git",en_US:"You cannot execute that command on a remote branch",de_DE:"Du kannst diesen Befehl nicht auf einem Remote Branch ausfhren"},"git-error-origin-required":{__desc__:"One of the error messages for git",en_US:"An origin is required for that command",de_DE:"Fr diesen Befehl wird origin bentigt"},"git-error-origin-exists":{__desc__:"One of the error messages for git",en_US:"An origin already exists! You cannot make a new one",de_DE:"origin existiert bereits! Du kannst es nicht nochmal anlegen"},"git-error-branch":{__desc__:"One of the error messages for git",en_US:"You can't delete the master branch, the branch you are on, or things that aren't branches",de_DE:"Du kannst nicht den Branch master, den Branch auf dem du gerade arbeitest oder Refs, die keine Branches sind, lschen"},"git-merge-msg":{__desc__:"The commit message for a merge commit",en_US:"Merge {target} into {current}",de_DE:"Mergen von {target} in {current}"},"git-error-rebase-none":{__desc__:"One of the error messages for git",en_US:"No commits to rebase! Everything is a merge commit or changes already applied",de_DE:"Keine Commits fr Rebase gefunden! Alle Commits sind Merge Commits oder beinhalten nur schon vorhandene nderungen"},"git-result-nothing":{__desc__:"The message that explains the result of a git command",en_US:"Nothing to do...",de_DE:"Nichts zu tun ..."},"git-result-fastforward":{__desc__:"The message that explains the result of a git command",en_US:"Fast forwarding...",de_DE:"Fast forward..."},"git-result-uptodate":{__desc__:"The message that explains the result of a git command",en_US:"Branch already up-to-date",de_DE:"Branch ist bereits aktuell"},"git-error-exist":{__desc__:"One of the error messages for git",en_US:"The ref {ref} does not exist or is unknown",de_DE:"Die Ref {ref} existiert nicht oder ist unbekannt"},"git-error-relative-ref":{
__desc__:"One of the error messages for git",en_US:"Commit {commit} does not have a {match}",de_DE:"Commit {commit} hat kein {match}"},"git-warning-detached":{__desc__:"One of the warning messages for git",en_US:"Warning!! Detached HEAD state",de_DE:"Achtung! Detached HEAD Zustand"},"git-warning-add":{__desc__:"One of the warning messages for git",en_US:"No need to add files in this demo",de_DE:"In dieser Demo mssen keine Dateien hinzugefgt werden"},"git-error-options":{__desc__:"One of the error messages for git",en_US:"Those options you specified are incompatible or incorrect",de_DE:"Die angegebenen Optionen sind inkompatibel oder falsch"},"git-error-already-exists":{__desc__:"One of the error messages for git",en_US:"The commit {commit} already exists in your changes set, aborting!",de_DE:"Der Commit {commit} existiert bereit, Abbruch!"},"git-error-reset-detached":{__desc__:"One of the error messages for git",en_US:"Can't reset in detached head! Use checkout if you want to move",de_DE:"Kann im Detached Head Zustand kein reset ausfhren! Bitte checkout zum Bewegen benutzen"},"git-warning-hard":{__desc__:"One of the warning messages for git",en_US:"The default behavior for resets on LearnGitBranching is a --hard, so feel free to omit that option if you get tired of typing it out in our lessons. Just remember that the default behavior on actual Git is --mixed.",de_DE:"Das Standardverhalten in dieser Demo ist --hard, du kannst die Option auch weglassen!"},"git-error-staging":{__desc__:"One of the error messages for git",en_US:"There is no concept of adding / staging files, so that option or command is invalid!",de_DE:"In dieser Demo gibt es kein Hinzufgen / Vormerken von Dateien, dieser Befehl ist daher ungltig!"},"git-revert-msg":{__desc__:"Message for reverting git command",en_US:"Reverting {oldCommit}: {oldMsg}",de_DE:"Reverte {oldCommit}: {oldMsg}"},"git-error-args-many":{__desc__:"One of the error messages for git",en_US:"I expect at most {upper} argument(s) for {what}",de_DE:"Ich bentige maximal {upper} Argument(e) fr {what}"},"git-error-args-few":{__desc__:"One of the error messages for git",en_US:"I expect at least {lower} argument(s) for {what}",de_DE:"Ich bentige mindestens {lower} Argument(e) fr {what}"},"git-error-no-general-args":{__desc__:"One of the error messages for git",en_US:"That command accepts no general arguments",de_DE:"Dieser Befehl akzeptiert keine allgemeinen Argumente"},"copy-tree-string":{__desc__:"The prompt to copy the tree when sharing",en_US:"Copy the tree string below",de_DE:"Kopiere die folgende Baum-Zeichenkette"},"learn-git-branching":{__desc__:"The title of the app, with spaces",en_US:"Learn Git Branching",de_DE:"Learn Git Branching"},"select-a-level":{__desc__:"The prompt to select a level on the drop down view",en_US:"Select a level",de_DE:"Level auswhlen"},"main-levels-tab":{__desc__:"The name of main levels tab on the drop down view",en_US:"Main",de_DE:"Haupt"},"remote-levels-tab":{__desc__:"The name of remote levels tab on the drop down view",en_US:"Remote",de_DE:"Remote"},"branch-name-short":{__desc__:"When branch names get too long, we need to truncate them. This is the warning for that",en_US:'Sorry, we need to keep branch names short for the visuals. Your branch name was truncated to 9 characters, resulting in "{branch}"',de_DE:'Tut mir leid, aber aus Grnden der Darstellung mssen wir die Branch-Namen kurz halten. Dein Branch-Name wurde auf 9 Zeichen gekrzt und heit daher jetzt "{branch}"'},"bad-branch-name":{__desc__:"When the user enters a branch name thats not ok",en_US:'That branch name "{branch}" is not allowed!',de_DE:'Der Branch-Name "{branch}" ist nicht erlaubt!'},"bad-tag-name":{__desc__:"When the user enters a tag name thats not ok",en_US:'That tag name "{tag}" is not allowed!',de_DE:'Der Tag-Name "{tag}" ist nicht erlaubt!'},"option-not-supported":{__desc__:"When the user specifies an option that is not supported by our demo",en_US:'The option "{option}" is not supported!',de_DE:'Die Option "{option}" wird nicht untersttzt!'},"git-usage-command":{__desc__:"The line that shows how to format a git command",en_US:"git <command> [<args>]",de_DE:"git <Befehl> [<Argumente>]"},"git-supported-commands":{__desc__:"In the git help command, the header above the supported commands",en_US:"Supported commands:",de_DE:"Untersttzte Befehle:"},"git-usage":{__desc__:"In the dummy git output, the header before showing all the commands",en_US:"Usage:",de_DE:"Benutzung:"},"git-version":{__desc__:"The git version dummy output, kind of silly. PCOTTLE is my unix name but feel free to put yours instead",en_US:"Git Version PCOTTLE.1.0",de_DE:"Git Version PCOTTLE.1.0.jbr"},"flip-tree-command":{__desc__:"when the tree is being flipped",en_US:"Flipping tree...",de_DE:"Flipping tree..."},"refresh-tree-command":{__desc__:"when the tree is visually refreshed",en_US:"Refreshing tree...",de_DE:"Aktualisiere Baum ..."},"locale-command":{__desc__:"when the locale is set to something",en_US:"Locale set to {locale}",de_DE:"Locale auf {locale} gesetzt"},"locale-reset-command":{__desc__:"when the locale is reset",en_US:"Locale reset to default, which is {locale}",de_DE:"Locale auf Standard zurckgesetzt, also {locale}"},"show-command":{__desc__:'command output title from "show"',en_US:"Please use one of the following commands for more info:",de_DE:"Bitte benutze einen der folgenden Befehle um mehr Informationen zu bekommen:"},"show-all-commands":{__desc__:'command output title from "show commands"',en_US:"Here is a list of all the commmands available:",de_DE:"Hier ist eine Liste aller verfgbarer Befehle:"},"cd-command":{__desc__:"dummy command output for the command in the key",en_US:'Directory changed to "/directories/dont/matter/in/this/demo"',de_DE:'Verzeichnis gewechselt zu "/verzeichnisse/sind/in/dieser/demo/latte"'},"ls-command":{__desc__:"Dummy command output for the command in the key",en_US:"DontWorryAboutFilesInThisDemo.txt",de_DE:"VergissDateienInDieserDemo.txt"},"mobile-alert":{__desc__:"When someone comes to the site on a mobile device, they can not input commands so this is a nasty alert to tell them",en_US:"LGB can't receive input on mobile, visit on desktop! it's worth it :D",de_DE:"LGB ist nicht mit mobilen Endgerten kompatibel, nutz es vom Desktop! Es lohnt sich :D"},"share-tree":{__desc__:"When you export a tree, we want you to share the tree with friends",en_US:'Share this tree with friends! They can load it with "import tree"',de_DE:'Teile diesen git-Baum mit Freunden! Sie knnen ihn mit "import tree" laden'},"paste-json":{__desc__:"When you are importing a level or tree",en_US:"Paste a JSON blob below!",de_DE:"Fg einen JSON-Blob unten ein!"},"solved-map-reset":{__desc__:"When you reset the solved map to clear your solved history, in case someone else wants to use your browser",en_US:"Solved map was reset, you are starting from a clean slate!",de_DE:"Gelste Karte wurde zurckgesetzt, du fngst mit einem leeren Blatt an!"},"level-cant-exit":{__desc__:"When the user tries to exit a level when they are not in one",en_US:'You are not in a level! You are in a sandbox, start a level with "levels"',de_DE:'Du bist nicht in einem Level! Du bist im Sandkasten-Modus, starte einen Level mit "levels"'},"level-no-id":{__desc__:"When you say an id but that level doesn't exist",en_US:'A level for that id "{id}" was not found! Opening up a level selection view',de_DE:'Konnte keinen Level mit der ID "{id}" finden! ffne einen Level-Auswahldialog'},"undo-stack-empty":{__desc__:"The undo command can only undo back until the last time the level was reset or the beginning of the level",en_US:"The undo stack is empty!",de_DE:"Die Undo-Liste ist leer!"},"already-solved":{__desc__:"When you play in a level that is already solved",en_US:'You have already solved this level, try other levels with "levels" or go back to sandbox with "sandbox"',de_DE:'Du hast diesen Level bereits gelst, probier einen anderen Level mit "levels" aus oder geh in den Sandkasten-Modus mit "sandbox"'},"solved-level":{__desc__:"When you solved a level",en_US:"Solved!!\n:D",de_DE:"Gelst!\n:D"},"command-disabled":{__desc__:"When you try a command that is disabled",en_US:"That git command is disabled for this level!",de_DE:"Dieser git-Befehl ist fr diesen Level deaktiviert!"},"share-json":{__desc__:"when you have made the level, prompt to share this",en_US:"Here is the JSON for this level! Share it with someone or send it to me on Github",de_DE:"Hier ist das JSON fr diesen Level! Teil es mit jemandem or schick es mir ber Github"},"want-start-dialog":{__desc__:"prompt to add a start dialog",en_US:"You have not specified a start dialog, would you like to add one?",de_DE:"Du hast noch keinen Einfhrungs-Dialog geschrieben, willst du einen hinzufgen?"},"want-hint":{__desc__:"prompt to add a hint",en_US:"You have not specified a hint, would you like to add one?",de_DE:"Du hast noch keinen Hinweis geschrieben, magst du einen hinzufgen?"},"prompt-hint":{__desc__:"prompt for hint",en_US:"Enter the hint for this level, or leave this blank if you do not want to include one",de_DE:"Gib den Hinweis fr diesen Level an, oder lass es leer wenn du keinen hinzufgen willst"},"prompt-name":{__desc__:"prompt for level name",en_US:"Enter the name for the level",de_DE:"Gib den Namen fr diesen Level an"},"solution-empty":{__desc__:"If you define a solution without any commands, aka a level that is solved without doing anything",en_US:"Your solution is empty!! Something is amiss",de_DE:"Deine Auflsung ist leer! Hier fehlt etwas"},"define-start-warning":{__desc__:"When you define the start point again, it overwrites the solution and goal so we add a warning",en_US:"Defining start point... solution and goal will be overwritten if they were defined earlier",de_DE:"Lege Start fest ... Auflsung und Ziel werden gelcht, falls sie schon festgelegt worden waren"},"help-vague-level":{__desc__:"When you are in a level and you say help, its vague and you need to specify",en_US:'You are in a level, so multiple forms of help are available. Please select either "help level" to learn more about this lesson, "help general" for using Learn GitBranching, or "objective" to learn about how to solve the level.',de_DE:'Du befindest dich in einem Level, daher gibt es verschiedene Hilfen. Gib "help level" ein um mehr ber diesen Level zu erfahren, "help general" um zu sehen wie Learn Git Branching bedient wird, oder "objective" um das Ziel dieses Levels zu erfahren.'},"help-vague-builder":{__desc__:"When you are in a level builder, the help command is vague so you need to specify what you mean",en_US:'You are in a level builder, so multiple forms of help are available. Please select either "help general" or "help builder"',de_DE:'Du befindest dich im Level-Editor, daher gibt es verschiedene Hilfen. Gib bitte "help general" oder "help builder" ein'},"show-goal-button":{__desc__:"button label to show goal",en_US:"Show Goal",de_DE:"Schauen Ziel"},"hide-goal-button":{__desc__:"button label to hide goal",en_US:"Hide Goal",de_DE:"Verstecken Ziel"},"objective-button":{__desc__:"button label to show objective",en_US:"Instructions",de_DE:"Ziel"},"git-demonstration-title":{__desc__:"title of git demonstration window",en_US:"Git Demonstration",de_DE:"Git Demonstration"},"goal-to-reach":{__desc__:"title of window that shoes the goal tree to reach",en_US:"Goal To Reach",de_DE:"Ziel"},"goal-only-master":{__desc__:"the helper message for the window that shows the goal tree when the goal will only be compared using the master branch",en_US:'<span class="fwber">Note:</span> Only the master branch will be checked in this level. The other branches are simply for reference (shown as dashed labels below). As always, you can hide this dialog with "hide goal"',fr_FR:'<span class="fwber">Note:</span> Dans ce niveau on ne doit faire de git checkout que sur la branche master. Les autres branches reprsentes ici (entoures d\'un cadre en tirets) doivent tre utilises uniquement comme rfrences. Comme toujours, vous pouvez cacher cette fentre avec "Cacher les objectifs"',de_DE:'<span class="fwber">Hinweis:</span> In diesem Level wird nur der Branch master geprft. Die anderen Branches dienen nur als Vergleichsbasis (als gestrichelte Bezeichner dargestellt). Wie immer kannst du diese Meldung mit "hide goal" ausblenden'},"hide-goal":{__desc__:"the helper message for the window that shows the goal tree",en_US:'You can hide this window with "hide goal"',de_DE:'Du kannst diese Meldung mit "hide goal" ausblenden',ko:'"hide goal"      .'},"hide-start":{__desc__:"The helper message for the window that shows the start tree for a level",en_US:'You can hide this window with "hide start"'},"level-builder":{__desc__:"The name for the environment where you build levels",en_US:"Level Builder",de_DE:"Level-Editor"},"no-start-dialog":{__desc__:"when the user tries to open a start dialog for a level that does not have one",en_US:"There is no start dialog to show for this level!",de_DE:"Es gibt keinen Einfhrungs-Dialog fr diesen Level!"},"no-hint":{__desc__:"when no hint is available for a level",en_US:"Hmm, there doesn't seem to be a hint for this level :-/",de_DE:"Hm, es gibt anscheinend keinen Hinweis fr diesen Level :-/"},"error-untranslated-key":{__desc__:"This error happens when we are trying to translate a specific key and the locale version is mission",en_US:"The translation for {key} does not exist yet :( Please hop on github and offer up a translation!",de_DE:"Die bersetzung fr {key} existiert noch nicht :( Falls du eine hast, bitte teil sie mit auf Github mit!"},"error-untranslated":{__desc__:"The general error when we encounter a dialog that is not translated",en_US:"This dialog or text is not yet translated in your locale :( Hop on github to aid in translation!",de_DE:"Dieser Dialog oder Text ist noch nicht in deine Sprache bersetzt. :( Schau auf Github vorbei um bei der bersetzung zu helfen!"}}},{}],193:[function(a,b,c){var d=(a("backbone"),a("q")),e=a("../util"),f=a("../app"),g=a("../intl"),h=a("../util/errors"),i=a("../visuals/visualization").Visualization,j=(a("../level/parseWaterfall").ParseWaterfall,a("../level").Level),k=a("../stores/LocaleStore"),l=a("../stores/LevelStore"),m=(a("../models/commandModel").Command,a("../git/gitShim").GitShim,a("../views/multiView").MultiView,a("../views").CanvasTerminalHolder),n=a("../views").ConfirmCancelTerminal,o=(a("../views").NextLevelConfirm,a("../views/builderViews").MarkdownPresenter),p=a("../views/builderViews").MultiViewBuilder,q=(a("../views/builderViews").MarkdownGrabber,{"define goal":/^define goal$/,"define name":/^define name$/,"help builder":/^help builder$/,"define start":/^define start$/,"edit dialog":/^edit dialog$/,"show start":/^show start$/,"hide start":/^hide start$/,"define hint":/^define hint$/,finish:/^finish$/}),r=e.genParseCommand(q,"processLevelBuilderCommand"),s=j.extend({initialize:function(b){b=b||{},b.level={},this.options=b;var c=k.getLocale();b.level.startDialog={},b.level.startDialog[c]={childViews:g.getDialog(a("../dialogs/levelBuilder"))};var d;b.editLevel&&(l.getLevel(b.editLevel),b.level=d),s.__super__.initialize.apply(this,[b]),b.editLevel?(this.startDialogObj=d.startDialog[c],this.definedGoal=!0):(this.startDialogObj=void 0,this.definedGoal=!1),delete this.treeCompare,delete this.solved},initName:function(){},initGoalData:function(){this.options.editLevel||(this.level.goalTreeString='{"branches":{"master":{"target":"C1","id":"master"},"makeLevel":{"target":"C2","id":"makeLevel"}},"commits":{"C0":{"parents":[],"id":"C0","rootCommit":true},"C1":{"parents":["C0"],"id":"C1"},"C2":{"parents":["C1"],"id":"C2"}},"HEAD":{"target":"makeLevel","id":"HEAD"}}',this.level.solutionCommand="git checkout -b makeLevel; git commit"),s.__super__.initGoalData.apply(this,arguments)},minimizeGoal:function(a,b){this.doBothVis("hide"),this.goalWindowPos=a,this.goalWindowSize=b,$("#goalPlaceholder").is(":visible")&&($("#goalPlaceholder").hide(),this.mainVis.myResize())},doBothVis:function(a){this.startVis&&this.startVis[a].call(this.startVis),this.goalVis&&this.goalVis[a].call(this.goalVis)},resizeGoal:function(){this.doBothVis("myResize")},initStartVisualization:function(){return this.startCanvasHolder=new m({parent:this,additionalClass:"startTree",text:g.str("hide-start")}),this.startVis=new i({el:this.startCanvasHolder.getCanvasLocation(),containerElement:this.startCanvasHolder.getCanvasLocation(),treeString:this.level.startTree,noKeyboardInput:!0,smallCanvas:!0,noClick:!0}),this.startCanvasHolder},startOffCommand:function(){f.getEventBaton().trigger("commandSubmitted","echo :D")},objectiveDialog:function(a,b){var c=[a,b,void 0===this.startDialogObj?null:{startDialog:{en_US:this.startDialogObj}}];s.__super__.objectiveDialog.apply(this,c)},initParseWaterfall:function(a){s.__super__.initParseWaterfall.apply(this,[a]),this.parseWaterfall.addFirst("parseWaterfall",r),this.parseWaterfall.addFirst("instantWaterfall",this.getInstantCommands())},buildLevel:function(a,b){this.exitLevel(),setTimeout(function(){f.getSandbox().buildLevel(a,b)},1.5*this.getAnimationTime())},getInstantCommands:function(){return[[/^help$|^\?$/,function(){throw new h.CommandResult({msg:g.str("help-vague-builder")})}]]},takeControl:function(){f.getEventBaton().stealBaton("processLevelBuilderCommand",this.processLevelBuilderCommand,this),s.__super__.takeControl.apply(this)},releaseControl:function(){f.getEventBaton().releaseBaton("processLevelBuilderCommand",this.processLevelBuilderCommand,this),s.__super__.releaseControl.apply(this)},showGoal:function(){this.hideStart(),s.__super__.showGoal.apply(this,arguments)},showStart:function(a,b){this.hideGoal(),this.showSideVis(a,b,this.startCanvasHolder,this.initStartVisualization)},resetSolution:function(){this.gitCommandsIssued=[],this.level.solutionCommand=void 0},hideStart:function(a,b){this.hideSideVis(a,b,this.startCanvasHolder)},defineStart:function(a,b){this.hideStart(),a.addWarning(g.str("define-start-warning")),this.resetSolution(),this.level.startTree=this.mainVis.gitEngine.printTree(),this.mainVis.resetFromThisTreeNow(this.level.startTree),this.showStart(a,b)},defineGoal:function(a,b){return this.hideGoal(),this.gitCommandsIssued.length?(this.definedGoal=!0,this.level.solutionCommand=this.gitCommandsIssued.join(";"),this.level.goalTreeString=this.mainVis.gitEngine.printTree(),this.initGoalVisualization(),void this.showGoal(a,b)):(a.set("error",new h.GitError({msg:g.str("solution-empty")})),void b.resolve())},defineName:function(a,b){this.level.name={en_US:prompt(g.str("prompt-name"))},a&&a.finishWith(b)},defineHint:function(a,b){this.level.hint={en_US:prompt(g.str("prompt-hint"))},a&&a.finishWith(b)},editDialog:function(a,b){var c=d.defer();this.currentBuilder=new p({multiViewJSON:this.startDialogObj,deferred:c}),c.promise.then(function(a){this.startDialogObj=a}.bind(this)).fail(function(){}).done(function(){a?a.finishWith(b):b.resolve()})},finish:function(a,b){if(!(this.options.editLevel||this.gitCommandsIssued.length&&this.definedGoal))return a.set("error",new h.GitError({msg:g.str("solution-empty")})),void b.resolve();for(;!this.level.name;)this.defineName();var c=d.defer(),e=c.promise;if(void 0===this.level.hint){var f=d.defer();e=e.then(function(){return f.promise});var i=new n({markdowns:[g.str("want-hint")]});i.getPromise().then(this.defineHint.bind(this)).fail(function(){this.level.hint={en_US:""}}.bind(this)).done(function(){f.resolve()})}if(void 0===this.startDialogObj){var j=d.defer();e=e.then(function(){return j.promise});var k=new n({markdowns:[g.str("want-start-dialog")]});k.getPromise().then(function(){var a=d.defer();return this.editDialog(void 0,a),a.promise}.bind(this)).fail(function(){}).done(function(){j.resolve()})}e=e.done(function(){new o({fillerText:JSON.stringify(this.getExportObj(),null,2),previewText:g.str("share-json")}),a.finishWith(b)}.bind(this)),c.resolve()},getExportObj:function(){var a=Object.assign({},this.level);return delete a.startDialog,this.startDialogObj&&(a.startDialog={en_US:this.startDialogObj}),a},processLevelBuilderCommand:function(a,b){var c={"define goal":this.defineGoal,"define start":this.defineStart,"show start":this.showStart,"hide start":this.hideStart,finish:this.finish,"define hint":this.defineHint,"define name":this.defineName,"edit dialog":this.editDialog,"help builder":s.__super__.startDialog};if(!c[a.get("method")])throw new Error("woah we don't support that method yet");c[a.get("method")].apply(this,arguments)},afterCommandDefer:function(a,b){a.resolve()},die:function(){this.hideStart(),s.__super__.die.apply(this,arguments),delete this.startVis,delete this.startCanvasHolder}});c.LevelBuilder=s,c.regexMap=q},{"../app":176,"../dialogs/levelBuilder":180,"../git/gitShim":185,"../intl":191,"../level":195,"../level/parseWaterfall":196,"../models/commandModel":200,"../stores/LevelStore":212,"../stores/LocaleStore":213,"../util":220,"../util/errors":217,"../views":230,"../views/builderViews":227,"../views/multiView":232,"../visuals/visualization":243,backbone:1,q:13}],194:[function(a,b,c){function d(a){a=a||{},this.disabledMap=a.disabledMap||{"git cherry-pick":!0,"git rebase":!0}}var e=a("../intl"),f=a("../commands"),g=a("../util/errors"),h=g.GitError;d.prototype.getInstantCommands=function(){var a=[],b=function(){throw new h({msg:e.str("command-disabled")})};return Object.keys(this.disabledMap).forEach(function(c){var d="git";c=c.slice(d.length+1);var e=f.commands.getRegexMap()[d][c];if(!e)throw new Error("wuttttt this disbaled command"+c+" has no regex matching");a.push([e,b])}.bind(this)),a},c.DisabledMap=d},{"../commands":177,"../intl":191,"../util/errors":217}],195:[function(a,b,c){var d=a("q"),e=a("../util"),f=a("../app"),g=a("../intl"),h=a("../log"),i=a("react"),j=a("../util/errors"),k=a("../sandbox/").Sandbox,l=a("../actions/GlobalStateActions"),m=a("../stores/GlobalStateStore"),n=a("../actions/LevelActions"),o=a("../stores/LevelStore"),p=a("../visuals/visualization").Visualization,q=a("../level/disabledMap").DisabledMap,r=a("../git/gitShim").GitShim,s=a("../commands"),t=a("../views/multiView").MultiView,u=a("../views").CanvasTerminalHolder,v=a("../views").ConfirmCancelTerminal,w=a("../views").NextLevelConfirm,x=a("../react_views/LevelToolbarView.jsx"),y=a("../graph/treeCompare"),z={"help level":/^help level$/,"start dialog":/^start dialog$/,"show goal":/^(show goal|goal|help goal)$/,"hide goal":/^hide goal$/,"show solution":/^show solution($|\s)/,objective:/^(objective|assignment)$/},A=e.genParseCommand(z,"processLevelCommand"),B=k.extend({initialize:function(a){a=a||{},a.level=a.level||{},this.level=a.level,this.gitCommandsIssued=[],this.solved=!1,this.wasResetAfterSolved=!1,this.initGoalData(a),this.initName(a),this.on("minimizeCanvas",this.minimizeGoal),this.on("resizeCanvas",this.resizeGoal),this.isGoalExpanded=!1,B.__super__.initialize.apply(this,[a]),this.startOffCommand(),this.handleOpen(a.deferred)},getIsGoalExpanded:function(){return this.isGoalExpanded},handleOpen:function(a){return a=a||d.defer(),this.level.startDialog&&!this.testOption("noIntroDialog")?void new t(Object.assign({},g.getStartDialog(this.level),{deferred:a})):void setTimeout(function(){a.resolve()},1.2*this.getAnimationTime())},objectiveDialog:function(a,b,c){if(c=void 0===c?this.level:c,!c||!c.startDialog)return a.set("error",new j.GitError({msg:g.str("no-start-dialog")})),void b.resolve();var d=$.extend({},g.getStartDialog(c));d.childViews=d.childViews.slice(-1),new t(Object.assign(d,{deferred:b})),b.promise.then(function(){a.set("status","finished")})},startDialog:function(a,b){return this.level.startDialog?(this.handleOpen(b),void b.promise.then(function(){a.set("status","finished")})):(a.set("error",new j.GitError({msg:g.str("no-start-dialog")})),void b.resolve())},getEnglishName:function(){return this.level.name.en_US},initName:function(){var a=g.getName(this.level);this.levelToolbar=i.createElement(x,{name:a,onGoalClick:this.toggleGoal.bind(this),onObjectiveClick:this.toggleObjective.bind(this),parent:this}),i.render(this.levelToolbar,document.getElementById("levelToolbarMount"))},initGoalData:function(a){if(!this.level.goalTreeString||!this.level.solutionCommand)throw new Error("need goal tree and solution")},takeControl:function(){f.getEventBaton().stealBaton("processLevelCommand",this.processLevelCommand,this),B.__super__.takeControl.apply(this)},releaseControl:function(){f.getEventBaton().releaseBaton("processLevelCommand",this.processLevelCommand,this),B.__super__.releaseControl.apply(this)},startOffCommand:function(){var a=this.options.command.get("method");this.testOption("noStartCommand")||"importLevelNow"===a||f.getEventBaton().trigger("commandSubmitted","hint; delay 2000; show goal")},initVisualization:function(a){this.mainVis=new p({el:a.el||this.getDefaultVisEl(),treeString:a.level.startTree})},initGoalVisualization:function(){var a=y.onlyMasterCompared(this.level);return this.goalCanvasHolder=new u({text:a?g.str("goal-only-master"):void 0,parent:this}),this.goalVis=new p({el:this.goalCanvasHolder.getCanvasLocation(),containerElement:this.goalCanvasHolder.getCanvasLocation(),treeString:this.level.goalTreeString,noKeyboardInput:!0,smallCanvas:!0,isGoalVis:!0,levelBlob:this.level,noClick:!0}),this.goalVis.customEvents.on("drag",function(a,b){b.position.left>.5*$(window).width()?$("#goalPlaceholder").is(":visible")||($("#goalPlaceholder").show(),this.mainVis.myResize()):$("#goalPlaceholder").is(":visible")&&($("#goalPlaceholder").hide(),this.mainVis.myResize())}.bind(this)),this.goalCanvasHolder},minimizeGoal:function(a,b){this.isGoalExpanded=!1,this.trigger("goalToggled"),this.goalVis.hide(),this.goalWindowPos=a,this.goalWindowSize=b,$("#goalPlaceholder").is(":visible")&&($("#goalPlaceholder").hide(),this.mainVis.myResize())},resizeGoal:function(){this.goalVis&&this.goalVis.myResize()},showSolution:function(b,c){var e=this.level.solutionCommand,i=function(){this.isShowingSolution=!0,f.getEventBaton().trigger("commandSubmitted",e),h.showLevelSolution(this.getEnglishName())}.bind(this),j=b.get("rawStr");if(this.testOptionOnString(j,"noReset")||(e="reset --forSolution; "+e),this.testOptionOnString(j,"force"))return i(),void b.finishWith(c);var k=d.defer(),l=g.getDialog(a("../dialogs/confirmShowSolution"))[0],m=new v({markdowns:l.options.markdowns,deferred:k});k.promise.then(i).fail(function(){b.setResult("")}).done(function(){setTimeout(function(){b.finishWith(c)},m.getAnimationTime())})},toggleObjective:function(){f.getEventBaton().trigger("commandSubmitted","objective")},toggleGoal:function(){this.goalCanvasHolder&&this.goalCanvasHolder.inDom?this.hideGoal():this.showGoal()},showGoal:function(a,b){this.isGoalExpanded=!0,this.trigger("goalToggled"),this.showSideVis(a,b,this.goalCanvasHolder,this.initGoalVisualization),$(this.goalVis.el).offset().left>.5*$(window).width()&&($("#goalPlaceholder").show(),this.mainVis.myResize())},showSideVis:function(a,b,c,d){var e=function(){a&&a.finishWith(b)};c&&c.inDom||(c=d.apply(this)),c.restore(this.goalWindowPos,this.goalWindowSize),setTimeout(e,c.getAnimationTime())},hideGoal:function(a,b){this.isGoalExpanded=!1,this.trigger("goalToggled"),this.hideSideVis(a,b,this.goalCanvasHolder)},hideSideVis:function(a,b,c,d){var e=function(){a&&a.finishWith(b)};c&&c.inDom?(c.die(),setTimeout(e,c.getAnimationTime())):e()},initParseWaterfall:function(a){B.__super__.initParseWaterfall.apply(this,[a]),this.parseWaterfall.addFirst("parseWaterfall",A),this.parseWaterfall.addFirst("instantWaterfall",this.getInstantCommands()),a.level.disabledMap&&this.parseWaterfall.addFirst("instantWaterfall",new q({disabledMap:a.level.disabledMap}).getInstantCommands())},initGitShim:function(a){this.gitShim=new r({beforeCB:this.beforeCommandCB.bind(this),afterCB:this.afterCommandCB.bind(this),afterDeferHandler:this.afterCommandDefer.bind(this)})},undo:function(){this.gitCommandsIssued.pop(),B.__super__.undo.apply(this,arguments)},beforeCommandCB:function(a){this._treeBeforeCommand=this.mainVis.gitEngine.printTree()},afterCommandCB:function(a){this.doesCommandCountTowardsTotal(a)&&(this.gitCommandsIssued.push(a.get("rawStr")),this.undoStack.push(this._treeBeforeCommand))},doesCommandCountTowardsTotal:function(a){if(a.get("error"))return!1;var b=!1,c=s.commands.getCommandsThatCount();return Object.values(c).forEach(function(c){Object.values(c).forEach(function(c){b=b||c.test(a.get("rawStr"))})}),b},afterCommandDefer:function(a,b){if(this.solved)return b.addWarning(g.str("already-solved")),void a.resolve();var c=this.mainVis.gitEngine.printTree(),d=y.dispatchFromLevel(this.level,c);return d?void this.levelSolved(a):void a.resolve()},getNumSolutionCommands:function(){var a=this.level.solutionCommand.replace(/^;|;$/g,"");return a.split(";").length},testOption:function(a){return this.options.command&&new RegExp("--"+a).test(this.options.command.get("rawStr"))},testOptionOnString:function(a,b){return a&&new RegExp("--"+b).test(a)},levelSolved:function(a){this.solved=!0,this.isShowingSolution||(n.setLevelSolved(this.level.id),h.levelSolved(this.getEnglishName())),this.hideGoal();var b=o.getNextLevel(this.level.id),c=this.gitCommandsIssued.length,e=this.getNumSolutionCommands(),g=this.testOption("noFinishDialog")||this.wasResetAfterSolved,i=this.wasResetAfterSolved;i||l.levelSolved();var j=1;switch(m.getNumLevelsSolved()){case 2:j=1.5;break;case 3:j=1.8;break;case 4:j=2.1;break;case 5:j=2.4}m.getNumLevelsSolved()>5&&(j=2.5);var k=null;if(i){var p=d.defer();p.resolve(),k=p.promise,f.getEventBaton().trigger("commandSubmitted",'echo "level solved!"')}else l.changeIsAnimating(!0),k=this.mainVis.gitVisuals.finishAnimation(j),this.mainVis.originVis&&(k=k.then(this.mainVis.originVis.gitVisuals.finishAnimation(j)));g||(k=k.then(function(){var a=new w({nextLevel:b,numCommands:c,best:e});return a.getPromise()})),k.then(function(){!g&&b&&(h.choseNextLevel(b.id),f.getEventBaton().trigger("commandSubmitted","level "+b.id))}).fail(function(){}).done(function(){l.changeIsAnimating(!1),a.resolve()})},die:function(){i.unmountComponentAtNode(document.getElementById("levelToolbarMount")),this.hideGoal(),this.mainVis.die(),this.releaseControl(),this.clear(),delete this.commandCollection,delete this.mainVis,delete this.goalVis,delete this.goalCanvasHolder},getInstantCommands:function(){var a=function(){var a=g.getHint(this.level);return a&&a.length?a:g.str("no-hint")}.bind(this);return[[/^help$|^\?$/,function(){throw new j.CommandResult({msg:g.str("help-vague-level")})}],[/^hint$/,function(){throw new j.CommandResult({msg:a()})}]]},reset:function(a,b){this.gitCommandsIssued=[];var c=a?a.get("rawStr"):"";this.testOptionOnString(c,"forSolution")||(this.isShowingSolution=!1),this.solved&&(this.wasResetAfterSolved=!0),this.solved=!1,B.__super__.reset.apply(this,arguments)},buildLevel:function(a,b){this.exitLevel(),setTimeout(function(){f.getSandbox().buildLevel(a,b)},1.5*this.getAnimationTime())},importLevel:function(a,b){this.exitLevel(),setTimeout(function(){f.getSandbox().importLevel(a,b)},1.5*this.getAnimationTime())},startLevel:function(a,b){this.exitLevel(),setTimeout(function(){f.getSandbox().startLevel(a,b)},1.5*this.getAnimationTime())},exitLevel:function(a,b){this.die(),a&&b&&(setTimeout(function(){a.finishWith(b)},this.getAnimationTime()),f.getEventBaton().trigger("levelExited"))},processLevelCommand:function(a,b){var c={"show goal":this.showGoal,"hide goal":this.hideGoal,"show solution":this.showSolution,"start dialog":this.startDialog,"help level":this.startDialog,objective:this.objectiveDialog},d=c[a.get("method")];if(!d)throw new Error("woah we don't support that method yet",d);d.apply(this,[a,b])}});c.Level=B,c.regexMap=z},{"../actions/GlobalStateActions":173,"../actions/LevelActions":174,"../app":176,"../commands":177,"../dialogs/confirmShowSolution":179,"../git/gitShim":185,"../graph/treeCompare":189,"../intl":191,
"../level/disabledMap":194,"../log":197,"../react_views/LevelToolbarView.jsx":206,"../sandbox/":209,"../stores/GlobalStateStore":211,"../stores/LevelStore":212,"../util":220,"../util/errors":217,"../views":230,"../views/multiView":232,"../visuals/visualization":243,q:13,react:168}],196:[function(a,b,c){var d=a("../git/commands"),e=a("../commands"),f=a("../sandbox/commands"),g=function(a){a=a||{},this.options=a,this.shortcutWaterfall=a.shortcutWaterfall||[e.commands.getShortcutMap()],this.instantWaterfall=a.instantWaterfall||[d.instantCommands,f.instantCommands]};g.prototype.initParseWaterfall=function(){return a("../util").isBrowser()?void(this.parseWaterfall=this.options.parseWaterfall||[e.parse,f.parse,f.getOptimisticLevelParse(),f.getOptimisticLevelBuilderParse()]):void(this.parseWaterfall=[e.parse])},g.prototype.clone=function(){return new g({shortcutWaterfall:this.shortcutWaterfall.slice(),instantWaterfall:this.instantWaterfall.slice(),parseWaterfall:this.parseWaterfall.slice()})},g.prototype.getWaterfallMap=function(){return this.parseWaterfall||this.initParseWaterfall(),{shortcutWaterfall:this.shortcutWaterfall,instantWaterfall:this.instantWaterfall,parseWaterfall:this.parseWaterfall}},g.prototype.addFirst=function(a,b){if(!a||!b)throw new Error("need to know which!!!");this.getWaterfallMap()[a].unshift(b)},g.prototype.addLast=function(a,b){this.getWaterfallMap()[a].push(b)},g.prototype.expandAllShortcuts=function(a){return this.shortcutWaterfall.forEach(function(b){a=this.expandShortcut(a,b)},this),a},g.prototype.expandShortcut=function(a,b){return Object.keys(b).forEach(function(c){var d=b[c];Object.keys(d).forEach(function(b){var e=d[b],f=e.exec(a);f&&(a=c+" "+b+" "+a.slice(f[0].length))})}),a},g.prototype.processAllInstants=function(a){this.instantWaterfall.forEach(function(b){this.processInstant(a,b)},this)},g.prototype.processInstant=function(a,b){b.forEach(function(b){var c=b[0],d=c.exec(a);d&&b[1](d)})},g.prototype.parseAll=function(a){this.parseWaterfall||this.initParseWaterfall();var b=!1;return this.parseWaterfall.forEach(function(c){var d=c(a);d&&(b=d)},this),b},c.ParseWaterfall=g},{"../commands":177,"../git/commands":184,"../sandbox/commands":208,"../util":220}],197:[function(a,b,c){var d=function(a,b,c){window._gaq=window._gaq||[],window._gaq.push(["_trackEvent",a,b,c])};c.viewInteracted=function(a){d("views","interacted",a)},c.showLevelSolution=function(a){d("levels","showedLevelSolution",a)},c.choseNextLevel=function(a){d("levels","nextLevelChosen",a)},c.levelSelected=function(a){d("levels","levelSelected",a)},c.levelSolved=function(a){d("levels","levelSolved",a)},c.commandEntered=function(a){d("commands","commandEntered",a)}},{}],198:[function(a,b,c){var d=a("../intl"),e=(a("../git/commands"),a("../util/errors")),f=(e.CommandProcessError,e.GitError),g=(e.Warning,e.CommandResult,{commit:{regex:/^hg +(commit|ci)($|\s)/,options:["--amend","-A","-m"],delegate:function(a,b){var c=b.getOptionsMap();return c["-A"]&&b.addWarning(d.str("hg-a-option")),{vcs:"git",name:"commit"}}},status:{regex:/^hg +(status|st) *$/,dontCountForGolf:!0,execute:function(a,b){throw new f({msg:d.str("hg-error-no-status")})}},"export":{regex:/^hg +export($|\s)/,dontCountForGolf:!0,delegate:function(a,b){return b.mapDotToHead(),{vcs:"git",name:"show"}}},graft:{regex:/^hg +graft($|\s)/,options:["-r"],delegate:function(a,b){return b.acceptNoGeneralArgs(),b.prependOptionR(),{vcs:"git",name:"cherrypick"}}},log:{regex:/^hg +log($|\s)/,options:["-f"],dontCountForGolf:!0,delegate:function(a,b){var c=b.getOptionsMap();if(b.acceptNoGeneralArgs(),!c["-f"])throw new f({msg:d.str("hg-error-log-no-follow")});return b.mapDotToHead(),{vcs:"git",name:"log"}}},bookmark:{regex:/^hg (bookmarks|bookmark|book)($|\s)/,options:["-r","-f","-d"],delegate:function(a,b){var c,e,g=b.getOptionsMap(),h=b.getGeneralArgs(),i={vcs:"git"};if(g["-m"]&&g["-d"])throw new f({msg:d.todo("-m and -d are incompatible")});if(g["-d"]&&g["-r"])throw new f({msg:d.todo("-r is incompatible with -d")});if(g["-m"]&&g["-r"])throw new f({msg:d.todo("-r is incompatible with -m")});return h.length+(g["-r"]?g["-r"].length:0)+(g["-d"]?g["-d"].length:0)===0?(i.name="branch",i):(g["-d"]?(g["-D"]=g["-d"],delete g["-d"],i.name="branch"):g["-r"]?(h=b.getGeneralArgs(),c=h[0],e=g["-r"][0],i.name="branch",b.setGeneralArgs([c,e])):h.length>0?(b.setOptionsMap({"-b":[h[0]]}),i.name="checkout",b.setGeneralArgs([])):i.name="branch",i)}},rebase:{regex:/^hg +rebase($|\s+)/,options:["-d","-s","-b"],execute:function(a,b){var c=function(){throw new f({msg:d.str("git-error-options")})},e=b.getOptionsMap();if(e["-d"]&&e["-s"]||!e["-d"]&&!e["-s"],e["-b"]||(e["-b"]=["."]),b.setOptionsMap(e),b.mapDotToHead(),e=b.getOptionsMap(),e["-d"]){var g=e["-d"][0]||c(),h=e["-b"][0];a.hgRebase(g,h)}else c()}},update:{regex:/^hg +(update|up)($|\s+)/,options:["-r"],delegate:function(a,b){return b.appendOptionR(),{vcs:"git",name:"checkout"}}},backout:{regex:/^hg +backout($|\s+)/,options:["-r"],delegate:function(a,b){return b.prependOptionR(),{vcs:"git",name:"revert"}}},histedit:{regex:/^hg +histedit($|\s+)/,delegate:function(a,b){var c=b.getGeneralArgs();return b.validateArgBounds(c,1,1),b.setOptionsMap({"-i":c}),b.setGeneralArgs([]),{vcs:"git",name:"rebase"}}},pull:{regex:/^hg +pull($|\s+)/,delegate:function(a,b){return{vcs:"git",name:"pull"}}},summary:{regex:/^hg +(summary|sum) *$/,delegate:function(a,b){return{vcs:"git",name:"branch"}}}});c.commandConfig=g},{"../git/commands":184,"../intl":191,"../util/errors":217}],199:[function(a,b,c){var d=a("q"),e=a("backbone"),f=a("../git").Commit,g=a("../git").Branch,h=a("../git").Tag,i=a("../models/commandModel").Command,j=a("../util/constants").TIME,k=e.Collection.extend({model:f}),l=e.Collection.extend({model:i}),m=e.Collection.extend({model:g}),n=e.Collection.extend({model:h}),o=e.Model.extend({defaults:{collection:null},initialize:function(a){a.collection.bind("add",this.addCommand,this),this.buffer=[],this.timeout=null},addCommand:function(a){this.buffer.push(a),this.touchBuffer()},touchBuffer:function(){this.timeout||this.setTimeout()},setTimeout:function(){this.timeout=setTimeout(function(){this.sipFromBuffer()}.bind(this),j.betweenCommandsDelay)},popAndProcess:function(){for(var a=this.buffer.shift(0);a.get("error")&&this.buffer.length;)a=this.buffer.shift(0);a.get("error")?this.clear():this.processCommand(a)},processCommand:function(b){b.set("status","processing");var c=d.defer();c.promise.then(function(){this.setTimeout()}.bind(this));var e=b.get("eventName");if(!e)throw new Error("I need an event to trigger when this guy is parsed and ready");var f=a("../app"),g=f.getEventBaton(),h=g.getNumListeners(e);if(!h){var i=a("../util/errors");return b.set("error",new i.GitError({msg:"That command is valid, but not supported in this current environment! Try entering a level or level builder to use that command"})),void c.resolve()}f.getEventBaton().trigger(e,b,c)},clear:function(){clearTimeout(this.timeout),this.timeout=null},sipFromBuffer:function(){return this.buffer.length?void this.popAndProcess():void this.clear()}});c.CommitCollection=k,c.CommandCollection=l,c.BranchCollection=m,c.TagCollection=n,c.CommandBuffer=o},{"../app":176,"../git":187,"../models/commandModel":200,"../util/constants":214,"../util/errors":217,backbone:1,q:13}],200:[function(a,b,c){var d=a("backbone"),e=a("../util/errors"),f=a("../level/parseWaterfall").ParseWaterfall,g=a("../intl"),h=e.CommandProcessError,i=e.GitError,j=e.Warning,k=e.CommandResult,l=d.Model.extend({defaults:{status:"inqueue",rawStr:null,result:"",createTime:null,error:null,warnings:null,parseWaterfall:new f,generalArgs:null,supportedMap:null,options:null,method:null},initialize:function(){this.initDefaults(),this.validateAtInit(),this.on("change:error",this.errorChanged,this),this.get("error")&&this.errorChanged(),this.parseOrCatch()},initDefaults:function(){this.set("generalArgs",[]),this.set("supportedMap",{}),this.set("warnings",[])},replaceDotWithHead:function(a){return a.replace(/\./g,"HEAD")},appendOptionR:function(){var a=this.getOptionsMap()["-r"]||[];this.setGeneralArgs(this.getGeneralArgs().concat(a))},prependOptionR:function(){var a=this.getOptionsMap()["-r"]||[];this.setGeneralArgs(a.concat(this.getGeneralArgs()))},mapDotToHead:function(){var a=this.getGeneralArgs(),b=this.getOptionsMap();a=a.map(function(a){return this.replaceDotWithHead(a)},this);var c={};Object.keys(b).forEach(function(a){var d=b[a];c[a]=Object.values(d).map(function(a){return this.replaceDotWithHead(a)},this)},this),this.setGeneralArgs(a),this.setOptionsMap(c)},deleteOptions:function(a){var b=this.getOptionsMap();a.forEach(function(a){delete b[a]},this),this.setOptionsMap(b)},getGeneralArgs:function(){return this.get("generalArgs")},setGeneralArgs:function(a){this.set("generalArgs",a)},setOptionsMap:function(a){this.set("supportedMap",a)},getOptionsMap:function(){return this.get("supportedMap")},acceptNoGeneralArgs:function(){if(this.getGeneralArgs().length)throw new i({msg:g.str("git-error-no-general-args")})},oneArgImpliedHead:function(a,b){this.validateArgBounds(a,0,1,b),0===a.length&&a.push("HEAD")},twoArgsImpliedHead:function(a,b){this.validateArgBounds(a,1,2,b),1==a.length&&a.push("HEAD")},oneArgImpliedOrigin:function(a){this.validateArgBounds(a,0,1),a.length||a.unshift("origin")},twoArgsForOrigin:function(a){this.validateArgBounds(a,0,2)},validateArgBounds:function(a,b,c,d){var e=void 0===d?"git "+this.get("method"):this.get("method")+" "+d+" ";if(e="with "+e,a.length<b)throw new i({msg:g.str("git-error-args-few",{lower:String(b),what:e})});if(a.length>c)throw new i({msg:g.str("git-error-args-many",{upper:String(c),what:e})})},validateAtInit:function(){if(null===this.get("rawStr"))throw new Error("Give me a string!");this.get("createTime")||this.set("createTime",(new Date).toString())},setResult:function(a){this.set("result",a)},finishWith:function(a){this.set("status","finished"),a.resolve()},addWarning:function(a){this.get("warnings").push(a),this.set("numWarnings",this.get("numWarnings")?this.get("numWarnings")+1:1)},parseOrCatch:function(){this.expandShortcuts(this.get("rawStr"));try{this.processInstants()}catch(a){return e.filterError(a),void this.set("error",a)}this.parseAll()||this.set("error",new h({msg:'The command "'+this.get("rawStr")+"\" isn't supported, sorry!"}))},errorChanged:function(){var a=this.get("error");a&&(a instanceof h||a instanceof i?this.set("status","error"):a instanceof k?this.set("status","finished"):a instanceof j&&this.set("status","warning"),this.formatError())},formatError:function(){this.set("result",this.get("error").getMsg())},expandShortcuts:function(a){a=this.get("parseWaterfall").expandAllShortcuts(a),this.set("rawStr",a)},processInstants:function(){var a=this.get("rawStr");if(!a.length)throw new k({msg:""});this.get("parseWaterfall").processAllInstants(a)},parseAll:function(){var a=this.get("rawStr"),b=this.get("parseWaterfall").parseAll(a);return b?(Object.keys(b.toSet).forEach(function(a){var c=b.toSet[a];this.set(a,c)},this),!0):!1}});c.Command=l},{"../intl":191,"../level/parseWaterfall":196,"../util/errors":217,backbone:1}],201:[function(a,b,c){var d=a("../react_views/CommandView.jsx"),e=a("../app"),f=a("react"),g=["add","reset","change","all"],h=f.createClass({displayName:"CommandHistoryView",propTypes:{commandCollection:f.PropTypes.object.isRequired},componentDidMount:function(){for(var a=0;a<g.length;a++)this.props.commandCollection.on(g[a],this.updateFromCollection,this);this.props.commandCollection.on("change",this.scrollDown,this),e.getEvents().on("commandScrollDown",this.scrollDown,this),e.getEvents().on("clearOldCommands",this.clearOldCommands,this)},componentWillUnmount:function(){for(var a=0;a<g.length;a++)this.props.commandCollection.off(g[a],this.updateFromCollection,this)},updateFromCollection:function(){this.forceUpdate()},render:function(){var a=[];return this.props.commandCollection.each(function(b,c){a.push(f.createElement(d,{id:"command_"+c,command:b,key:b.cid}))},this),f.createElement("div",null,a)},scrollDown:function(){var a=document.getElementById("commandDisplay"),b=document.getElementById("terminal"),c=a.clientHeight>b.clientHeight||window.innerHeight<a.clientHeight,d=b.className.match(/scrolling/g);c&&!d?b.className+=" scrolling":!c&&d&&(b.className=b.className.replace(/shouldScroll/g,"")),c&&(b.scrollTop=b.scrollHeight)},clearOldCommands:function(){var a=[];this.props.commandCollection.each(function(b){"inqueue"!==b.get("status")&&"processing"!==b.get("status")&&a.push(b)},this);for(var b=0;b<a.length;b++)a[b].destroy();this.updateFromCollection(),this.scrollDown()}});b.exports=h},{"../app":176,"../react_views/CommandView.jsx":202,react:168}],202:[function(a,b,c){var d=a("react"),e=a("../util/reactUtil"),f=a("react/lib/keyMirror"),g=f({inqueue:null,processing:null,finished:null}),h=d.createClass({displayName:"CommandView",propTypes:{command:d.PropTypes.object.isRequired,id:d.PropTypes.string},componentDidMount:function(){this.props.command.on("change",this.updateStateFromModel,this),this.props.command.on("destroy",this.onModelDestroy,this),this.updateStateFromModel()},componentWillUnmount:function(){this.props.command.off("change",this.updateStateFromModel,this),this.props.command.off("destroy",this.onModelDestroy,this)},onModelDestroy:function(){return this.isMounted()?this.getDOMNode?void d.unmountComponentAtNode(this.getDOMNode().parentNode):void console.error("this.getDOMNode not a function?"):void 0},updateStateFromModel:function(){var a=this.props.command.toJSON();this.setState({status:a.status,rawStr:a.rawStr,warnings:a.warnings,result:a.result})},getInitialState:function(){return{status:g.inqueue,rawStr:"git commit",warnings:[],result:""}},render:function(){var a=e.joinClasses([this.state.status,"commandLine","transitionBackground"]);return d.createElement("div",{id:this.props.id,className:"reactCommandView"},d.createElement("p",{className:a},d.createElement("span",{className:"prompt"},"$")," ",d.createElement("span",{dangerouslySetInnerHTML:{__html:this.state.rawStr}}),d.createElement("span",{className:"icons transitionAllSlow"},d.createElement("i",{className:"icon-exclamation-sign"}),d.createElement("i",{className:"icon-check-empty"}),d.createElement("i",{className:"icon-retweet"}),d.createElement("i",{className:"icon-check"}))),this.renderResult(),d.createElement("div",{className:"commandLineWarnings"},this.renderFormattedWarnings()))},renderResult:function(){if(!this.state.result)return null;for(var a=this.state.result.split("\n"),b=[],c=0;c<a.length;c++)a[c].startsWith("https://")?b.push(d.createElement("a",{href:a[c],key:"paragraph_"+c,dangerouslySetInnerHTML:{__html:a[c]}})):b.push(d.createElement("p",{key:"paragraph_"+c,dangerouslySetInnerHTML:{__html:a[c]}}));return d.createElement("div",{className:"commandLineResult"},b)},renderFormattedWarnings:function(){for(var a=this.state.warnings,b=[],c=0;c<a.length;c++)b.push(d.createElement("p",{key:"warning_"+c},d.createElement("i",{className:"icon-exclamation-sign"}),a[c]));return b}});b.exports=h},{"../util/reactUtil":224,react:168,"react/lib/keyMirror":153}],203:[function(a,b,c){var d=a("../react_views/HelperBarView.jsx"),e=a("../app"),f=a("react"),g=a("../log"),h=f.createClass({displayName:"CommandsHelperBarView",propTypes:{shown:f.PropTypes.bool.isRequired,onExit:f.PropTypes.func.isRequired},render:function(){return f.createElement(d,{items:this.getItems(),shown:this.props.shown})},fireCommand:function(a){g.viewInteracted("commandHelperBar"),e.getEventBaton().trigger("commandSubmitted",a)},getItems:function(){return[{text:"Levels",onClick:function(){this.fireCommand("levels")}.bind(this)},{text:"Solution",onClick:function(){this.fireCommand("show solution")}.bind(this)},{text:"Reset",onClick:function(){this.fireCommand("reset")}.bind(this)},{text:"Undo",onClick:function(){this.fireCommand("undo")}.bind(this)},{text:"Objective",onClick:function(){this.fireCommand("objective")}.bind(this)},{text:"Help",onClick:function(){this.fireCommand("help general; git help")}.bind(this)},{icon:"signout",onClick:function(){this.props.onExit()}.bind(this)}]}});b.exports=h},{"../app":176,"../log":197,"../react_views/HelperBarView.jsx":204,react:168}],204:[function(a,b,c){var d=a("react"),e=a("../util/reactUtil"),f=d.createClass({displayName:"HelperBarView",propTypes:{className:d.PropTypes.string,shown:d.PropTypes.bool.isRequired,items:d.PropTypes.array.isRequired},render:function(){var a=e.joinClasses(["helperBar","transitionAll",this.props.shown?"show":"",this.props.className?this.props.className:""]);return d.createElement("div",{className:a},this.props.items.map(function(a,b){return[this.renderItem(a,b),b===this.props.items.length-1?null:d.createElement("span",{key:"helper_bar_span_"+b}," ")]}.bind(this)))},renderItem:function(a,b){var c=a.icon||a.testID||a.text.toLowerCase();return a.newPageLink?d.createElement("a",{"data-testid":c,key:"helper_bar_"+b,onClick:a.onClick,target:"_blank",href:a.href},d.createElement("i",{className:"icon-"+a.icon})," "):d.createElement("a",{"data-testid":c,key:"helper_bar_"+b,onClick:a.onClick},a.text?a.text:d.createElement("i",{className:"icon-"+a.icon})," ")}});b.exports=f},{"../util/reactUtil":224,react:168}],205:[function(a,b,c){var d=a("../react_views/HelperBarView.jsx"),e=a("../app"),f=a("react"),g=a("../log"),h=f.createClass({displayName:"IntlHelperBarView",propTypes:{shown:f.PropTypes.bool.isRequired,onExit:f.PropTypes.func.isRequired},render:function(){return f.createElement(d,{items:this.getItems(),shown:this.props.shown})},fireCommand:function(a){g.viewInteracted("intlSelect"),e.getEventBaton().trigger("commandSubmitted",a),this.props.onExit()},getItems:function(){return[{text:"Deutsch",testID:"german",onClick:function(){this.fireCommand("locale de_DE; levels")}.bind(this)},{icon:"signout",onClick:function(){this.props.onExit()}.bind(this)}]}});b.exports=h},{"../app":176,"../log":197,"../react_views/HelperBarView.jsx":204,react:168}],206:[function(a,b,c){var d=a("react"),e=d.PropTypes,f=a("../intl"),g=a("../util/reactUtil"),h=d.createClass({displayName:"LevelToolbarView",propTypes:{name:e.string.isRequired,onGoalClick:e.func.isRequired,onObjectiveClick:e.func.isRequired,parent:e.object.isRequired},getInitialState:function(){return{isHidden:!0,isGoalExpanded:this.props.parent.getIsGoalExpanded()}},componentDidMount:function(){this.setState({isHidden:this.props.parent.getIsGoalExpanded()}),this.props.parent.on("goalToggled",function(){this.isMounted()&&this.setState({isGoalExpanded:this.props.parent.getIsGoalExpanded()})}.bind(this))},render:function(){return d.createElement("div",{className:g.joinClasses(["toolbar","level-toolbar","box","vertical","center","transitionAll",this.state.isHidden?"hidden":""])},d.createElement("div",{className:"clearfix"},d.createElement("div",{className:"levelNameWrapper"},d.createElement("i",{className:"icon-bolt"})," Level ",d.createElement("span",{className:"levelToolbarSpan"},this.props.name))),d.createElement("div",{className:"buttonsWrapper"},d.createElement("div",{className:"showGoalWrapper"},d.createElement("button",{onClick:this.props.onGoalClick,type:"button"},this.state.isGoalExpanded?f.str("hide-goal-button"):f.str("show-goal-button"))),d.createElement("div",{className:"showObjectiveWrapper"},d.createElement("button",{onClick:this.props.onObjectiveClick,type:"button"},f.str("objective-button")))))}});b.exports=h},{"../intl":191,"../util/reactUtil":224,react:168}],207:[function(a,b,c){var d=a("../react_views/HelperBarView.jsx"),e=a("../react_views/IntlHelperBarView.jsx"),f=a("../react_views/CommandsHelperBarView.jsx"),g=a("react"),h=a("../util/keyMirror"),i=(a("../log"),h({SELF:null,INTL:null,COMMANDS:null})),j=g.createClass({displayName:"MainHelperBarView",getInitialState:function(){return{shownBar:i.SELF}},render:function(){return g.createElement("div",null,g.createElement(d,{className:"BaseHelperBar",items:this.getItems(),shown:this.state.shownBar===i.SELF}),g.createElement(f,{shown:this.state.shownBar===i.COMMANDS,onExit:this.showSelf}),g.createElement(e,{shown:this.state.shownBar===i.INTL,onExit:this.showSelf}))},showSelf:function(){this.setState({shownBar:i.SELF})},getItems:function(){return[{icon:"question-sign",onClick:function(){this.setState({shownBar:i.COMMANDS})}.bind(this)},{icon:"globe",onClick:function(){this.setState({shownBar:i.INTL})}.bind(this)},{newPageLink:!0,icon:"twitter",href:"https://twitter.com/kicktemp"},{newPageLink:!0,icon:"facebook",href:"https://www.facebook.com/kicktemp"}]}});b.exports=j},{"../log":197,"../react_views/CommandsHelperBarView.jsx":203,"../react_views/HelperBarView.jsx":204,"../react_views/IntlHelperBarView.jsx":205,"../util/keyMirror":221,react:168}],208:[function(a,b,c){var d=a("../util"),e=(a("../util/constants"),a("../intl")),f=a("../commands"),g=a("../util/errors"),h=(g.CommandProcessError,a("../stores/LocaleStore")),i=a("../actions/LocaleActions"),j=a("../stores/GlobalStateStore"),k=a("../actions/GlobalStateActions"),l=(g.GitError,g.Warning,g.CommandResult),m=[[/^ls/,function(){throw new l({msg:e.str("ls-command")})}],[/^cd/,function(){throw new l({msg:e.str("cd-command")})}],[/^(locale|locale reset)$/,function(a){throw i.changeLocale(h.getDefaultLocale()),new l({msg:e.str("locale-reset-command",{locale:h.getDefaultLocale()})})}],[/^show$/,function(a){var b=[e.str("show-command"),"<br/>","show commands","show solution","show goal"];throw new l({msg:b.join("\n")})}],[/^locale (\w+)$/,function(a){throw i.changeLocale(a[1]),new l({msg:e.str("locale-command",{locale:a[1]})})}],[/^flip$/,function(){throw k.changeFlipTreeY(!j.getFlipTreeY()),a("../app").getEvents().trigger("refreshTree"),new l({msg:e.str("flip-tree-command")})}],[/^refresh$/,function(){var b=a("../app").getEvents();throw b.trigger("refreshTree"),new l({msg:e.str("refresh-tree-command")})}],[/^rollup (\d+)$/,function(b){var c=a("../app").getEvents();throw c.trigger("rollupCommands",b[1]),new l({msg:"Commands combined!"})}],[/^echo "(.*?)"$|^echo (.*?)$/,function(a){var b=a[1]||a[2];throw new l({msg:b})}],[/^show +commands$/,function(a){var b=o(),c=[e.str("show-all-commands"),"<br/>"];throw b.forEach(function(a,b){c.push(b)}),new l({msg:c.join("\n")})}]],n={"reset solved":/^reset solved($|\s)/,help:/^help( +general)?$|^\?$/,reset:/^reset( +--forSolution)?$/,delay:/^delay (\d+)$/,clear:/^clear($|\s)/,"exit level":/^exit level($|\s)/,sandbox:/^sandbox($|\s)/,level:/^level\s?([a-zA-Z0-9]*)/,levels:/^levels($|\s)/,mobileAlert:/^mobile alert($|\s)/,"build level":/^build +level\s?([a-zA-Z0-9]*)$/,"export tree":/^export +tree$/,importTreeNow:/^importTreeNow($|\s)/,importLevelNow:/^importLevelNow($|\s)/,"import tree":/^import +tree$/,"import level":/^import +level$/,undo:/^undo($|\s)/,"share permalink":/^share( +permalink)?$/},o=function(){var b=["mobileAlert"],c=Object.assign({},a("../level").regexMap,n),d=f.commands.getRegexMap();return Object.keys(d).forEach(function(a){var b=d[a];Object.keys(b).forEach(function(d){var e=b[d];c[a+" "+d]=e})}),b.forEach(function(a){delete c[a]}),c};c.instantCommands=m,c.parse=d.genParseCommand(n,"processSandboxCommand"),c.getOptimisticLevelParse=function(){return d.genParseCommand(a("../level").regexMap,"processLevelCommand")},c.getOptimisticLevelBuilderParse=function(){return d.genParseCommand(a("../level/builder").regexMap,"processLevelBuilderCommand")}},{"../actions/GlobalStateActions":173,"../actions/LocaleActions":175,"../app":176,"../commands":177,"../intl":191,"../level":195,"../level/builder":193,"../stores/GlobalStateStore":211,"../stores/LocaleStore":213,"../util":220,"../util/constants":214,"../util/errors":217}],209:[function(a,b,c){var d=a("q"),e=a("backbone"),f=a("../util"),g=a("../intl"),h=a("../app"),i=a("../util/errors"),j=a("../visuals/visualization").Visualization,k=a("../level/parseWaterfall").ParseWaterfall,l=(a("../level/disabledMap").DisabledMap,a("../models/commandModel").Command),m=a("../git/gitShim").GitShim,n=a("../actions/LevelActions"),o=a("../stores/LevelStore"),p=a("../views"),q=(p.ModalTerminal,p.ModalAlert,a("../views/builderViews")),r=a("../views/multiView").MultiView,s=e.View.extend({tagName:"div",initialize:function(a){a=a||{},this.options=a,this.initVisualization(a),this.initCommandCollection(a),this.initParseWaterfall(a),this.initGitShim(a),this.initUndoStack(a),a.wait||this.takeControl()},getDefaultVisEl:function(){return $("#mainVisSpace")[0]},getAnimationTime:function(){return 1050},initVisualization:function(a){this.mainVis=new j({el:a.el||this.getDefaultVisEl()})},initUndoStack:function(a){this.undoStack=[]},initCommandCollection:function(a){this.commandCollection=h.getCommandUI().commandCollection},initParseWaterfall:function(a){this.parseWaterfall=new k},initGitShim:function(a){this.gitShim=new m({beforeCB:this.beforeCommandCB.bind(this)})},takeControl:function(){h.getEventBaton().stealBaton("commandSubmitted",this.commandSubmitted,this),h.getEventBaton().stealBaton("processSandboxCommand",this.processSandboxCommand,this),h.getEventBaton().stealBaton("levelExited",this.levelExited,this),this.insertGitShim()},releaseControl:function(){h.getEventBaton().releaseBaton("commandSubmitted",this.commandSubmitted,this),h.getEventBaton().releaseBaton("processSandboxCommand",this.processSandboxCommand,this),h.getEventBaton().releaseBaton("levelExited",this.levelExited,this),this.releaseGitShim()},releaseGitShim:function(){this.gitShim&&this.gitShim.removeShim()},insertGitShim:function(){this.gitShim&&this.mainVis.customEvents.on("gitEngineReady",function(){this.gitShim.insertShim()},this)},beforeCommandCB:function(a){this.pushUndo()},pushUndo:function(){this.undoStack.push(this.mainVis.gitEngine.printTree())},undo:function(a,b){var c=this.undoStack.pop();return c?(this.mainVis.reset(c),void setTimeout(function(){a.finishWith(b)},this.mainVis.getAnimationTime())):(a.set("error",new i.GitError({msg:g.str("undo-stack-empty")})),void b.resolve())},commandSubmitted:function(a){h.getEvents().trigger("commandSubmittedPassive",a),f.splitTextCommand(a,function(a){this.commandCollection.add(new l({rawStr:a,parseWaterfall:this.parseWaterfall}))},this)},startLevel:function(b,c){var e=b.get("regexResults")||[],f=e[1]||"",i=o.getLevel(f);if(!i)return b.addWarning(g.str("level-no-id",{id:f})),h.getEventBaton().trigger("commandSubmitted","levels"),b.set("status","error"),void c.resolve();this.hide(),this.clear();var j=d.defer(),k=a("../level").Level;this.currentLevel=new k({level:i,deferred:j,command:b}),j.promise.then(function(){b.finishWith(c)})},buildLevel:function(b,c){this.hide(),this.clear();var e=d.defer(),f=a("../level/builder").LevelBuilder,g=b.get("regexResults")||[],h=g[1]||!1;this.levelBuilder=new f({deferred:e,editLevel:h}),e.promise.then(function(){b.finishWith(c)})},exitLevel:function(a,b){a.addWarning(g.str("level-cant-exit")),a.set("status","error"),b.resolve()},showLevels:function(a,b){var c=d.defer();h.getLevelDropdown().show(c,a),c.promise.done(function(){a.finishWith(b)})},sharePermalink:function(a,b){var c=JSON.stringify(this.mainVis.gitEngine.exportTree()),d="https://learngitbranching.js.org/?NODEMO&command=importTreeNow%20"+escape(c);a.setResult(g.todo("Here is a link to the current state of the tree: ")+"\n"+d),a.finishWith(b)},resetSolved:function(a,b){n.resetLevelsSolved(),a.addWarning(g.str("solved-map-reset")),a.finishWith(b)},processSandboxCommand:function(a,b){var c={"reset solved":this.resetSolved,undo:this.undo,"help general":this.helpDialog,help:this.helpDialog,reset:this.reset,delay:this.delay,clear:this.clear,"exit level":this.exitLevel,level:this.startLevel,sandbox:this.exitLevel,levels:this.showLevels,mobileAlert:this.mobileAlert,"build level":this.buildLevel,"export tree":this.exportTree,"import tree":this.importTree,importTreeNow:this.importTreeNow,"import level":this.importLevel,importLevelNow:this.importLevelNow,"share permalink":this.sharePermalink},d=c[a.get("method")];if(!d)throw new Error("no method for that wut");d.apply(this,[a,b])},hide:function(){this.mainVis.hide()},levelExited:function(){this.show()},show:function(){this.mainVis.show()},importLevelNow:function(b,c){var e=b.get("regexResults")||[];if(e.length<2)return b.set("error",new i.GitError({msg:g.str("git-error-options")})),void b.finishWith(c);var f=e.input.replace(/importLevelNow\s+/g,""),h=a("../level").Level;try{var j=JSON.parse(unescape(f)),k=d.defer();this.currentLevel=new h({level:j,deferred:k,command:b}),this.hide(),k.promise.then(function(){b.finishWith(c)})}catch(l){throw b.set("error",new i.GitError({msg:"Something went wrong "+String(l)})),l}b.finishWith(c)},importTreeNow:function(a,b){var c=a.get("regexResults")||[];c.length<2&&(a.set("error",new i.GitError({msg:g.str("git-error-options")})),a.finishWith(b));var d=c.input.replace(/importTreeNow\s+/g,"");try{this.mainVis.gitEngine.loadTreeFromString(d)}catch(e){a.set("error",new i.GitError({msg:String(e)}))}a.finishWith(b)},importTree:function(a,b){var c=new q.MarkdownPresenter({previewText:g.str("paste-json"),fillerText:" "});c.deferred.promise.then(function(a){try{this.mainVis.gitEngine.loadTree(JSON.parse(a))}catch(b){this.mainVis.reset(),new r({childViews:[{type:"ModalAlert",options:{markdowns:["## Error!","","Something is wrong with that JSON! Here is the error:","",String(b)]}}]})}}.bind(this)).fail(function(){}).done(function(){a.finishWith(b)})},importLevel:function(b,c){var e=new q.MarkdownPresenter({previewText:g.str("paste-json"),fillerText:" "});e.deferred.promise.then(function(e){var f=a("../level").Level;try{var g=JSON.parse(e),h=d.defer();this.currentLevel=new f({level:g,deferred:h,command:b}),this.hide(),h.promise.then(function(){b.finishWith(c)})}catch(i){new r({childViews:[{type:"ModalAlert",options:{markdowns:["## Error!","","Something is wrong with that level JSON, this happened:","",String(i)]}}]}),b.finishWith(c)}}.bind(this)).fail(function(){b.finishWith(c)}).done()},exportTree:function(a,b){var c=JSON.stringify(this.mainVis.gitEngine.exportTree(),null,2),d=new r({childViews:[{type:"MarkdownPresenter",options:{previewText:g.str("share-tree"),fillerText:c,noConfirmCancel:!0}}]});d.getPromise().then(function(){a.finishWith(b)}).done()},clear:function(a,b){h.getEvents().trigger("clearOldCommands"),a&&b&&a.finishWith(b)},mobileAlert:function(a,b){alert(g.str("mobile-alert")),a.finishWith(b)},delay:function(a,b){var c=parseInt(a.get("regexResults")[1],10);setTimeout(function(){a.finishWith(b)},c)},reset:function(a,b){this.mainVis.reset(),this.initUndoStack(),setTimeout(function(){a.finishWith(b)},this.mainVis.getAnimationTime())},helpDialog:function(b,c){var d=new r({childViews:g.getDialog(a("../dialogs/sandbox"))});d.getPromise().then(function(){b.finishWith(c)}.bind(this)).done()}});c.Sandbox=s},{"../actions/LevelActions":174,"../app":176,"../dialogs/sandbox":182,"../git/gitShim":185,"../intl":191,"../level":195,"../level/builder":193,"../level/disabledMap":194,"../level/parseWaterfall":196,"../models/commandModel":200,"../stores/LevelStore":212,"../util":220,"../util/errors":217,"../views":230,"../views/builderViews":227,"../views/multiView":232,"../visuals/visualization":243,backbone:1,q:13}],210:[function(a,b,c){"use strict";function d(){n.length>l&&(n=n.slice(0,m))}function e(){try{localStorage.setItem(k,JSON.stringify(n))}catch(a){}}var f=a("../constants/AppConstants"),g=a("../dispatcher/AppDispatcher"),h=a("events").EventEmitter,i=a("object-assign"),j=f.ActionTypes,k="lgb_CommandHistory",l=100,m=10,n=[];try{n=JSON.parse(localStorage.getItem(k)||"[]")||[]}catch(o){}var p=i({},h.prototype,f.StoreSubscribePrototype,{getMaxHistoryLength:function(){return l},getCommandHistoryLength:function(){return n.length},getCommandHistory:function(){return n.slice(0)},dispatchToken:g.register(function(a){var b=a.action,c=!1;switch(b.type){case j.SUBMIT_COMMAND:n.unshift(String(b.text)),d(),e(),c=!0;break;case j.CHANGE_FLIP_TREE_Y:}c&&p.emit(f.CHANGE_EVENT)})});b.exports=p;
},{"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183,events:7,"object-assign":11}],211:[function(a,b,c){"use strict";var d=a("../constants/AppConstants"),e=a("../dispatcher/AppDispatcher"),f=a("events").EventEmitter,g=a("object-assign"),h=d.ActionTypes,i=!1,j=!1,k=0,l=g({},f.prototype,d.StoreSubscribePrototype,{getIsAnimating:function(){return i},getFlipTreeY:function(){return j},getNumLevelsSolved:function(){return k},dispatchToken:e.register(function(a){var b=a.action,c=!1;switch(b.type){case h.CHANGE_IS_ANIMATING:i=b.isAnimating,c=!0;break;case h.CHANGE_FLIP_TREE_Y:j=b.flipTreeY,c=!0;break;case h.LEVEL_SOLVED:k++,c=!0}c&&l.emit(d.CHANGE_EVENT)})});b.exports=l},{"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183,events:7,"object-assign":11}],212:[function(a,b,c){"use strict";function d(){try{localStorage.setItem(l,JSON.stringify(n))}catch(a){console.warn("local storage failed on set",a)}}var e=a("../constants/AppConstants"),f=a("../dispatcher/AppDispatcher"),g=a("events").EventEmitter,h=(a("underscore"),a("object-assign")),i=a("../../levels").levelSequences,j=a("../../levels").sequenceInfo,k=e.ActionTypes,l="solvedMap",m={},n={},o=[];try{n=JSON.parse(localStorage.getItem(l)||"{}")||{}}catch(p){console.warn("local storage failed",p)}var q=function(a){a=a||{};var b=["name","goalTreeString","solutionCommand"];b.forEach(function(b){if(void 0===a[b])throw console.log(a),new Error("I need this field for a level: "+b)})};Object.keys(i).forEach(function(a){var b=i[a];if(o.push(a),!b||!b.length)throw new Error("no empty sequences allowed");b.forEach(function(b,c){q(b);var d=a+String(c+1),e=h({},b,{index:c,id:d,sequenceName:a});m[d]=e,i[a][c]=e})});var r=h({},g.prototype,e.StoreSubscribePrototype,{getSequenceToLevels:function(){return i},getSequences:function(){return Object.keys(i)},getLevelsInSequence:function(a){if(!i[a])throw new Error("that sequecne name "+a+"does not exist");return i[a]},getSequenceInfo:function(a){return j[a]},getLevel:function(a){return m[a]},getNextLevel:function(a){if(!m[a])return console.warn("that level doesn't exist!!!"),null;var b=m[a],c=b.sequenceName,d=i[c],e=b.index+1;if(e<d.length)return d[e];var f=o.indexOf(c)+1;if(f<o.length){var g=o[f];return i[g][0]}return null},isLevelSolved:function(a){if(!m[a])throw new Error("that level doesn't exist!");return!!n[a]},dispatchToken:f.register(function(a){var b=a.action,c=!1;switch(b.type){case k.RESET_LEVELS_SOLVED:n={},d(),c=!0;break;case k.SET_LEVEL_SOLVED:n[b.levelID]=!0,d(),c=!0}c&&r.emit(e.CHANGE_EVENT)})});b.exports=r},{"../../levels":244,"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183,events:7,"object-assign":11,underscore:169}],213:[function(a,b,c){"use strict";function d(a){for(var b,c=a.split(","),d=0;d<c.length;d++){var e=c[d].split(";")[0];if(l[e]){b=l[e];break}var f=e.slice(0,2);if(k[f]){b=k[f];break}}return b}var e=a("../constants/AppConstants"),f=a("../dispatcher/AppDispatcher"),g=a("events").EventEmitter,h=a("object-assign"),i=e.ActionTypes,j="en_US",k={en:"en_US",zh:"zh_CN",ja:"ja",ko:"ko",es:"es_AR",fr:"fr_FR",de:"de_DE",pt:"pt_BR",ru:"ru_RU",uk:"uk"},l={"zh-CN":"zh_CN","zh-TW":"zh_TW","pt-BR":"pt_BR"},m=Object.values(k).concat(Object.values(l)).filter(function(a,b,c){return c.indexOf(a)===b}),n=j,o=h({},g.prototype,e.StoreSubscribePrototype,{getDefaultLocale:function(){return j},getLangLocaleMap:function(){return h({},k)},getHeaderLocaleMap:function(){return h({},l)},getLocale:function(){return n},getSupportedLocales:function(){return m.slice()},dispatchToken:f.register(function(a){var b=a.action,c=!1;switch(b.type){case i.CHANGE_LOCALE:n=b.locale,c=!0;break;case i.CHANGE_LOCALE_FROM_HEADER:var f=d(b.header);f&&(n=f,c=!0)}c&&o.emit(e.CHANGE_EVENT)})});b.exports=o},{"../constants/AppConstants":178,"../dispatcher/AppDispatcher":183,events:7,"object-assign":11}],214:[function(a,b,c){var d={betweenCommandsDelay:400},e={minZoom:.55,maxZoom:1.25,minWidth:600,minHeight:600},f={arrowHeadSize:8,nodeRadius:17,curveControlPointOffset:50,defaultEasing:"easeInOut",defaultAnimationTime:400,rectFill:"hsb(0.8816909813322127,0.6,1)",headRectFill:"#2831FF",rectStroke:"#FFF",rectStrokeWidth:"3",originDash:"- ",multiBranchY:20,multiTagY:15,upstreamHeadOpacity:.5,upstreamNoneOpacity:.2,edgeUpstreamHeadOpacity:.4,edgeUpstreamNoneOpacity:.15,visBranchStrokeWidth:2,visBranchStrokeColorNone:"#333",defaultNodeFill:"hsba(0.5,0.6,0.7,1)",defaultNodeStrokeWidth:2,defaultNodeStroke:"#FFF",tagFill:"hsb(0,0,0.9)",tagStroke:"#FFF",tagStrokeWidth:"2",orphanNodeFill:"hsb(0.5,0.8,0.7)"};c.TIME=d,c.GRAPHICS=f,c.VIEWPORT=e},{}],215:[function(a,b,c){b.exports=function(a,b,c){var d;return function(){var e=function(){d=null,c||a.apply(this,arguments)},f=c&&!d;clearTimeout(d),d=setTimeout(e,b),f&&a.apply(this,arguments)}}},{}],216:[function(a,b,c){var d={App:a("../app/index.js"),Tree:a("../visuals/tree"),Visuals:a("../visuals"),Git:a("../git"),CommandModel:a("../models/commandModel"),CommandLineStore:a("../stores/CommandLineStore"),CommandLineActions:a("../actions/CommandLineActions"),LevelActions:a("../actions/LevelActions"),LevelStore:a("../stores/LevelStore"),LocaleActions:a("../actions/LocaleActions"),GlobalStateActions:a("../actions/GlobalStateActions"),GlobalStateStore:a("../stores/GlobalStateStore"),LocaleStore:a("../stores/LocaleStore"),Levels:a("../graph/treeCompare"),Constants:a("../util/constants"),Commands:a("../commands"),Collections:a("../models/collections"),Async:a("../visuals/animation"),AnimationFactory:a("../visuals/animation/animationFactory"),Main:a("../app"),HeadLess:a("../git/headless"),Q:{Q:a("q")},RebaseView:a("../views/rebaseView"),Views:a("../views"),MultiView:a("../views/multiView"),ZoomLevel:a("../util/zoomLevel"),VisBranch:a("../visuals/visBranch"),TreeCompare:a("../graph/treeCompare"),Level:a("../level"),Sandbox:a("../sandbox/"),GitDemonstrationView:a("../views/gitDemonstrationView"),Markdown:a("markdown"),LevelDropdownView:a("../views/levelDropdownView"),BuilderViews:a("../views/builderViews"),Util:a("../util/index"),Intl:a("../intl")};Object.keys(d).forEach(function(a){var b=d[a];for(var c in b){var e=b[c];e instanceof Function&&(e=e.bind(b)),window["debug_"+a+"_"+c]=e}}),$(document).ready(function(){window.debug_events=d.Main.getEvents(),window.debug_eventBaton=d.Main.getEventBaton(),window.debug_sandbox=d.Main.getSandbox(),window.debug_modules=d,window.debug_levelDropdown=d.Main.getLevelDropdown(),window.debug_copyTree=function(){return d.Main.getSandbox().mainVis.gitEngine.printAndCopyTree()}})},{"../actions/CommandLineActions":172,"../actions/GlobalStateActions":173,"../actions/LevelActions":174,"../actions/LocaleActions":175,"../app":176,"../app/index.js":176,"../commands":177,"../git":187,"../git/headless":186,"../graph/treeCompare":189,"../intl":191,"../level":195,"../models/collections":199,"../models/commandModel":200,"../sandbox/":209,"../stores/CommandLineStore":210,"../stores/GlobalStateStore":211,"../stores/LevelStore":212,"../stores/LocaleStore":213,"../util/constants":214,"../util/index":220,"../util/zoomLevel":226,"../views":230,"../views/builderViews":227,"../views/gitDemonstrationView":229,"../views/levelDropdownView":231,"../views/multiView":232,"../views/rebaseView":233,"../visuals":236,"../visuals/animation":235,"../visuals/animation/animationFactory":234,"../visuals/tree":237,"../visuals/visBranch":239,markdown:9,q:13}],217:[function(a,b,c){var d=a("backbone"),e=d.Model.extend({defaults:{type:"MyError"},toString:function(){return this.get("type")+": "+this.get("msg")},getMsg:function(){return this.get("msg")||console.warn("my error without message"),this.get("msg")}}),f=c.CommandProcessError=e.extend({defaults:{type:"Command Process Error"}}),g=c.CommandResult=e.extend({defaults:{type:"Command Result"}}),h=c.Warning=e.extend({defaults:{type:"Warning"}}),i=c.GitError=e.extend({defaults:{type:"Git Error"}}),j=function(a){if(!(a instanceof f||a instanceof i||a instanceof g||a instanceof h))throw a};c.filterError=j},{backbone:1}],218:[function(a,b,c){var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"};b.exports=function(a){return(""+a).replace(/[&<>"'\/]/g,function(a){return d[a]})}},{}],219:[function(a,b,c){function d(a){this.eventMap={},this.options=a||{}}d.prototype.stealBaton=function(a,b,c){if(!a)throw new Error("need name");if(!b)throw new Error("need func!");var d=this.eventMap[a]||[];d.push({func:b,context:c}),this.eventMap[a]=d},d.prototype.sliceOffArgs=function(a,b){for(var c=[],d=a;d<b.length;d++)c.push(b[d]);return c},d.prototype.trigger=function(a){var b=this.sliceOffArgs(1,arguments),c=this.eventMap[a];if(!c||!c.length)return void console.warn("no listeners for",a);var d=c.slice(-1)[0];d.func.apply(d.context,b)},d.prototype.getNumListeners=function(a){var b=this.eventMap[a]||[];return b.length},d.prototype.getListenersThrow=function(a){var b=this.eventMap[a];if(!b||!b.length)throw new Error("no one has that baton!"+a);return b},d.prototype.passBatonBackSoft=function(a,b,c,d){try{return this.passBatonBack(a,b,c,d)}catch(e){}},d.prototype.passBatonBack=function(a,b,c,d){var e,f=this.getListenersThrow(a);if(f.forEach(function(a,d){0!==d&&a.func===b&&a.context===c&&(e=d-1)}),void 0===e)throw new Error("you are the last baton holder! or i didn't find you");var g=f[e];g.func.apply(g.context,d)},d.prototype.releaseBaton=function(a,b,c){var d=this.getListenersThrow(a),e=[],f=!1;if(d.forEach(function(a){a.func===b&&a.context===c?(f&&(console.warn("woah duplicates!!!"),console.log(d)),f=!0):e.push(a)}),!f)throw console.log("did not find that function",b,c,a,arguments),console.log(this.eventMap),new Error("can't releasebaton if you don't have it");this.eventMap[a]=e},c.EventBaton=d},{}],220:[function(a,b,c){var d=a("../util/escapeString");a("../util/constants");c.parseQueryString=function(a){var b={};return a.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(a,c,d,e){b[c]=e}),b},c.isBrowser=function(){var a="undefined"!==String(typeof window);return a},c.splitTextCommand=function(a,b,c){b=b.bind(c),a.split(";").forEach(function(a,c){a=d(a),a=a.replace(/^(\s+)/,"").replace(/(\s+)$/,"").replace(/&quot;/g,'"').replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/"),c>0&&!a.length||b(a)})},c.genParseCommand=function(a,b){return function(c){var d,e;return Object.keys(a).forEach(function(b){var f=a[b].exec(c);f&&(d=b,e=f)}),d?{toSet:{eventName:b,method:d,regexResults:e}}:!1}}},{"../util/constants":214,"../util/escapeString":218}],221:[function(a,b,c){"use strict";var d=function(a){var b={};for(var c in a)a.hasOwnProperty(c)&&(b[c]=c);return b};b.exports=d},{}],222:[function(a,b,c){function d(a){this.events=a.events,this.aliasMap=a.aliasMap||{},a.wait||this.listen()}var e=(a("backbone"),a("../app")),f=function(a){var b={37:"left",38:"up",39:"right",40:"down",27:"esc",13:"enter"};return b[a]};d.prototype.listen=function(){this.listening||(this.listening=!0,e.getEventBaton().stealBaton("docKeydown",this.keydown,this))},d.prototype.mute=function(){this.listening=!1,e.getEventBaton().releaseBaton("docKeydown",this.keydown,this)},d.prototype.keydown=function(a){var b=a.which||a.keyCode,c=f(b);void 0!==c&&this.fireEvent(c,a)},d.prototype.fireEvent=function(a,b){a=this.aliasMap[a]||a,this.events.trigger(a,b)},d.prototype.passEventBack=function(a){e.getEventBaton().passBatonBackSoft("docKeydown",this.keydown,this,[a])},c.KeyboardListener=d,c.mapKeycodeToKey=f},{"../app":176,backbone:1}],223:[function(a,b,c){c.mock=function(a){var b={},c=function(){};for(var d in a.prototype)b[d]=c;return b}},{}],224:[function(a,b,c){var d=function(a){return a.join(" ")};c.joinClasses=d},{}],225:[function(a,b,c){b.exports=function(a,b){var c=!1;return function(){c||(a.apply(this,arguments),c=!0,setTimeout(function(){c=!1},b))}}},{}],226:[function(a,b,c){function d(){return window.outerWidth&&window.innerWidth?window.outerWidth/window.innerWidth:(e&&(console.warn("Can't detect zoom level correctly :-/"),e=!1),1)}var e=!0;c.detectZoom=d},{}],227:[function(a,b,c){var d=a("underscore"),e=a("q"),f=a("../views"),g=a("../util/throttle"),h=f.ModalTerminal,i=f.ContainedBase,j=i.extend({tagName:"div",className:"textGrabber box vertical",template:d.template($("#text-grabber").html()),initialize:function(a){a=a||{},this.JSON={helperText:a.helperText||"Enter some text"},this.container=a.container||new h({title:"Enter some text"}),this.render(),a.initialText&&this.setText(a.initialText),a.wait||this.show()},getText:function(){return this.$("textarea").val()},setText:function(a){this.$("textarea").val(a)}}),k=i.extend({tagName:"div",className:"markdownGrabber box horizontal",template:d.template($("#markdown-grabber-view").html()),events:{"keyup textarea":"keyup"},initialize:function(a){if(a=a||{},this.deferred=a.deferred||e.defer(),a.fromObj&&(a.fillerText=a.fromObj.options.markdowns.join("\n")),this.JSON={previewText:a.previewText||"Preview",fillerText:a.fillerText||"## Enter some markdown!\n\n\n"},this.container=a.container||new h({title:a.title||"Enter some markdown"}),this.render(),!a.withoutButton){var b=e.defer();b.promise.then(this.confirmed.bind(this)).fail(this.cancelled.bind(this)).done();new f.ConfirmCancelView({deferred:b,destination:this.getDestination()})}this.updatePreview(),a.wait||this.show()},confirmed:function(){this.die(),this.deferred.resolve(this.getRawText())},cancelled:function(){this.die(),this.deferred.resolve()},keyup:function(){this.throttledPreview||(this.throttledPreview=g(this.updatePreview.bind(this),500)),this.throttledPreview()},getRawText:function(){return this.$("textarea").val()},exportToArray:function(){return this.getRawText().split("\n")},getExportObj:function(){return{markdowns:this.exportToArray()}},updatePreview:function(){var b=this.getRawText(),c=a("markdown").markdown.toHTML(b);this.$("div.insidePreview").html(c)}}),l=i.extend({tagName:"div",className:"markdownPresenter box vertical",template:d.template($("#markdown-presenter").html()),initialize:function(a){if(a=a||{},this.deferred=a.deferred||e.defer(),this.JSON={previewText:a.previewText||"Here is something for you",fillerText:a.fillerText||"# Yay"},this.container=new h({title:"Check this out..."}),this.render(),!a.noConfirmCancel){var b=new f.ConfirmCancelView({destination:this.getDestination()});b.deferred.promise.then(function(){this.deferred.resolve(this.grabText())}.bind(this)).fail(function(){this.deferred.reject()}.bind(this)).done(this.die.bind(this))}this.show()},grabText:function(){return this.$("textarea").val()}}),m=i.extend({tagName:"div",className:"demonstrationBuilder box vertical",template:d.template($("#demonstration-builder").html()),events:{"click div.testButton":"testView"},initialize:function(a){if(a=a||{},this.deferred=a.deferred||e.defer(),a.fromObj){var b=a.fromObj.options;a=Object.assign({},a,b,{beforeMarkdown:b.beforeMarkdowns.join("\n"),afterMarkdown:b.afterMarkdowns.join("\n")})}this.JSON={},this.container=new h({title:"Demonstration Builder"}),this.render(),this.beforeMarkdownView=new k({container:this,withoutButton:!0,fillerText:a.beforeMarkdown,previewText:"Before demonstration Markdown"}),this.beforeCommandView=new j({container:this,helperText:"The git command(s) to set up the demonstration view (before it is displayed)",initialText:a.beforeCommand||"git checkout -b bugFix"}),this.commandView=new j({container:this,helperText:"The git command(s) to demonstrate to the reader",initialText:a.command||"git commit"}),this.afterMarkdownView=new k({container:this,withoutButton:!0,fillerText:a.afterMarkdown,previewText:"After demonstration Markdown"});var c=e.defer();new f.ConfirmCancelView({deferred:c,destination:this.getDestination()});c.promise.then(this.confirmed.bind(this)).fail(this.cancelled.bind(this)).done()},testView:function(){var b=a("../views/multiView").MultiView;new b({childViews:[{type:"GitDemonstrationView",options:this.getExportObj()}]})},getExportObj:function(){return{beforeMarkdowns:this.beforeMarkdownView.exportToArray(),afterMarkdowns:this.afterMarkdownView.exportToArray(),command:this.commandView.getText(),beforeCommand:this.beforeCommandView.getText()}},confirmed:function(){this.die(),this.deferred.resolve(this.getExportObj())},cancelled:function(){this.die(),this.deferred.resolve()},getInsideElement:function(){return this.$(".insideBuilder")[0]}}),n=i.extend({tagName:"div",className:"multiViewBuilder box vertical",template:d.template($("#multi-view-builder").html()),typeToConstructor:{ModalAlert:k,GitDemonstrationView:m},events:{"click div.deleteButton":"deleteOneView","click div.testButton":"testOneView","click div.editButton":"editOneView","click div.testEntireView":"testEntireView","click div.addView":"addView","click div.saveView":"saveView","click div.cancelView":"cancel"},initialize:function(a){a=a||{},this.deferred=a.deferred||e.defer(),this.multiViewJSON=a.multiViewJSON||{},this.JSON={views:this.getChildViews(),supportedViews:Object.keys(this.typeToConstructor)},this.container=new h({title:"Build a MultiView!"}),this.render(),this.show()},saveView:function(){this.hide(),this.deferred.resolve(this.multiViewJSON)},cancel:function(){this.hide(),this.deferred.resolve()},addView:function(a){var b=a.target,c=$(b).attr("data-type"),d=e.defer(),f=this.typeToConstructor[c],g=new f({deferred:d});d.promise.then(function(){var a={type:c,options:g.getExportObj()};this.addChildViewObj(a)}.bind(this)).fail(function(){}).done()},testOneView:function(b){var c=b.target,d=$(c).attr("data-index"),e=this.getChildViews()[d],f=a("../views/multiView").MultiView;new f({childViews:[e]})},testEntireView:function(){var b=a("../views/multiView").MultiView;new b({childViews:this.getChildViews()})},editOneView:function(a){var b=a.target,c=$(b).attr("data-index"),d=$(b).attr("data-type"),f=e.defer(),g=new this.typeToConstructor[d]({deferred:f,fromObj:this.getChildViews()[c]});f.promise.then(function(){var a={type:d,options:g.getExportObj()},b=this.getChildViews();b[c]=a,this.setChildViews(b)}.bind(this)).fail(function(){}).done()},deleteOneView:function(a){var b=a.target,c=$(b).attr("data-index"),d=this.getChildViews(),e=d.slice(0,c).concat(d.slice(c+1));this.setChildViews(e),this.update()},addChildViewObj:function(a,b){var c=this.getChildViews();c.push(a),this.setChildViews(c),this.update()},setChildViews:function(a){this.multiViewJSON.childViews=a},getChildViews:function(){return this.multiViewJSON.childViews||[]},update:function(){this.JSON.views=this.getChildViews(),this.renderAgain()}});c.MarkdownGrabber=k,c.DemonstrationBuilder=m,c.TextGrabber=j,c.MultiViewBuilder=n,c.MarkdownPresenter=l},{"../util/throttle":225,"../views":230,"../views/multiView":232,markdown:9,q:13,underscore:169}],228:[function(a,b,c){var d=a("backbone"),e=a("../app"),f=a("../stores/CommandLineStore"),g=a("../actions/CommandLineActions"),h=a("../log"),i=a("../util/keyboard"),j=d.View.extend({initialize:function(){e.getEvents().on("commandSubmittedPassive",this.addToCommandHistory,this),this.index=-1,this.commandParagraph=this.$("#prompt p.command")[0],this.focus(),e.getEvents().on("rollupCommands",this.rollupCommands,this),e.getEventBaton().stealBaton("keydown",this.onKeyDown,this),e.getEventBaton().stealBaton("keyup",this.onKeyUp,this),this.updatePrompt(" ")},events:{"blur #commandTextField":"hideCursor","focus #commandTextField":"showCursor"},blur:function(){this.hideCursor()},focus:function(){this.$("#commandTextField").focus(),this.showCursor()},hideCursor:function(){this.toggleCursor(!1)},showCursor:function(){this.toggleCursor(!0)},toggleCursor:function(a){$(this.commandParagraph).toggleClass("showCursor",a)},onKeyDown:function(a){if(9===a.keyCode)return void a.preventDefault();var b=a.target;this.updatePrompt(b)},onKeyUp:function(a){this.onKeyDown(a);var b={enter:function(){this.submit()}.bind(this),up:function(){this.commandSelectChange(1)}.bind(this),down:function(){this.commandSelectChange(-1)}.bind(this)},c=i.mapKeycodeToKey(a.which||a.keyCode);void 0!==b[c]&&(a.preventDefault(),b[c](),this.onKeyDown(a))},badHtmlEncode:function(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/</g,"&lt;").replace(/ /g,"&nbsp;").replace(/\n/g,"")},updatePrompt:function(a){a=a||{};var b=$("#commandTextField").val(),c=a.selectionStart,d=a.selectionEnd;b.length?c===d?(b+=" ",d+=1):(void 0===c||void 0===d)&&(c=Math.max(b.length-1,0),d=b.length):(b=" ",c=0,d=1);var f=b.substring(0,c),g=b.substring(c,d),h=b.substring(d,b.length),i="<span>"+this.badHtmlEncode(f)+'</span><span class="commandCursor">'+this.badHtmlEncode(g)+"</span><span>"+this.badHtmlEncode(h)+"</span>";this.commandParagraph.innerHTML=i,e.getEvents().trigger("commandScrollDown")},commandSelectChange:function(a){if(this.index+=a,this.index>=f.getCommandHistoryLength()||this.index<0)return this.clear(),void(this.index=-1);var b=f.getCommandHistory()[this.index];this.setTextField(b)},setTextField:function(a){this.$("#commandTextField").val(a)},clear:function(){this.setTextField("")},submit:function(){var a=this.$("#commandTextField").val().replace("\n","");this.clear(),this.submitCommand(a),this.index=-1},rollupCommands:function(a){var b=f.getCommandHistory().slice(1,Number(a)+1);b.reverse();var c="";b.forEach(function(a){c+=a+";"},this),g.submitCommand(c)},addToCommandHistory:function(a){var b=a.length&&-1===this.index||a.length&&-1!==this.index&&f.getCommandHistory()[this.index]!==a;b&&(g.submitCommand(a),h.commandEntered(a))},submitCommand:function(a){e.getEventBaton().trigger("commandSubmitted",a)}});c.CommandPromptView=j},{"../actions/CommandLineActions":172,"../app":176,"../log":197,"../stores/CommandLineStore":210,"../util/keyboard":222,backbone:1}],229:[function(a,b,c){var d=a("underscore"),e=a("q"),f=a("backbone"),g=a("../util"),h=a("../intl"),i=a("../util/keyboard").KeyboardListener,j=a("../models/commandModel").Command,k=a("../views").ModalTerminal,l=a("../views").ContainedBase,m=a("../visuals/visualization").Visualization,n=a("../git/headless"),o=l.extend({tagName:"div",className:"gitDemonstrationView box horizontal",template:d.template($("#git-demonstration-view").html()),events:{"click div.command > p.uiButton":"positive"},initialize:function(b){b=b||{},this.options=b,this.JSON=Object.assign({beforeMarkdowns:["## Git Commits","","Awesome!"],command:"git commit",afterMarkdowns:["Now you have seen it in action","","Go ahead and try the level!"]},b);var c=function(b){return a("markdown").markdown.toHTML(b.join("\n"))};this.JSON.beforeHTML=c(this.JSON.beforeMarkdowns),this.JSON.afterHTML=c(this.JSON.afterMarkdowns),this.container=new k({title:b.title||h.str("git-demonstration-title")}),this.render(),this.checkScroll(),this.navEvents=Object.assign({},f.Events),this.navEvents.on("positive",this.positive,this),this.navEvents.on("negative",this.negative,this),this.keyboardListener=new i({events:this.navEvents,aliasMap:{enter:"positive",right:"positive",left:"negative"},wait:!0}),this.visFinished=!1,this.initVis(),b.wait||this.show()},receiveMetaNav:function(a,b){a.navEvents.on("positive",this.positive,this),this.metaContainerView=b},checkScroll:function(){var a=this.$("div.demonstrationText").children().toArray(),b=a.map(function(a){return a.clientHeight}),c=b.reduce(function(a,b){return a+b});c<this.$("div.demonstrationText").height()&&this.$("div.demonstrationText").addClass("noLongText")},dispatchBeforeCommand:function(){if(this.options.beforeCommand){var a=e.defer();n.getTreeQuick(this.options.beforeCommand,a),a.promise.then(function(a){this.mainVis.gitEngine.loadTree(a),this.mainVis.gitVisuals.refreshTreeHarsh()}.bind(this))}},takeControl:function(){this.hasControl=!0,this.keyboardListener.listen(),this.metaContainerView&&this.metaContainerView.lock()},releaseControl:function(){this.hasControl&&(this.hasControl=!1,this.keyboardListener.mute(),this.metaContainerView&&this.metaContainerView.unlock())},reset:function(){this.mainVis.reset(),this.dispatchBeforeCommand(),this.demonstrated=!1,this.$el.toggleClass("demonstrated",!1),this.$el.toggleClass("demonstrating",!1)},positive:function(){!this.demonstrated&&this.hasControl&&(this.demonstrated=!0,this.demonstrate())},demonstrate:function(){this.$el.toggleClass("demonstrating",!0);var a=e.defer();this.dispatchCommand(this.JSON.command,a),a.promise.then(function(){this.$el.toggleClass("demonstrating",!1),this.$el.toggleClass("demonstrated",!0),this.releaseControl()}.bind(this))},negative:function(a){this.$el.hasClass("demonstrating")||this.keyboardListener.passEventBack(a)},dispatchCommand:function(a,b){var c=[];g.splitTextCommand(a,function(a){c.push(new j({rawStr:a}))},this);var d=e.defer(),f=d.promise;c.forEach(function(a,b){f=f.then(function(){var b=e.defer();return this.mainVis.gitEngine.dispatch(a,b),b.promise}.bind(this)),f=f.then(function(){return e.delay(300)})},this),f=f.then(function(){b.resolve()}),d.resolve()},tearDown:function(){this.mainVis.tearDown(),o.__super__.tearDown.apply(this)},hide:function(){this.releaseControl(),this.reset(),this.visFinished&&(this.mainVis.setTreeIndex(-1),this.mainVis.setTreeOpacity(0)),this.shown=!1,o.__super__.hide.apply(this)},show:function(){this.takeControl(),this.visFinished&&setTimeout(function(){this.shown&&(this.mainVis.setTreeIndex(300),this.mainVis.showHarsh())}.bind(this),1.5*this.getAnimationTime()),this.shown=!0,o.__super__.show.apply(this)},die:function(){this.visFinished&&o.__super__.die.apply(this)},initVis:function(){this.mainVis=new m({el:this.$("div.visHolder div.visHolderInside")[0],noKeyboardInput:!0,noClick:!0,smallCanvas:!0,zIndex:-1}),this.mainVis.customEvents.on("paperReady",function(){this.visFinished=!0,this.dispatchBeforeCommand(),this.shown&&this.show()}.bind(this))}});c.GitDemonstrationView=o},{"../git/headless":186,"../intl":191,"../models/commandModel":200,"../util":220,"../util/keyboard":222,"../views":230,"../visuals/visualization":243,backbone:1,markdown:9,q:13,underscore:169}],230:[function(a,b,c){(function(b){var d=a("underscore"),e=a("q"),f=a("backbone"),g=a("../app"),h=a("../intl"),i=(a("../log"),a("../util/constants")),j=a("../util/keyboard").KeyboardListener,k=a("../util/debounce"),l=a("../util/throttle"),m=f.View.extend({getDestination:function(){return this.destination||this.container.getInsideElement()},tearDown:function(){this.$el.remove(),this.container&&this.container.tearDown()},renderAgain:function(a){a=a||this.template(this.JSON),this.$el.html(a)},render:function(a){this.renderAgain(a);var b=this.getDestination();$(b).append(this.el)}}),n=m.extend({resolve:function(){this.deferred.resolve()},reject:function(){this.deferred.reject()}}),o=m.extend({positive:function(){this.navEvents.trigger("positive")},exit:function(){this.navEvents.trigger("exit")},negative:function(){this.navEvents.trigger("negative")}}),p=m.extend({getAnimationTime:function(){return 700},show:function(){this.container.show()},hide:function(){this.container.hide()},die:function(){this.hide(),setTimeout(function(){this.tearDown()}.bind(this),1.1*this.getAnimationTime())}}),q=p.extend({tagName:"a",className:"generalButton uiButton",template:d.template($("#general-button").html()),events:{click:"click"},initialize:function(a){a=a||{},this.navEvents=a.navEvents||Object.assign({},f.Events),this.destination=a.destination,this.destination||(this.container=new u),this.JSON={buttonText:a.buttonText||"General Button",wantsWrapper:void 0!==a.wantsWrapper?a.wantsWrapper:!0},this.render(),this.container&&!a.wait&&this.show()},click:function(){this.clickFunc||(this.clickFunc=l(this.sendClick.bind(this),500)),this.clickFunc()},sendClick:function(){this.navEvents.trigger("click")}.bind(this)}),r=n.extend({tagName:"div",className:"confirmCancelView box horizontal justify",template:d.template($("#confirm-cancel-template").html()),events:{"click .confirmButton":"resolve","click .cancelButton":"reject"},initialize:function(a){if(!a.destination)throw new Error("needmore");this.destination=a.destination,this.deferred=a.deferred||e.defer(),this.JSON={confirm:a.confirm||"Confirm",cancel:a.cancel||"Cancel"},this.render()}}),s=o.extend({tagName:"div",className:"leftRightView box horizontal center",template:d.template($("#left-right-template").html()),initialize:function(a){if(!a.destination||!a.events)throw new Error("needmore");this.destination=a.destination,this.pipeEvents=a.events,this.navEvents=Object.assign({},f.Events),this.JSON={showLeft:void 0===a.showLeft?!0:a.showLeft,lastNav:void 0===a.lastNav?!1:a.lastNav},this.render(),this.$("div.right").click(this.positive.bind(this)),this.$("div.left").click(this.negative.bind(this)),this.$("div.exit").click(this.exit.bind(this))},exit:function(){this.pipeEvents.trigger("exit"),s.__super__.exit.apply(this)},positive:function(){this.pipeEvents.trigger("positive"),s.__super__.positive.apply(this)},negative:function(){this.pipeEvents.trigger("negative"),s.__super__.negative.apply(this)}}),t=f.View.extend({tagName:"div",className:"modalView box horizontal center transitionOpacityLinear",template:d.template($("#modal-view-template").html()),getAnimationTime:function(){return 700},initialize:function(a){this.shown=!1,this.render()},render:function(){this.$el.html(this.template({})),$("body").append(this.el)},stealKeyboard:function(){g.getEventBaton().stealBaton("keydown",this.onKeyDown,this),g.getEventBaton().stealBaton("keyup",this.onKeyUp,this),g.getEventBaton().stealBaton("windowFocus",this.onWindowFocus,this),g.getEventBaton().stealBaton("documentClick",this.onDocumentClick,this),$("#commandTextField").blur()},releaseKeyboard:function(){g.getEventBaton().releaseBaton("keydown",this.onKeyDown,this),g.getEventBaton().releaseBaton("keyup",this.onKeyUp,this),g.getEventBaton().releaseBaton("windowFocus",this.onWindowFocus,this),g.getEventBaton().releaseBaton("documentClick",this.onDocumentClick,this),g.getEventBaton().trigger("windowFocus")},onWindowFocus:function(a){},onDocumentClick:function(a){},onKeyDown:function(a){a.preventDefault()},onKeyUp:function(a){a.preventDefault()},show:function(){this.toggleZ(!0),b.nextTick(function(){this.toggleShow(!0)}.bind(this))},hide:function(){this.toggleShow(!1),setTimeout(function(){this.shown||this.toggleZ(!1)}.bind(this),this.getAnimationTime())},getInsideElement:function(){return this.$(".contentHolder")},toggleShow:function(a){this.shown!==a&&(a?this.stealKeyboard():this.releaseKeyboard(),this.shown=a,this.$el.toggleClass("show",a))},toggleZ:function(a){this.$el.toggleClass("inFront",a)},tearDown:function(){this.$el.html(""),$("body")[0].removeChild(this.el)}}),u=p.extend({tagName:"div",className:"modalTerminal box flex1",template:d.template($("#terminal-window-template").html()),events:{"click div.inside":"onClick"},initialize:function(a){a=a||{},this.navEvents=a.events||Object.assign({},f.Events),this.container=new t,this.JSON={title:a.title},this.render()},updateTitle:function(a){this.$(".modal-title").text(a)},onClick:function(){this.navEvents.trigger("click")},getInsideElement:function(){return this.$(".inside")}}),v=p.extend({tagName:"div",template:d.template($("#modal-alert-template").html()),initialize:function(a){this.options=a||{},this.JSON={title:a.title||"Something to say",text:a.text||"Here is a paragraph",markdown:a.markdown},a.markdowns&&(this.JSON.markdown=a.markdowns.join("\n")),this.container=new u({}),this.render(),a.wait||this.show()},render:function(){var b=this.JSON.markdown?a("markdown").markdown.toHTML(this.JSON.markdown):this.template(this.JSON);this.options._dangerouslyInsertHTML&&(b+=this.options._dangerouslyInsertHTML),v.__super__.render.apply(this,[b])}}),w=f.View.extend({initialize:function(a){a=a||{},this.deferred=a.deferred||e.defer(),this.modalAlert=new v(Object.assign({},{markdown:"#you sure?"},a));var b=e.defer();this.buttonDefer=b,this.confirmCancel=new r({deferred:b,destination:this.modalAlert.getDestination()}),b.promise.then(this.deferred.resolve).fail(this.deferred.reject).done(function(){this.close()}.bind(this)),this.navEvents=Object.assign({},f.Events),this.navEvents.on("positive",this.positive,this),
this.navEvents.on("negative",this.negative,this),this.keyboardListener=new j({events:this.navEvents,aliasMap:{enter:"positive",esc:"negative"}}),a.wait||this.modalAlert.show()},positive:function(){this.buttonDefer.resolve()},negative:function(){this.buttonDefer.reject()},getAnimationTime:function(){return 700},show:function(){this.modalAlert.show()},hide:function(){this.modalAlert.hide()},getPromise:function(){return this.deferred.promise},close:function(){this.keyboardListener.mute(),this.modalAlert.die()}}),x=w.extend({initialize:function(b){b=b||{};var c=b.nextLevel?h.getName(b.nextLevel):"",d=h.getDialog(a("../dialogs/nextLevel"))[0].options.markdowns,e=d.join("\n");e=h.template(e,{numCommands:b.numCommands,best:b.best}),e=b.numCommands<=b.best?e+"\n\n"+h.str("finish-dialog-win"):e+"\n\n"+h.str("finish-dialog-lose",{best:b.best}),e+="\n\n";var f;b.nextLevel?e+=h.str("finish-dialog-next",{nextLevel:c}):f='<p class="catchadream">'+h.str("finish-dialog-finished")+" (^_^) (^_^) (^_^)</p>",b=Object.assign({},b,{markdown:e,_dangerouslyInsertHTML:f}),x.__super__.initialize.apply(this,[b])}}),y=f.View.extend({initialize:function(a){this.grabBatons(),this.modalAlert=new v({markdowns:this.markdowns}),this.modalAlert.show()},grabBatons:function(){g.getEventBaton().stealBaton(this.eventBatonName,this.batonFired,this)},releaseBatons:function(){g.getEventBaton().releaseBaton(this.eventBatonName,this.batonFired,this)},finish:function(){this.releaseBatons(),this.modalAlert.die()}}),z=y.extend({initialize:function(a){this.eventBatonName="windowSizeCheck",this.markdowns=["## That window size is not supported :-/","Please resize your window back to a supported size","","(and of course, pull requests to fix this are appreciated :D)"],z.__super__.initialize.apply(this,[a])},batonFired:function(a){a.w>i.VIEWPORT.minWidth&&a.h>i.VIEWPORT.minHeight&&this.finish()}}),A=y.extend({initialize:function(a){if(!a||!a.level)throw new Error("need level");this.eventBatonName="zoomChange",this.markdowns=["## That zoom level of "+a.level+" is not supported :-/","Please zoom back to a supported zoom level with Ctrl + and Ctrl -","","(and of course, pull requests to fix this are appreciated :D)"],A.__super__.initialize.apply(this,[a])},batonFired:function(a){a<=i.VIEWPORT.maxZoom&&a>=i.VIEWPORT.minZoom&&this.finish()}}),B=m.extend({tagName:"div",className:"canvasTerminalHolder box flex1",template:d.template($("#terminal-window-bare-template").html()),events:{"click div.wrapper":"onClick"},initialize:function(a){a=a||{},this.parent=a.parent,this.minHeight=a.minHeight||200,this.destination=$("body"),this.JSON={title:a.title||h.str("goal-to-reach"),text:a.text||h.str("hide-goal")},this.render(),this.inDom=!0,this.$terminal=this.$el.find(".terminal-window-holder").first(),this.$terminal.height(.8*$(window).height()),this.$terminal.draggable({cursor:"move",handle:".toolbar",containment:"#interfaceWrapper",scroll:!1}),$(window).on("resize",k(this.recalcLayout.bind(this),300)),a.additionalClass&&this.$el.addClass(a.additionalClass)},getAnimationTime:function(){return 700},onClick:function(){this.die()},die:function(){this.minimize(),this.inDom=!1,setTimeout(function(){this.tearDown()}.bind(this),this.getAnimationTime())},minimize:function(){this.parent.trigger("minimizeCanvas",{left:this.$terminal.css("left"),top:this.$terminal.css("top")},{width:this.$terminal.css("width"),height:this.$terminal.css("height")}),this.$terminal.animate({height:"0px",opacity:0},this.getAnimationTime())},restore:function(a,b){var c=this;a=a||{top:this.$terminal.css("top"),left:this.$terminal.css("left")},b=b||{width:this.$terminal.css("width"),height:this.$terminal.css("height")},this.$terminal.css({top:a.top,left:a.left,width:b.width,height:"0px",opacity:"0"}),this.$terminal.animate({height:b.height,opacity:1},this.getAnimationTime(),function(){c.recalcLayout()})},recalcLayout:function(){var a=this.parent,b=0,c=0,d=0,e=this.$terminal.outerWidth(),f=this.$terminal.outerHeight(),g=this.$terminal.offset().left,h=this.$terminal.offset().top,i=$(window).width()-(g+e),j=$(window).height()-(h+f),k=.75*$(window).height(),l=.95*$(window).height();0>h&&(c=-h),0>g&&(b=-g),0>i&&(b=i),0>j&&(c=j),k>f&&(d=k-f),f>l&&(d=l-f),g=Math.max(g+b,0),h=Math.max(h+c,0),f=Math.max(f+d,k),this.$terminal.animate({left:g+"px",top:h+"px",height:f+"px"},this.getAnimationTime(),function(){a.trigger("resizeCanvas")})},getCanvasLocation:function(){return this.$("div.inside")[0]}});c.BaseView=m,c.GeneralButton=q,c.ModalView=t,c.ModalTerminal=u,c.ModalAlert=v,c.ContainedBase=p,c.ConfirmCancelView=r,c.LeftRightView=s,c.ZoomAlertWindow=A,c.ConfirmCancelTerminal=w,c.WindowSizeAlertWindow=z,c.CanvasTerminalHolder=B,c.NextLevelConfirm=x}).call(this,a("_process"))},{"../app":176,"../dialogs/nextLevel":181,"../intl":191,"../log":197,"../util/constants":214,"../util/debounce":215,"../util/keyboard":222,"../util/throttle":225,_process:12,backbone:1,markdown:9,q:13,underscore:169}],231:[function(a,b,c){var d=a("underscore"),e=(a("q"),a("backbone")),f=a("../stores/LocaleStore"),g=a("../util"),h=a("../util/debounce"),i=a("../intl"),j=a("../log"),k=a("../util/keyboard").KeyboardListener,l=a("../app"),m=a("../stores/LevelStore"),n=a("../views").ModalTerminal,o=a("../views").ContainedBase,p=a("../views").BaseView,q=a("../../levels"),r=o.extend({tagName:"div",className:"levelDropdownView box vertical",template:d.template($("#level-dropdown-view").html()),events:{"click div.levelDropdownTab":"onTabClick"},initialize:function(a){a=a||{};var b=g.parseQueryString(window.location.href);this.JSON={selectedTab:b.defaultTab||"main",tabs:[{id:"main",name:i.str("main-levels-tab")},{id:"remote",name:i.str("remote-levels-tab")}]},this.navEvents=Object.assign({},e.Events),this.navEvents.on("clickedID",h(this.loadLevelID.bind(this),300,!0)),this.navEvents.on("negative",this.negative,this),this.navEvents.on("positive",this.positive,this),this.navEvents.on("left",this.left,this),this.navEvents.on("right",this.right,this),this.navEvents.on("up",this.up,this),this.navEvents.on("down",this.down,this),this.keyboardListener=new k({events:this.navEvents,aliasMap:{esc:"negative",enter:"positive"},wait:!0}),this.sequences=m.getSequences(),this.sequenceToLevels=m.getSequenceToLevels(),this.container=new n({title:i.str("select-a-level")});var c=this;f.subscribe(function(){c.render.apply(c)}),m.subscribe(function(){c.render()}),this.render(),a.wait||this.show()},render:function(){this.container.updateTitle(i.str("select-a-level")),this.updateTabNames([i.str("main-levels-tab"),i.str("remote-levels-tab")]),r.__super__.render.apply(this,arguments),this.buildSequences()},onTabClick:function(a){var b=a.target||a.srcElement,c=$(b).attr("data-id");c!==this.JSON.selectedTab&&(this.selectedTab=c,this.updateTabTo(c))},updateTabTo:function(a){this.JSON.selectedTab=a,this.render(),this.selectedID&&(this.selectedSequence=this.getSequencesOnTab()[0],this.selectedIndex=0,this.updateSelectedIcon())},updateTabNames:function(a){for(var b=0;b<a.length;++b)this.JSON.tabs[b].name=a[b]},positive:function(){this.selectedID&&this.loadLevelID(this.selectedID)},left:function(){this.turnOnKeyboardSelection()||this.leftOrRight(-1)},updateSelectedIcon:function(){this.selectedID=this.getSelectedID(),this.selectIconByID(this.selectedID)},leftOrRight:function(a){this.deselectIconByID(this.selectedID);var b=this.selectedIndex+a,c=this.getCurrentSequence(),d=this.JSON.tabs;b>=c.length&&this.getTabIndex()+1<d.length?(this.switchToTabIndex(this.getTabIndex()+1),this.selectedIndex=0):0>b&&this.getTabIndex()-1>=0?(this.switchToTabIndex(this.getTabIndex()-1),this.selectedIndex=0):this.selectedIndex=this.wrapIndex(this.selectedIndex+a,this.getCurrentSequence()),this.updateSelectedIcon()},right:function(){this.turnOnKeyboardSelection()||this.leftOrRight(1)},up:function(){this.turnOnKeyboardSelection()||(this.selectedSequence=this.getPreviousSequence(),this.downOrUp())},down:function(){this.turnOnKeyboardSelection()||(this.selectedSequence=this.getNextSequence(),this.downOrUp())},downOrUp:function(){this.selectedIndex=this.boundIndex(this.selectedIndex,this.getCurrentSequence()),this.deselectIconByID(this.selectedID),this.updateSelectedIcon()},turnOnKeyboardSelection:function(){return this.selectedID?!1:(this.selectFirst(),!0)},turnOffKeyboardSelection:function(){this.selectedID&&(this.deselectIconByID(this.selectedID),this.selectedID=void 0,this.selectedIndex=void 0,this.selectedSequence=void 0)},getTabIndex:function(){var a=this.JSON.tabs.map(function(a){return a.id});return a.indexOf(this.JSON.selectedTab)},switchToTabIndex:function(a){var b=this.JSON.tabs[a].id;this.updateTabTo(b)},wrapIndex:function(a,b){return a=a>=b.length?0:a,a=0>a?b.length-1:a},boundIndex:function(a,b){return a=a>=b.length?b.length-1:a,a=0>a?0:a},getSequencesOnTab:function(){return this.sequences.filter(function(a){var b=q.getTabForSequence(a);return b===this.JSON.selectedTab},this)},getNextSequence:function(){var a=this.getSequenceIndex(this.selectedSequence),b=this.wrapIndex(a+1,this.getSequencesOnTab());return this.getSequencesOnTab()[b]},getPreviousSequence:function(){var a=this.getSequenceIndex(this.selectedSequence),b=this.wrapIndex(a-1,this.getSequencesOnTab());return this.getSequencesOnTab()[b]},getSequenceIndex:function(a){var b=this.getSequencesOnTab().indexOf(a);if(0>b)throw new Error("didnt find");return b},getIndexForID:function(a){return m.getLevel(a).index},selectFirst:function(){var a=this.sequenceToLevels[this.getSequencesOnTab()[0]][0].id;this.selectIconByID(a),this.selectedIndex=0,this.selectedSequence=this.getSequencesOnTab()[0]},getCurrentSequence:function(){return this.sequenceToLevels[this.selectedSequence]},getSelectedID:function(){return this.sequenceToLevels[this.selectedSequence][this.selectedIndex].id},selectIconByID:function(a){this.toggleIconSelect(a,!0)},deselectIconByID:function(a){this.toggleIconSelect(a,!1)},toggleIconSelect:function(a,b){this.selectedID=a;var c="#levelIcon-"+a;$(c).toggleClass("selected",b),this.seriesViews.forEach(function(b){-1!==b.levelIDs.indexOf(a)&&b.updateAboutForLevelID(a)},this)},negative:function(){this.hide()},testOption:function(a){return this.currentCommand&&new RegExp("--"+a).test(this.currentCommand.get("rawStr"))},show:function(a,b){this.currentCommand=b,this.updateSolvedStatus(),this.showDeferred=a,this.keyboardListener.listen(),r.__super__.show.apply(this)},hide:function(){this.showDeferred&&this.showDeferred.resolve(),this.showDeferred=void 0,this.keyboardListener.mute(),this.turnOffKeyboardSelection(),r.__super__.hide.apply(this)},loadLevelID:function(a){if(!this.testOption("noOutput")){l.getEventBaton().trigger("commandSubmitted","level "+a);var b=m.getLevel(a),c=b.name.en_US;j.levelSelected(c)}this.hide()},updateSolvedStatus:function(){this.seriesViews.forEach(function(a){a.updateSolvedStatus()},this)},buildSequences:function(){this.seriesViews=[],this.getSequencesOnTab().forEach(function(a){this.seriesViews.push(new s({destination:this.$el,name:a,navEvents:this.navEvents}))},this)}}),s=p.extend({tagName:"div",className:"seriesView box flex1 vertical",template:d.template($("#series-view").html()),events:{"click div.levelIcon":"click","mouseenter div.levelIcon":"enterIcon"},initialize:function(a){this.name=a.name||"intro",this.navEvents=a.navEvents,this.info=m.getSequenceInfo(this.name),this.levels=m.getLevelsInSequence(this.name),this.levelIDs=[];var b=null;this.levels.forEach(function(a){null===b&&(b=this.formatLevelAbout(a.id)),this.levelIDs.push(a.id)},this),this.destination=a.destination,this.JSON={displayName:i.getIntlKey(this.info,"displayName"),about:i.getIntlKey(this.info,"about")||"&nbsp;",levelInfo:b,ids:this.levelIDs},this.render(),this.updateSolvedStatus()},updateSolvedStatus:function(){this.$("div.levelIcon").each(function(a,b){var c=$(b).attr("data-id");$(b).toggleClass("solved",m.isLevelSolved(c))})},getEventID:function(a){var b=a.target;return $(b).attr("data-id")},setAbout:function(a){this.$("p.levelInfo").text(a)},enterIcon:function(a){var b=this.getEventID(a);this.updateAboutForLevelID(b)},updateAboutForLevelID:function(a){this.setAbout(this.formatLevelAbout(a))},formatLevelAbout:function(a){var b=m.getLevel(a);return this.getLevelNumberFromID(a)+": "+i.getName(b)},getLevelNumberFromID:function(a){return a.replace(/[^0-9]/g,"")},click:function(a){var b=this.getEventID(a);this.navEvents.trigger("clickedID",b)}});c.LevelDropdownView=r},{"../../levels":244,"../app":176,"../intl":191,"../log":197,"../stores/LevelStore":212,"../stores/LocaleStore":213,"../util":220,"../util/debounce":215,"../util/keyboard":222,"../views":230,backbone:1,q:13,underscore:169}],232:[function(a,b,c){var d=a("q"),e=a("backbone"),f=a("../views").LeftRightView,g=a("../views").ModalAlert,h=a("../views/gitDemonstrationView").GitDemonstrationView,i=a("../views/builderViews"),j=i.MarkdownPresenter,k=a("../util/keyboard").KeyboardListener,l=a("../util/debounce"),m=e.View.extend({tagName:"div",className:"multiView",navEventDebounce:550,deathTime:700,typeToConstructor:{ModalAlert:g,GitDemonstrationView:h,MarkdownPresenter:j},initialize:function(a){a=a||{},this.childViewJSONs=a.childViews||[{type:"ModalAlert",options:{markdown:"Woah wtf!!"}},{type:"GitDemonstrationView",options:{command:"git checkout -b side; git commit; git commit"}},{type:"ModalAlert",options:{markdown:"Im second"}}],this.deferred=a.deferred||d.defer(),this.childViews=[],this.currentIndex=0,this.navEvents=Object.assign({},e.Events),this.navEvents.on("negative",this.getNegFunc(),this),this.navEvents.on("positive",this.getPosFunc(),this),this.navEvents.on("quit",this.finish,this),this.navEvents.on("exit",this.finish,this),this.keyboardListener=new k({events:this.navEvents,aliasMap:{left:"negative",right:"positive",enter:"positive",esc:"quit"}}),this.render(),a.wait||this.start()},onWindowFocus:function(){},getAnimationTime:function(){return 700},getPromise:function(){return this.deferred.promise},getPosFunc:function(){return l(function(){this.navForward()}.bind(this),this.navEventDebounce,!0)},getNegFunc:function(){return l(function(){this.navBackward()}.bind(this),this.navEventDebounce,!0)},lock:function(){this.locked=!0},unlock:function(){this.locked=!1},navForward:function(){return this.locked?void 0:this.currentIndex===this.childViews.length-1?(this.hideViewIndex(this.currentIndex),void this.finish()):void this.navIndexChange(1)},navBackward:function(){0!==this.currentIndex&&this.navIndexChange(-1)},navIndexChange:function(a){this.hideViewIndex(this.currentIndex),this.currentIndex+=a,this.showViewIndex(this.currentIndex)},hideViewIndex:function(a){this.childViews[a].hide()},showViewIndex:function(a){this.childViews[a].show()},finish:function(){this.keyboardListener.mute(),this.childViews.forEach(function(a){a.die()}),this.deferred.resolve()},start:function(){this.showViewIndex(this.currentIndex)},createChildView:function(a){var b=a.type;if(!this.typeToConstructor[b])throw new Error('no constructor for type "'+b+'"');var c=new this.typeToConstructor[b](Object.assign({},a.options,{wait:!0}));return c},addNavToView:function(a,b){var c=new f({events:this.navEvents,destination:a.getDestination(),showLeft:0!==b,lastNav:b===this.childViewJSONs.length-1});a.receiveMetaNav&&a.receiveMetaNav(c,this)},render:function(){this.childViewJSONs.forEach(function(a,b){var c=this.createChildView(a);this.childViews.push(c),this.addNavToView(c,b)},this)}});c.MultiView=m},{"../util/debounce":215,"../util/keyboard":222,"../views":230,"../views/builderViews":227,"../views/gitDemonstrationView":229,backbone:1,q:13}],233:[function(a,b,c){var d=(a("../util/errors").GitError,a("underscore")),e=a("q"),f=a("backbone"),g=a("../views").ModalTerminal,h=a("../views").ContainedBase,i=a("../views").ConfirmCancelView,j=h.extend({tagName:"div",template:d.template($("#interactive-rebase-template").html()),initialize:function(a){this.deferred=a.deferred,this.rebaseMap={},this.entryObjMap={},this.options=a,this.rebaseEntries=new l,a.toRebase.reverse(),a.toRebase.forEach(function(a){var b=a.get("id");this.rebaseMap[b]=a,this.entryObjMap[b]=new k({id:b}),this.rebaseEntries.add(this.entryObjMap[b])},this),this.container=new g({title:"Interactive Rebase"}),this.render(),this.show(),a.aboveAll&&$("#canvasHolder").css("display","none")},restoreVis:function(){$("#canvasHolder").css("display","inherit")},confirm:function(){this.die(),this.options.aboveAll&&this.restoreVis();var a=[];this.$("ul.rebaseEntries li").each(function(b,c){a.push(c.id)});var b=[];a.forEach(function(a){this.entryObjMap[a].get("pick")&&b.unshift(this.rebaseMap[a])},this),b.reverse(),this.deferred.resolve(b),this.$el.html("")},render:function(){var a={num:Object.keys(this.rebaseMap).length,solutionOrder:this.options.initialCommitOrdering},b=this.container.getInsideElement();this.$el.html(this.template(a)),$(b).append(this.el);var c=this.$("ul.rebaseEntries");this.rebaseEntries.each(function(a){new m({el:c,model:a})},this),c.sortable({axis:"y",placeholder:"rebaseEntry transitionOpacity ui-state-highlight",appendTo:"parent"}),this.makeButtons()},cancel:function(){this.hide(),this.options.aboveAll&&this.restoreVis(),this.deferred.resolve([])},makeButtons:function(){var a=e.defer();a.promise.then(function(){this.confirm()}.bind(this)).fail(function(){this.cancel()}.bind(this)).done(),new i({destination:this.$(".confirmCancel"),deferred:a})}}),k=f.Model.extend({defaults:{pick:!0},toggle:function(){this.set("pick",!this.get("pick"))}}),l=f.Collection.extend({model:k}),m=f.View.extend({tagName:"li",template:d.template($("#interactive-rebase-entry-template").html()),toggle:function(){this.model.toggle(),this.listEntry.toggleClass("notPicked",!this.model.get("pick"))},initialize:function(a){this.render()},render:function(){this.$el.append(this.template(this.model.toJSON())),this.listEntry=this.$el.children(":last"),this.listEntry.delegate("#toggleButton","click",function(){this.toggle()}.bind(this))}});c.InteractiveRebaseView=j},{"../util/errors":217,"../views":230,backbone:1,q:13,underscore:169}],234:[function(a,b,c){var d=(a("backbone"),a("q")),e=a("./index").Animation,f=a("./index").PromiseAnimation,g=a("../../util/constants").GRAPHICS,h={},i=function(a,b){var c=1*g.defaultAnimationTime,d=2*c,e=function(){a.refreshTree(c),b.setBirth(),b.parentInFront(),a.visBranchesFront(),b.animateUpdatedPosition(d,"bounce"),b.animateOutgoingEdges(c)};return{animation:e,duration:Math.max(c,d)}},j=function(a,b){var c=.66*g.defaultAnimationTime,d=2*c;return{animation:function(){a.highlightTo(b,d,"easeInOut")},duration:1.5*d}};h.genCommitBirthAnimation=function(a,b,c){if(!a)throw new Error("Need animation queue to add closure to!");var d=b.get("visNode"),f=i(c,d);a.add(new e({closure:f.animation,duration:f.duration}))},h.genCommitBirthPromiseAnimation=function(a,b){var c=a.get("visNode");return new f(i(b,c))},h.highlightEachWithPromise=function(a,b,c){return b.forEach(function(b){a=a.then(function(){return this.playHighlightPromiseAnimation(b,c)}.bind(this))}.bind(this)),a},h.playCommitBirthPromiseAnimation=function(a,b){var c=this.genCommitBirthPromiseAnimation(a,b);return c.play(),c.getPromise()},h.playRefreshAnimationAndFinish=function(a,b){var c=new f({closure:function(){a.refreshTree()}});c.play(),b.thenFinish(c.getPromise())},h.genRefreshPromiseAnimation=function(a){return new f({closure:function(){a.refreshTree()}})},h.playRefreshAnimationSlow=function(a){var b=g.defaultAnimationTime;return this.playRefreshAnimation(a,2*b)},h.playRefreshAnimation=function(a,b){var c=new f({duration:b,closure:function(){a.refreshTree(b)}});return c.play(),c.getPromise()},h.refreshTree=function(a,b){a.add(new e({closure:function(){b.refreshTree()}}))},h.genHighlightPromiseAnimation=function(a,b){var c=b.get("visBranch")||b.get("visNode")||b.get("visTag");if(!c)throw console.log(b),new Error("could not find vis object for dest obj");var d=a.get("visNode");return new f(j(d,c))},h.playHighlightPromiseAnimation=function(a,b){var c=this.genHighlightPromiseAnimation(a,b);return c.play(),c.getPromise()},h.getDelayedPromise=function(a){var b=d.defer();return setTimeout(b.resolve,a||1e3),b.promise},h.delay=function(a,b){b=b||g.defaultAnimationTime,a.add(new e({closure:function(){},duration:b}))},c.AnimationFactory=h},{"../../util/constants":214,"./index":235,backbone:1,q:13}],235:[function(a,b,c){var d=a("q"),e=a("backbone"),f=a("../../actions/GlobalStateActions"),g=a("../../util/constants").GRAPHICS,h=e.Model.extend({defaults:{duration:g.defaultAnimationTime,closure:null},validateAtInit:function(){if(!this.get("closure"))throw new Error("give me a closure!")},initialize:function(a){this.validateAtInit()},run:function(){this.get("closure")()}}),i=e.Model.extend({defaults:{animations:null,index:0,callback:null,defer:!1,promiseBased:!1},initialize:function(a){this.set("animations",[]),a.callback||console.warn("no callback")},thenFinish:function(a,b){a.then(function(){this.finish()}.bind(this)),a.fail(function(a){throw console.log("uncaught error",a),a}),this.set("promiseBased",!0),b&&b.resolve()},add:function(a){if(!a instanceof h)throw new Error("Need animation not something else");this.get("animations").push(a)},start:function(){this.set("index",0),f.changeIsAnimating(!0),this.next()},finish:function(){f.changeIsAnimating(!1),this.get("callback")()},next:function(){var a=this.get("animations"),b=this.get("index");if(b>=a.length)return void this.finish();var c=a[b],d=c.get("duration");c.run(),this.set("index",b+1),setTimeout(function(){this.next()}.bind(this),d)}}),j=e.Model.extend({defaults:{deferred:null,closure:null,duration:g.defaultAnimationTime},initialize:function(a){if(!a.closure&&!a.animation)throw new Error("need closure or animation");this.set("closure",a.closure||a.animation),this.set("duration",a.duration||this.get("duration")),this.set("deferred",a.deferred||d.defer())},getPromise:function(){return this.get("deferred").promise},play:function(){this.get("closure")(),setTimeout(function(){this.get("deferred").resolve()}.bind(this),this.get("duration"))},then:function(a){return this.get("deferred").promise.then(a)}});j.fromAnimation=function(a){return new j({closure:a.get("closure"),duration:a.get("duration")})},c.Animation=h,c.PromiseAnimation=j,c.AnimationQueue=i},{"../../actions/GlobalStateActions":173,"../../util/constants":214,backbone:1,q:13}],236:[function(a,b,c){function d(b){b=b||{},this.options=b,this.visualization=b.visualization,this.commitCollection=b.commitCollection,this.branchCollection=b.branchCollection,this.tagCollection=b.tagCollection,this.visNodeMap={},this.visEdgeCollection=new q,this.visBranchCollection=new m,this.visTagCollection=new o,this.commitMap={},this.rootCommit=null,this.branchStackMap=null,this.tagStackMap=null,this.upstreamBranchSet=null,this.upstreamTagSet=null,this.upstreamHeadSet=null,this.paper=b.paper,this.gitReady=!1,this.branchCollection.on("add",this.addBranchFromEvent,this),this.branchCollection.on("remove",this.removeBranch,this),this.tagCollection.on("add",this.addTagFromEvent,this),this.tagCollection.on("remove",this.removeTag,this),this.deferred=[],this.flipFraction=.65;var c=a("../app"),d=this;this._onRefreshTree=function(){d.refreshTree()},c.getEvents().on("refreshTree",this._onRefreshTree,this)}function e(a){var b=0,c=0,d=0,e=0,f=a.length;a.forEach(function(a){var f=a.split("(")[1];f=f.split(")")[0],f=f.split(","),d+=parseFloat(f[1]),e+=parseFloat(f[2]);var g=parseFloat(f[0]),h=g*Math.PI*2;b+=Math.cos(h),c+=Math.sin(h)}),b/=f,c/=f,d/=f,e/=f;var g=Math.atan2(c,b)/(2*Math.PI);return 0>g&&(g+=1),"hsb("+String(g)+","+String(d)+","+String(e)+")"}var f=a("q"),g=a("../intl"),h=a("../util/constants").GRAPHICS,i=a("../util/debounce"),j=a("../stores/GlobalStateStore"),k=a("../visuals/visNode").VisNode,l=a("../visuals/visBranch").VisBranch,m=a("../visuals/visBranch").VisBranchCollection,n=a("../visuals/visTag").VisTag,o=a("../visuals/visTag").VisTagCollection,p=a("../visuals/visEdge").VisEdge,q=a("../visuals/visEdge").VisEdgeCollection;d.prototype.defer=function(a){this.deferred.push(a)},d.prototype.deferFlush=function(){this.deferred.forEach(function(a){a()},this),this.deferred=[]},d.prototype.resetAll=function(){var a=this.visEdgeCollection.toArray();a.forEach(function(a){a.remove()},this);var b=this.visBranchCollection.toArray();b.forEach(function(a){a.remove()},this);var c=this.visTagCollection.toArray();c.forEach(function(a){a.remove()},this),Object.values(this.visNodeMap).forEach(function(a){a.remove()},this),this.visEdgeCollection.reset(),this.visBranchCollection.reset(),this.visTagCollection.reset(),this.visNodeMap={},this.rootCommit=null,this.commitMap={}},d.prototype.tearDown=function(){this.resetAll(),this.paper.remove();var b=a("../app");b.getEvents().removeListener("refreshTree",this._onRefreshTree)},d.prototype.assignGitEngine=function(a){this.gitEngine=a,this.initHeadBranch(),this.deferFlush()},d.prototype.getVisualization=function(){return this.visualization},d.prototype.initHeadBranch=function(){this.addBranchFromEvent(this.gitEngine.HEAD)},d.prototype.getScreenPadding=function(){var a=j.getFlipTreeY()?3:1.5;return{widthPadding:1.5*h.nodeRadius,topHeightPadding:h.nodeRadius*a,bottomHeightPadding:5*h.nodeRadius}},d.prototype.getPosBoundaries=function(){return this.gitEngine.hasOrigin()?{min:0,max:.5}:this.gitEngine.isOrigin()?{min:.5,max:1}:{min:0,max:1}},d.prototype.getFlipPos=function(){var a=this.getPosBoundaries(),b=a.min,c=a.max;return this.flipFraction*(c-b)+b},d.prototype.getIsGoalVis=function(){return!!this.options.isGoalVis},d.prototype.getLevelBlob=function(){return this.visualization.options.levelBlob||{}},d.prototype.toScreenCoords=function(a){if(!this.paper.width)throw new Error("being called too early for screen coords");var b=this.getScreenPadding(),c=function(a,b,c){return c+a*(b-2*c)},d=function(a,b,c,d){return c+a*(b-d-c)},e=c(a.x,this.paper.width,b.widthPadding),f=d(a.y,this.paper.height,b.topHeightPadding,b.bottomHeightPadding);return j.getFlipTreeY()&&(f=this.paper.height-f),{x:e,y:f}},d.prototype.animateAllAttrKeys=function(a,b,c,d){var e=f.defer(),g=function(e){e.animateAttrKeys(a,b,c,d)};this.visBranchCollection.each(g),this.visEdgeCollection.each(g),this.visTagCollection.each(g),Object.values(this.visNodeMap).forEach(g);var i=void 0!==c?c:h.defaultAnimationTime;return setTimeout(function(){e.resolve()},i),e.promise},d.prototype.finishAnimation=function(a){if(a=a||1,!a)throw new Error("need speed by time i finish animation"+a);var b=f.defer(),c=f.defer(),d=h.defaultAnimationTime,e=h.nodeRadius,i=g.str("solved-level"),j=null,k=function(){j=this.paper.text(this.paper.width/2,this.paper.height/2,i),j.attr({opacity:0,"font-weight":500,"font-size":"32pt","font-family":"Monaco, Courier, font-monospace",stroke:"#000","stroke-width":2,fill:"#000"}),j.animate({opacity:1},d)}.bind(this);return b.promise.then(function(){return this.animateAllAttrKeys({exclude:["circle"]},{opacity:0},1.1*d/a)}.bind(this)).then(function(){return this.animateAllAttrKeys({exclude:["arrow","rect","path","text"]},{r:2*e},1.5*d/a)}.bind(this)).then(function(){return this.animateAllAttrKeys({exclude:["arrow","rect","path","text"]},{r:.75*e},.5*d/a)}.bind(this)).then(function(){return k(),this.explodeNodes(a)}.bind(this)).then(function(){return this.explodeNodes(a)}.bind(this)).then(function(){return this.animateAllAttrKeys({exclude:["arrow","rect","path","text"]},{},1.25*d)}.bind(this)).then(function(){return j.animate({opacity:0},d,void 0,void 0,function(){j.remove()}),this.animateAllAttrKeys({},{})}.bind(this)).then(function(){c.resolve()}).fail(function(a){console.warn("animation error"+a)}).done(),b.resolve(),c.promise},d.prototype.explodeNodes=function(a){var b=f.defer(),c=[];Object.values(this.visNodeMap).forEach(function(b){c.push(b.getExplodeStepFunc(a))});var d=setInterval(function(){var a=[];return c.forEach(function(b){b()&&a.push(b)}),a.length?void(c=a):(clearInterval(d),void b.resolve())},.025);return b.promise},d.prototype.animateAllFromAttrToAttr=function(a,b,c){var d=function(d){var e=d.getID();c.includes(e)||a[e]&&b[e]&&d.animateFromAttrToAttr(a[e],b[e])};this.visBranchCollection.each(d),this.visEdgeCollection.each(d),this.visTagCollection.each(d),Object.values(this.visNodeMap).forEach(d)},d.prototype.genSnapshot=function(){this.fullCalc();var a={};return Object.values(this.visNodeMap).forEach(function(b){a[b.get("id")]=b.getAttributes()},this),this.visBranchCollection.each(function(b){a[b.getID()]=b.getAttributes()},this),this.visEdgeCollection.each(function(b){a[b.getID()]=b.getAttributes()},this),this.visTagCollection.each(function(b){a[b.getID()]=b.getAttributes()},this),a},d.prototype.refreshTree=function(a){this.gitReady&&this.gitEngine.rootCommit&&(this.fullCalc(),this.animateAll(a))},d.prototype.refreshTreeHarsh=function(){this.fullCalc(),this.animateAll(0)},d.prototype.animateAll=function(a){this.zIndexReflow(),this.animateEdges(a),this.animateNodePositions(a),this.animateRefs(a)},d.prototype.fullCalc=function(){this.calcTreeCoords(),this.calcGraphicsCoords()},d.prototype.calcTreeCoords=function(){if(!this.rootCommit)throw new Error("grr, no root commit!");this.calcUpstreamSets(),this.calcBranchStacks(),this.calcTagStacks(),this.calcDepth(),this.calcWidth()},d.prototype.calcGraphicsCoords=function(){this.visBranchCollection.each(function(a){a.updateName()}),this.visTagCollection.each(function(a){a.updateName()})},d.prototype.calcUpstreamSets=function(){this.upstreamBranchSet=this.gitEngine.getUpstreamBranchSet(),this.upstreamHeadSet=this.gitEngine.getUpstreamHeadSet(),this.upstreamTagSet=this.gitEngine.getUpstreamTagSet()},d.prototype.getCommitUpstreamBranches=function(a){return this.branchStackMap[a.get("id")]},d.prototype.getBlendedHuesForCommit=function(a){var b=this.upstreamBranchSet[a.get("id")];if(!b)throw new Error("that commit doesn't have upstream branches!");return this.blendHuesFromBranchStack(b)},d.prototype.blendHuesFromBranchStack=function(a){var b=[];return a.forEach(function(a){var c=a.obj.get("visBranch").get("fill");if("hsb"!==c.slice(0,3)){var d=Raphael.color(c);c="hsb("+String(d.h)+","+String(d.l),c=c+","+String(d.s)+")"}b.push(c)}),e(b)},d.prototype.getCommitUpstreamStatus=function(a){if(!this.upstreamBranchSet)throw new Error("Can't calculate this yet!");var b=a.get("id"),c=this.upstreamBranchSet,d=this.upstreamHeadSet,e=this.upstreamTagSet;return c[b]?"branch":e[b]?"tag":d[b]?"head":"none"},d.prototype.calcTagStacks=function(){var a=this.gitEngine.getTags(),b={};a.forEach(function(a){var c=a.target.get("id");b[c]=b[c]||[],b[c].push(a),b[c].sort(function(a,b){var c=a.obj.get("id"),d=b.obj.get("id");return c.localeCompare(d)})}),this.tagStackMap=b},d.prototype.calcBranchStacks=function(){var a=this.gitEngine.getBranches(),b={};a.forEach(function(a){var c=a.target.get("id");b[c]=b[c]||[],b[c].push(a),b[c].sort(function(a,b){var c=a.obj.get("id"),d=b.obj.get("id");return"master"==c||"master"==d?"master"==c?-1:1:c.localeCompare(d)})}),this.branchStackMap=b},d.prototype.calcWidth=function(){this.maxWidthRecursive(this.rootCommit);var a=this.getPosBoundaries();this.assignBoundsRecursive(this.rootCommit,a.min,a.max)},d.prototype.maxWidthRecursive=function(a){var b=0;a.get("children").forEach(function(c){if(c.isMainParent(a)){var d=this.maxWidthRecursive(c);b+=d}},this);var c=Math.max(1,b);return a.get("visNode").set("maxWidth",c),c},d.prototype.assignBoundsRecursive=function(a,b,c){var d=(c+b)/2;if(a.get("visNode").get("pos").x=d,0!==a.get("children").length){var e=c-b,f=0,g=a.get("children");g.forEach(function(b){b.isMainParent(a)&&(f+=b.get("visNode").getMaxWidthScaled())},this);var h=b;g.forEach(function(b,c){if(b.isMainParent(a)){var d=b.get("visNode").getMaxWidthScaled(),g=d/f*e,i=h,j=i+g;this.assignBoundsRecursive(b,i,j),h=i+g}},this)}},d.prototype.calcDepth=function(){var a=this.calcDepthRecursive(this.rootCommit,0);a>15&&console.warn("graphics are degrading from too many layers");
var b=this.getDepthIncrement(a);Object.values(this.visNodeMap).forEach(function(a){a.setDepthBasedOn(b,this.getHeaderOffset())},this)},d.prototype.animateNodePositions=function(a){Object.values(this.visNodeMap).forEach(function(b){b.animateUpdatedPosition(a)},this)},d.prototype.addBranchFromEvent=function(a,b,c){var d=function(){this.addBranch(a)}.bind(this);this.gitEngine&&this.gitReady?d():this.defer(d)},d.prototype.addBranch=function(a){var b=new l({branch:a,gitVisuals:this,gitEngine:this.gitEngine});this.visBranchCollection.add(b),this.gitReady?b.genGraphics(this.paper):this.defer(function(){b.genGraphics(this.paper)}.bind(this))},d.prototype.addTagFromEvent=function(a,b,c){var d=function(){this.addTag(a)}.bind(this);this.gitEngine&&this.gitReady?d():this.defer(d)},d.prototype.addTag=function(a){var b=new n({tag:a,gitVisuals:this,gitEngine:this.gitEngine});this.visTagCollection.add(b),this.gitReady?b.genGraphics(this.paper):this.defer(function(){b.genGraphics(this.paper)}.bind(this))},d.prototype.removeVisBranch=function(a){this.visBranchCollection.remove(a)},d.prototype.removeVisTag=function(a){this.visTagCollection.remove(a)},d.prototype.removeVisNode=function(a){delete this.visNodeMap[a.getID()]},d.prototype.removeVisEdge=function(a){this.visEdgeCollection.remove(a)},d.prototype.animateRefs=function(a){this.visBranchCollection.each(function(b){b.animateUpdatedPos(a)},this),this.visTagCollection.each(function(b){b.animateUpdatedPos(a)},this)},d.prototype.animateEdges=function(a){this.visEdgeCollection.each(function(b){b.animateUpdatedPath(a)},this)},d.prototype.getMinLayers=function(){return this.options.smallCanvas?2:7},d.prototype.getDepthIncrement=function(a){a=Math.max(a,this.getMinLayers());var b=1-this.getHeaderOffset(),c=b/a;return c},d.prototype.shouldHaveHeader=function(){return this.gitEngine.isOrigin()||this.gitEngine.hasOrigin()},d.prototype.getHeaderOffset=function(){return this.shouldHaveHeader()?.05:0},d.prototype.calcDepthRecursive=function(a,b){a.get("visNode").setDepth(b);var c=a.get("children"),d=b;return c.forEach(function(a){var c=this.calcDepthRecursive(a,b+1);d=Math.max(c,d)},this),d},d.prototype.canvasResize=function(a,b){this.resizeFunc||this.genResizeFunc(),this.resizeFunc(a,b)},d.prototype.genResizeFunc=function(){this.resizeFunc=i(function(a,b){this.refreshTree()}.bind(this),200,!0)},d.prototype.addNode=function(a,b){this.commitMap[a]=b,b.get("rootCommit")&&(this.rootCommit=b);var c=new k({id:a,commit:b,gitVisuals:this,gitEngine:this.gitEngine});return this.visNodeMap[a]=c,this.gitReady&&c.genGraphics(this.paper),c},d.prototype.addEdge=function(a,b){var c=this.visNodeMap[a],d=this.visNodeMap[b];if(!c||!d)throw new Error("one of the ids in ("+a+", "+b+") does not exist");var e=new p({tail:c,head:d,gitVisuals:this,gitEngine:this.gitEngine});this.visEdgeCollection.add(e),this.gitReady&&e.genGraphics(this.paper)},d.prototype.zIndexReflow=function(){this.visNodesFront(),this.visBranchesFront(),this.visTagsFront()},d.prototype.visNodesFront=function(){Object.values(this.visNodeMap).forEach(function(a){a.toFront()})},d.prototype.visBranchesFront=function(){this.visBranchCollection.each(function(a){a.nonTextToFront(),a.textToFront()}),this.visBranchCollection.each(function(a){a.textToFrontIfInStack()})},d.prototype.visTagsFront=function(){this.visTagCollection.each(function(a){a.nonTextToFront(),a.textToFront()}),this.visTagCollection.each(function(a){a.textToFrontIfInStack()})},d.prototype.drawTreeFromReload=function(){this.gitReady=!0,this.deferFlush(),this.calcTreeCoords()},d.prototype.drawTreeFirstTime=function(){this.gitReady=!0,this.calcTreeCoords(),Object.values(this.visNodeMap).forEach(function(a){a.genGraphics(this.paper)},this),this.visEdgeCollection.each(function(a){a.genGraphics(this.paper)},this),this.visBranchCollection.each(function(a){a.genGraphics(this.paper)},this),this.visTagCollection.each(function(a){a.genGraphics(this.paper)},this),this.zIndexReflow()},c.GitVisuals=d},{"../app":176,"../intl":191,"../stores/GlobalStateStore":211,"../util/constants":214,"../util/debounce":215,"../visuals/visBranch":239,"../visuals/visEdge":240,"../visuals/visNode":241,"../visuals/visTag":242,q:13}],237:[function(a,b,c){var d=a("backbone"),e=d.Model.extend({removeKeys:function(a){a.forEach(function(a){this.get(a)&&this.get(a).remove()},this)},animateAttrKeys:function(a,b,c,d){a=Object.assign({},{include:["circle","arrow","rect","path","text"],exclude:[]},a||{});var e=this.getAttributes();a.include.forEach(function(a){e[a]=Object.assign({},e[a],b)}),a.exclude.forEach(function(a){delete e[a]}),this.animateToAttr(e,c,d)}});c.VisBase=e},{backbone:1}],238:[function(a,b,c){var d=a("backbone"),e=d.Model.extend({removeKeys:function(a){a.forEach(function(a){this.get(a)&&this.get(a).remove()},this)},getNonAnimateKeys:function(){return["stroke-dasharray"]},getIsInOrigin:function(){return this.get("gitEngine")?this.get("gitEngine").isOrigin():!1},animateToAttr:function(a,b,c){if(0===b)return void this.setAttr(a,!0);var d=void 0!==b?b:this.get("animationSpeed"),e=c||this.get("animationEasing");this.setAttr(a,!1,d,e)},setAttrBase:function(a,b,c,d,e){a.forEach(function(a){c?this.get(a).attr(b[a]):(this.get(a).stop(),this.get(a).animate(b[a],d,e),this.getNonAnimateKeys().forEach(function(c){b[a]&&void 0!==b[a][c]&&this.get(a).attr(c,b[a][c])},this)),b.css&&$(this.get(a).node).css(b.css)},this)},animateAttrKeys:function(a,b,c,d){a=Object.assign({},{include:["circle","arrow","rect","path","text"],exclude:[]},a||{});var e=this.getAttributes();a.include.forEach(function(a){e[a]=Object.assign({},e[a],b)}),a.exclude.forEach(function(a){delete e[a]}),this.animateToAttr(e,c,d)}});c.VisBase=e},{backbone:1}],239:[function(a,b,c){var d=a("backbone"),e=a("../util/constants").GRAPHICS,f=a("../visuals/visBase").VisBase,g=a("../graph/treeCompare"),h=function(){var a=Math.random(),b="hsb("+String(a)+",0.6,1)";return b},i=f.extend({defaults:{pos:null,text:null,rect:null,arrow:null,isHead:!1,flip:1,fill:e.rectFill,stroke:e.rectStroke,"stroke-width":e.rectStrokeWidth,offsetX:4.75*e.nodeRadius,offsetY:0,arrowHeight:14,arrowInnerSkew:0,arrowEdgeHeight:6,arrowLength:14,arrowOffsetFromCircleX:10,vPad:5,hPad:5,animationSpeed:e.defaultAnimationTime,animationEasing:e.defaultEasing},validateAtInit:function(){if(!this.get("branch"))throw new Error("need a branch!")},getID:function(){return this.get("branch").get("id")},initialize:function(){if(this.validateAtInit(),this.gitVisuals=this.get("gitVisuals"),this.gitEngine=this.get("gitEngine"),!this.gitEngine)throw new Error("asd wtf");this.get("branch").set("visBranch",this);var a=this.get("branch").get("id");"HEAD"==a?(this.set("isHead",!0),this.set("flip",-1),this.refreshOffset(),this.set("fill",e.headRectFill)):"master"!==a&&this.set("fill",h())},getCommitPosition:function(){var a=this.gitEngine.getCommitFromRef(this.get("branch")),b=a.get("visNode");return this.set("flip",this.getFlipValue(a,b)),this.refreshOffset(),b.getScreenCoords()},getDashArray:function(){return this.get("gitVisuals").getIsGoalVis()?this.getIsLevelBranchCompared()?"":"--":""},getIsGoalAndNotCompared:function(){return this.get("gitVisuals").getIsGoalVis()?!this.getIsLevelBranchCompared():!1},getIsLevelBranchCompared:function(){if(this.getIsMaster())return!0;var a=this.get("gitVisuals").getLevelBlob();return!g.onlyMasterCompared(a)},getIsMaster:function(){return"master"==this.get("branch").get("id")},getFlipValue:function(a,b){var c=this.get("gitVisuals").getFlipPos(),d=b.get("pos").x>c;return"C0"===a.get("id")?-1:this.get("isHead")?d?this.isBranchStackEmpty()?-1:1:this.isBranchStackEmpty()?1:-1:d?-1:1},refreshOffset:function(){var a=4.75*e.nodeRadius,b=33,c=10;1===this.get("flip")?(this.set("offsetY",-b),this.set("offsetX",a-c)):(this.set("offsetY",b),this.set("offsetX",a-c))},getArrowTransform:function(){return 1===this.get("flip")?"t-2,-20R-35":"t2,20R-35"},getBranchStackIndex:function(){if(this.get("isHead"))return 0;var a=this.getBranchStackArray(),b=-1;return a.forEach(function(a,c){a.obj==this.get("branch")&&(b=c)},this),b},getBranchStackLength:function(){return this.get("isHead")?1:this.getBranchStackArray().length},isBranchStackEmpty:function(){var a=this.gitVisuals.branchStackMap[this.getCommitID()];return a?0===a.length:!0},getCommitID:function(){var a=this.get("branch").get("target");return"branch"===a.get("type")&&(a=a.get("target")),a.get("id")},getBranchStackArray:function(){var a=this.gitVisuals.branchStackMap[this.getCommitID()];return void 0===a?(this.gitVisuals.calcBranchStacks(),this.getBranchStackArray()):a},getTextPosition:function(){var a=this.getCommitPosition(),b=this.getBranchStackIndex();return{x:a.x+this.get("flip")*this.get("offsetX"),y:a.y+b*e.multiBranchY+this.get("offsetY")}},getRectPosition:function(){var a=this.getTextPosition(),b=(this.get("flip"),this.getTextSize());return{x:a.x-.5*b.w-this.get("hPad"),y:a.y-.5*b.h-this.get("vPad")}},getArrowPath:function(){var a=function(a,b,c){return{x:a.x+b,y:a.y+c}},b=function(a){return String(Math.round(a.x))+","+String(Math.round(a.y))},c=this.get("flip"),d=a(this.getCommitPosition(),c*this.get("arrowOffsetFromCircleX"),0),e=a(d,c*this.get("arrowLength"),-this.get("arrowHeight")),f=a(d,c*this.get("arrowLength"),this.get("arrowHeight")),g=a(e,c*this.get("arrowInnerSkew"),this.get("arrowEdgeHeight")),h=a(f,c*this.get("arrowInnerSkew"),-this.get("arrowEdgeHeight")),i=49,j=a(g,c*i,0),k=a(h,c*i,0),l="";l+="M"+b(j)+" ";var m=[g,e,d,f,h,k];return m.forEach(function(a){l+="L"+b(a)+" "},this),l+="z"},getTextSize:function(){var a=function(a){var b=a.get("text")?a.get("text").node:null;return null===b?0:b.getBoundingClientRect().width},b=function(a){return a.w||(a.w=75),a.h||(a.h=20),a},c=this.get("text").node;if(this.get("isHead")){var d=c.getBoundingClientRect();return b({w:d.width,h:d.height})}var e=0;return this.getBranchStackArray().forEach(function(b){e=Math.max(e,a(b.obj.get("visBranch")))}),b({w:e,h:c.clientHeight})},getSingleRectSize:function(){var a=this.getTextSize(),b=this.get("vPad"),c=this.get("hPad");return{w:a.w+2*b,h:a.h+2*c}},getRectSize:function(){var a=this.getTextSize(),b=this.get("vPad"),c=this.get("hPad"),d=this.getBranchStackLength();return{w:a.w+2*b,h:a.h*d*1.1+2*c}},getIsRemote:function(){return this.get("branch").getIsRemote()},getName:function(){var a=this.get("branch").getName(),b=this.get("branch")===this.gitEngine.HEAD.get("target"),c=this.getIsRemote(),d=this.gitEngine.getIsHg();"HEAD"===a&&d&&(a=".");var e=!b||this.getIsInOrigin()||c?"":"*";return a+e},nonTextToFront:function(){this.get("arrow").toFront(),this.get("rect").toFront()},textToFront:function(){this.get("text").toFront()},textToFrontIfInStack:function(){0!==this.getBranchStackIndex()&&this.get("text").toFront()},getFill:function(){return this.get("isHead")||1==this.getBranchStackLength()||0!==this.getBranchStackIndex()?this.get("fill"):this.gitVisuals.blendHuesFromBranchStack(this.getBranchStackArray())},remove:function(){this.removeKeys(["text","arrow","rect"]),this.gitVisuals.removeVisBranch(this)},handleModeChange:function(){},genGraphics:function(a){var b=this.getTextPosition(),c=this.getName(),d=a.text(b.x,b.y,String(c));d.attr({"font-size":14,"font-family":"Monaco, Courier, font-monospace",opacity:this.getTextOpacity()}),this.set("text",d);var e=this.getAttributes(),f=this.getRectPosition(),g=this.getRectSize(),h=a.rect(f.x,f.y,g.w,g.h,8).attr(e.rect);this.set("rect",h);var i=this.getArrowPath(),j=a.path(i).attr(e.arrow);this.set("arrow",j);var k=["text","rect","arrow"];k.forEach(function(a){$(this.get(a).node).css(e.css)},this),this.attachClickHandlers(),h.toFront(),d.toFront()},attachClickHandlers:function(){if(!this.get("gitVisuals").options.noClick){var a=[this.get("rect"),this.get("text"),this.get("arrow")];a.forEach(function(a){a.click(this.onClick.bind(this))},this)}},shouldDisableClick:function(){return this.get("isHead")&&!this.gitEngine.getDetachedHead()},onClick:function(){if(!this.shouldDisableClick()){var b="git checkout "+this.get("branch").get("id"),c=a("../app");c.getEventBaton().trigger("commandSubmitted",b)}},updateName:function(){this.get("text").attr({text:this.getName()})},getNonTextOpacity:function(){return this.get("isHead")?this.gitEngine.getDetachedHead()?1:0:0!==this.getBranchStackIndex()?0:1},getTextOpacity:function(){return this.get("isHead")?this.gitEngine.getDetachedHead()?1:0:this.getIsGoalAndNotCompared()?0===this.getBranchStackIndex()?.7:.3:1},getStrokeWidth:function(){return this.getIsGoalAndNotCompared()?this.get("stroke-width")/5:this.get("stroke-width")},getAttributes:function(){var a=this.getTextOpacity();this.updateName();var b=this.getTextPosition(),c=this.getRectPosition(),d=this.getRectSize(),e=this.getArrowPath(),f=this.getDashArray(),g=this.shouldDisableClick()?"auto":"pointer";return{css:{cursor:g},text:{x:b.x,y:b.y,opacity:a},rect:{x:c.x,y:c.y,width:d.w,height:d.h,opacity:this.getNonTextOpacity(),fill:this.getFill(),stroke:this.get("stroke"),"stroke-dasharray":f,"stroke-width":this.getStrokeWidth()},arrow:{path:e,opacity:this.getNonTextOpacity(),fill:this.getFill(),stroke:this.get("stroke"),transform:this.getArrowTransform(),"stroke-dasharray":f,"stroke-width":this.getStrokeWidth()}}},animateUpdatedPos:function(a,b){var c=this.getAttributes();this.animateToAttr(c,a,b)},animateFromAttrToAttr:function(a,b,c,d){this.animateToAttr(a,0),this.animateToAttr(b,c,d)},setAttr:function(a,b,c,d){var e=["text","rect","arrow"];this.setAttrBase(e,a,b,c,d)}}),j=d.Collection.extend({model:i});c.VisBranchCollection=j,c.VisBranch=i,c.randomHueString=h},{"../app":176,"../graph/treeCompare":189,"../util/constants":214,"../visuals/visBase":238,backbone:1}],240:[function(a,b,c){var d=a("backbone"),e=a("../util/constants").GRAPHICS,f=a("../visuals/visBase").VisBase,g=a("../stores/GlobalStateStore"),h=f.extend({defaults:{tail:null,head:null,animationSpeed:e.defaultAnimationTime,animationEasing:e.defaultEasing},validateAtInit:function(){var a=["tail","head"];a.forEach(function(a){if(!this.get(a))throw new Error(a+" is required!")},this)},getID:function(){return this.get("tail").get("id")+"."+this.get("head").get("id")},initialize:function(){this.validateAtInit(),this.gitVisuals=this.get("gitVisuals"),this.gitEngine=this.get("gitEngine"),this.get("tail").get("outgoingEdges").push(this)},remove:function(){this.removeKeys(["path"]),this.gitVisuals.removeVisEdge(this)},genSmoothBezierPathString:function(a,b){var c=a.getScreenCoords(),d=b.getScreenCoords();return this.genSmoothBezierPathStringFromCoords(c,d)},genSmoothBezierPathStringFromCoords:function(a,b){var c=g.getFlipTreeY()?-1:1,d=function(a){return String(Math.round(a.x))+","+String(Math.round(a.y))},f=function(a,b,d){return d=d||e.curveControlPointOffset,{x:a.x,y:a.y+c*d*b}},h=function(a,b,d){return{x:a.x+b,y:a.y+c*d}};a=f(a,-1,this.get("tail").getRadius()),b=f(b,1,1.15*this.get("head").getRadius());var i="";i+="M"+d(a)+" ",i+="C",i+=d(f(a,-1))+" ",i+=d(f(b,1))+" ",i+=d(b);var j=e.arrowHeadSize||10;return i+=" L"+d(h(b,-j,j)),i+=" L"+d(h(b,j,j)),i+=" L"+d(b),i+="C",i+=d(f(b,1))+" ",i+=d(f(a,-1))+" ",i+=d(a)},getBezierCurve:function(){return this.genSmoothBezierPathString(this.get("tail"),this.get("head"))},getStrokeColor:function(){return e.visBranchStrokeColorNone},setOpacity:function(a){a=void 0===a?1:a,this.get("path").attr({opacity:a})},genGraphics:function(a){var b=this.getBezierCurve(),c=a.path(b).attr({"stroke-width":e.visBranchStrokeWidth,stroke:this.getStrokeColor(),"stroke-linecap":"round","stroke-linejoin":"round",fill:this.getStrokeColor()});c.toBack(),this.set("path",c)},getOpacity:function(){var a=this.gitVisuals.getCommitUpstreamStatus(this.get("tail")),b={branch:1,tag:1,head:e.edgeUpstreamHeadOpacity,none:e.edgeUpstreamNoneOpacity};if(void 0===b[a])throw new Error("bad stat");return b[a]},getAttributes:function(){var a=this.getBezierCurve(),b=this.getOpacity();return{path:{path:a,opacity:b}}},animateUpdatedPath:function(a,b){var c=this.getAttributes();this.animateToAttr(c,a,b)},animateFromAttrToAttr:function(a,b,c,d){this.animateToAttr(a,0),this.animateToAttr(b,c,d)},animateToAttr:function(a,b,c){return 0===b?void this.get("path").attr(a.path):(this.get("path").toBack(),this.get("path").stop(),void this.get("path").animate(a.path,void 0!==b?b:this.get("animationSpeed"),c||this.get("animationEasing")))}}),i=d.Collection.extend({model:h});c.VisEdgeCollection=i,c.VisEdge=h},{"../stores/GlobalStateStore":211,"../util/constants":214,"../visuals/visBase":238,backbone:1}],241:[function(a,b,c){var d=(a("backbone"),a("../util/constants").GRAPHICS),e=a("../visuals/visBase").VisBase,f=e.extend({defaults:{depth:void 0,maxWidth:null,outgoingEdges:null,circle:null,text:null,id:null,pos:null,radius:null,commit:null,animationSpeed:d.defaultAnimationTime,animationEasing:d.defaultEasing,fill:d.defaultNodeFill,"stroke-width":d.defaultNodeStrokeWidth,stroke:d.defaultNodeStroke},getID:function(){return this.get("id")},validateAtInit:function(){if(!this.get("id"))throw new Error("need id for mapping");if(!this.get("commit"))throw new Error("need commit for linking");this.get("pos")||this.set("pos",{x:Math.random(),y:Math.random()})},initialize:function(){this.validateAtInit(),this.gitVisuals=this.get("gitVisuals"),this.gitEngine=this.get("gitEngine"),this.set("outgoingEdges",[])},setDepth:function(a){this.set("depth",Math.max(this.get("depth")||0,a))},setDepthBasedOn:function(a,b){if(void 0===this.get("depth"))throw new Error("no depth yet!");var c=this.get("pos");c.y=this.get("depth")*a+b},getMaxWidthScaled:function(){var a=this.gitVisuals.getCommitUpstreamStatus(this.get("commit")),b={branch:1,tag:1,head:.3,none:.1};if(void 0===b[a])throw new Error("bad stat");return b[a]*this.get("maxWidth")},toFront:function(){this.get("circle").toFront(),this.get("text").toFront()},getOpacity:function(){var a={branch:1,tag:1,head:d.upstreamHeadOpacity,none:d.upstreamNoneOpacity},b=this.gitVisuals.getCommitUpstreamStatus(this.get("commit"));if(void 0===a[b])throw new Error("invalid status");return a[b]},getTextScreenCoords:function(){return this.getScreenCoords()},getAttributes:function(){var a=this.getScreenCoords(),b=this.getTextScreenCoords(),c=this.getOpacity(),e=this.getIsInOrigin()?d.originDash:"";return{circle:{cx:a.x,cy:a.y,opacity:c,r:this.getRadius(),fill:this.getFill(),"stroke-width":this.get("stroke-width"),"stroke-dasharray":e,stroke:this.get("stroke")},text:{x:b.x,y:b.y,opacity:c}}},animatePositionTo:function(a,b,c){var d=this.getAttributes(),e=a.getAttributes();d.circle=e.circle,d.text=e.text,this.animateToAttr(d,b,c)},highlightTo:function(a,b,c){var d=a.get("fill"),e={circle:{fill:d,stroke:d,"stroke-dasharray":"","stroke-width":5*this.get("stroke-width")},text:{}};this.animateToAttr(e,b,c)},animateUpdatedPosition:function(a,b){var c=this.getAttributes();this.animateToAttr(c,a,b)},animateFromAttrToAttr:function(a,b,c,d){this.animateToAttr(a,0),this.animateToAttr(b,c,d)},animateToSnapshot:function(a,b,c){a[this.getID()]&&this.animateToAttr(a[this.getID()],b,c)},setAttr:function(a,b,c,d){var e=["text","circle"];this.setAttrBase(e,a,b,c,d)},animateToAttr:function(a,b,c){e.prototype.animateToAttr.apply(this,arguments);var d=void 0!==b?b:this.get("animationSpeed");c||this.get("animationEasing");"bounce"==c&&a.circle&&void 0!==a.circle.cx&&a.text&&void 0!==a.text.x&&(this.get("circle").animate(a.circle.cx,d,"easeInOut"),this.get("text").animate(a.text.x,d,"easeInOut"))},getScreenCoords:function(){var a=this.get("pos");return this.gitVisuals.toScreenCoords(a)},getRadius:function(){return this.get("radius")||d.nodeRadius},getParentScreenCoords:function(){return this.get("commit").get("parents")[0].get("visNode").getScreenCoords()},setBirthPosition:function(){var a=this.getParentScreenCoords();this.get("circle").attr({cx:a.x,cy:a.y,opacity:0,r:0}),this.get("text").attr({x:a.x,y:a.y,opacity:0})},setBirthFromSnapshot:function(a){var b=this.get("commit").get("parents")[0].get("visNode").getID(),c=a[b];this.get("circle").attr({opacity:0,r:0,cx:c.circle.cx,cy:c.circle.cy}),this.get("text").attr({opacity:0,x:c.text.x,y:c.text.y});var d={x:c.circle.cx,y:c.circle.cy};this.setOutgoingEdgesBirthPosition(d)},setBirth:function(){this.setBirthPosition(),this.setOutgoingEdgesBirthPosition(this.getParentScreenCoords())},setOutgoingEdgesOpacity:function(a){this.get("outgoingEdges").forEach(function(b){b.setOpacity(a)})},animateOutgoingEdgesToAttr:function(a,b,c){this.get("outgoingEdges").forEach(function(b){var c=a[b.getID()];b.animateToAttr(c)},this)},animateOutgoingEdges:function(a,b){this.get("outgoingEdges").forEach(function(c){c.animateUpdatedPath(a,b)},this)},animateOutgoingEdgesFromSnapshot:function(a,b,c){this.get("outgoingEdges").forEach(function(d){var e=a[d.getID()];d.animateToAttr(e,b,c)},this)},setOutgoingEdgesBirthPosition:function(a){this.get("outgoingEdges").forEach(function(b){var c=b.get("head").getScreenCoords(),d=b.genSmoothBezierPathStringFromCoords(a,c);b.get("path").stop(),b.get("path").attr({path:d,opacity:0})},this)},parentInFront:function(){this.get("commit").get("parents")[0].get("visNode").toFront()},getFontSize:function(a){return a.length<3?12:a.length<5?10:8},getFill:function(){var a=this.gitVisuals.getCommitUpstreamStatus(this.get("commit"));return"head"==a?d.headRectFill:"tag"==a?d.orphanNodeFill:"none"==a?d.orphanNodeFill:this.gitVisuals.getBlendedHuesForCommit(this.get("commit"))},attachClickHandlers:function(){if(!this.get("gitVisuals").options.noClick){var b="git checkout "+this.get("commit").get("id"),c=a("../app");[this.get("circle"),this.get("text")].forEach(function(a){a.click(function(){c.getEventBaton().trigger("commandSubmitted",b)}),$(a.node).css("cursor","pointer")})}},setOpacity:function(a){a=void 0===a?1:a;var b=["circle","text"];b.forEach(function(b){this.get(b).attr({opacity:a})},this)},remove:function(){this.removeKeys(["circle"],["text"]);var a=this.get("text");a&&a.remove(),this.gitVisuals.removeVisNode(this)},removeAll:function(){this.remove(),this.removeAllEdges()},removeAllEdges:function(){this.get("outgoingEdges").forEach(function(a){a.remove()},this)},getExplodeStepFunc:function(a){if(!a)throw new Error("need speed by now");var b=this.get("circle"),c=20/a,d=Math.PI+1*Math.random()*Math.PI,e=.2*a,f=.01*a,g=c*Math.cos(d),h=c*Math.sin(d),i=b.attr("cx"),j=b.attr("cy"),k=this.gitVisuals.paper.width,l=this.gitVisuals.paper.height,m=.8/a,n=1,o=function(){return h+=e*n-f*h,g-=f*g,i+=g*n,j+=h*n,(0>i||i>k)&&(g=m*-g,i=0>i?0:k),(0>j||j>l)&&(h=m*-h,j=0>j?0:l),b.attr({cx:i,cy:j}),.1>g*g+h*h&&Math.abs(j-l)<=.1?!1:!0};return o},makeCircle:function(a){var b=this.getScreenCoords();return a.circle(b.x,b.y,this.getRadius()).attr(this.getAttributes().circle)},makeText:function(a){var b=this.getTextScreenCoords();return a.text(b.x,b.y,String(this.get("id")))},genGraphics:function(){var a=this.gitVisuals.paper,b=this.makeCircle(a),c=this.makeText(a);c.attr({"font-size":this.getFontSize(this.get("id")),"font-weight":"bold","font-family":"Monaco, Courier, font-monospace",opacity:this.getOpacity()}),this.set("circle",b),this.set("text",c),this.attachClickHandlers()}});c.VisNode=f},{"../app":176,"../util/constants":214,"../visuals/visBase":238,backbone:1}],242:[function(a,b,c){var d=a("backbone"),e=a("../util/constants").GRAPHICS,f=a("../visuals/visBase").VisBase,g=a("../graph/treeCompare"),h=function(){var a=Math.random(),b="hsb("+String(a)+",0.7,1)";return b},i=f.extend({defaults:{pos:null,text:null,rect:null,isHead:!1,fill:e.tagFill,stroke:e.tagStroke,"stroke-width":e.tagStrokeWidth,offsetX:e.nodeRadius,offsetY:e.nodeRadius,vPad:2,hPad:2,animationSpeed:e.defaultAnimationTime,animationEasing:e.defaultEasing},validateAtInit:function(){if(!this.get("tag"))throw new Error("need a Tag!")},getID:function(){return this.get("tag").get("id")},initialize:function(){if(this.validateAtInit(),this.gitVisuals=this.get("gitVisuals"),this.gitEngine=this.get("gitEngine"),!this.gitEngine)throw new Error("asd wtf");this.get("tag").set("visTag",this)},getCommitPosition:function(){var a=this.gitEngine.getCommitFromRef(this.get("tag")),b=a.get("visNode");return b.getScreenCoords()},getDashArray:function(){return this.get("gitVisuals").getIsGoalVis()?this.getIsLevelTagCompared()?"":"--":""},getIsGoalAndNotCompared:function(){return this.get("gitVisuals").getIsGoalVis()?!this.getIsLevelTagCompared():!1},getIsLevelTagCompared:function(){var a=this.get("gitVisuals").getLevelBlob();return!g.onlyMasterCompared(a)},getTagStackIndex:function(){if(this.get("isHead"))return 0;var a=this.getTagStackArray(),b=-1;return a.forEach(function(a,c){a.obj==this.get("tag")&&(b=c)},this),b},getTagStackLength:function(){return this.get("isHead")?1:this.getTagStackArray().length},isTagStackEmpty:function(){var a=this.gitVisuals.tagStackMap[this.getCommitID()];return a?0===a.length:!0},getCommitID:function(){var a=this.get("tag").get("target");return a.get("id")},getTagStackArray:function(){var a=this.gitVisuals.tagStackMap[this.getCommitID()];return void 0===a?(this.gitVisuals.calcTagStacks(),this.getTagStackArray()):a},getTextPosition:function(){var a=this.getCommitPosition(),b=this.getTagStackIndex();return{x:a.x+this.get("offsetX"),y:a.y+b*e.multiTagY+this.get("offsetY")}},getRectPosition:function(){var a=this.getTextPosition(),b=this.getTextSize();return{x:a.x-this.get("hPad"),y:a.y-.5*b.h-this.get("vPad")}},getTextSize:function(){var a=function(a){var b=a.get("text")?a.get("text").node:null;return null===b?0:b.getBoundingClientRect().width},b=function(a){return a.w||(a.w=75),a.h||(a.h=20),a},c=this.get("text").node,d=0;return this.getTagStackArray().forEach(function(b){d=Math.max(d,a(b.obj.get("visTag")))}),b({w:d,h:c.clientHeight})},getSingleRectSize:function(){var a=this.getTextSize(),b=this.get("vPad"),c=this.get("hPad");return{w:a.w+2*b,h:a.h+2*c}},getRectSize:function(){var a=this.getTextSize(),b=this.get("vPad"),c=this.get("hPad"),d=this.getTagStackLength();return{w:a.w+2*b,h:a.h*d+2*c}},getIsRemote:function(){return this.get("tag").getIsRemote()},getName:function(){var a=this.get("tag").getName();this.getIsRemote(),this.gitEngine.getIsHg();return a},nonTextToFront:function(){this.get("rect").toFront()},textToFront:function(){this.get("text").toFront()},textToFrontIfInStack:function(){0!==this.getTagStackIndex()&&this.get("text").toFront()},remove:function(){this.removeKeys(["text","rect"]),this.gitVisuals.removeVisTag(this)},handleModeChange:function(){},genGraphics:function(a){var b=this.getTextPosition(),c=this.getName(),d=a.text(b.x,b.y,String(c));d.attr({"font-size":14,"font-family":"Monaco, Courier, font-monospace",opacity:this.getTextOpacity(),"text-anchor":"start"}),this.set("text",d);var e=this.getAttributes(),f=this.getRectPosition(),g=this.getRectSize(),h=a.rect(f.x,f.y,g.w,g.h,8).attr(e.rect);this.set("rect",h);var i=["text","rect"];i.forEach(function(a){$(this.get(a).node).css(e.css)},this),this.attachClickHandlers(),h.toFront(),d.toFront()},attachClickHandlers:function(){if(!this.get("gitVisuals").options.noClick){var a=[this.get("rect"),this.get("text")];a.forEach(function(a){a.click(this.onClick.bind(this))},this)}},shouldDisableClick:function(){return this.get("isHead")&&!this.gitEngine.getDetachedHead()},onClick:function(){if(!this.shouldDisableClick()){var b="git checkout "+this.get("tag").get("id"),c=a("../app");c.getEventBaton().trigger("commandSubmitted",b)}},updateName:function(){this.get("text").attr({text:this.getName()})},getNonTextOpacity:function(){return this.get("isHead")?this.gitEngine.getDetachedHead()?1:0:0!==this.getTagStackIndex()?0:1},getTextOpacity:function(){return this.get("isHead")?this.gitEngine.getDetachedHead()?1:0:this.getIsGoalAndNotCompared()?0===this.getTagStackIndex()?.7:.3:1},getStrokeWidth:function(){return this.getIsGoalAndNotCompared()?this.get("stroke-width")/5:this.get("stroke-width")},getAttributes:function(){var a=this.getTextOpacity();this.updateName();var b=this.getTextPosition(),c=this.getRectPosition(),d=this.getRectSize(),e=this.getDashArray(),f=this.shouldDisableClick()?"auto":"pointer";return{css:{cursor:f},text:{x:b.x,y:b.y,opacity:a},rect:{x:c.x,y:c.y,width:d.w,height:d.h,opacity:this.getNonTextOpacity(),fill:this.get("fill"),stroke:this.get("stroke"),"stroke-dasharray":e,"stroke-width":this.getStrokeWidth()}}},animateUpdatedPos:function(a,b){var c=this.getAttributes();this.animateToAttr(c,a,b)},animateFromAttrToAttr:function(a,b,c,d){this.animateToAttr(a,0),this.animateToAttr(b,c,d)},setAttr:function(a,b,c,d){var e=["text","rect"];this.setAttrBase(e,a,b,c,d)}}),j=d.Collection.extend({model:i});c.VisTagCollection=j,c.VisTag=i,c.randomHueString=h},{"../app":176,"../graph/treeCompare":189,"../util/constants":214,"../visuals/visBase":238,backbone:1}],243:[function(a,b,c){(function(b){var d=a("backbone"),e=a("../models/collections"),f=e.CommitCollection,g=e.BranchCollection,h=e.TagCollection,i=a("../util/eventBaton").EventBaton,j=a("../visuals").GitVisuals,k=d.View.extend({initialize:function(a){a=a||{},this.options=a,this.customEvents=Object.assign({},d.Events),this.containerElement=a.containerElement;var c=this,e=a.containerElement||$("#canvasHolder")[0];new Raphael(e,200,200,function(){var d=this;b.nextTick(function(){c.paperInitialize(d,a)})})},paperInitialize:function(c,d){this.treeString=d.treeString,this.paper=c;var e=a("../app");this.eventBaton=d.noKeyboardInput?new i({noInput:!0}):e.getEventBaton(),this.commitCollection=new f,this.branchCollection=new g,this.tagCollection=new h,this.gitVisuals=new j({commitCollection:this.commitCollection,branchCollection:this.branchCollection,tagCollection:this.tagCollection,paper:this.paper,noClick:this.options.noClick,isGoalVis:this.options.isGoalVis,smallCanvas:this.options.smallCanvas,visualization:this});var k=a("../git").GitEngine;this.gitEngine=new k({collection:this.commitCollection,branches:this.branchCollection,tags:this.tagCollection,gitVisuals:this.gitVisuals,eventBaton:this.eventBaton}),this.gitEngine.init(),this.gitVisuals.assignGitEngine(this.gitEngine),this.myResize(),$(window).on("resize",function(){this.myResize()}.bind(this)),this.$el.parents(".ui-draggable").on("drag",function(a,b){this.customEvents.trigger("drag",a,b),this.myResize()}.bind(this)),this.gitVisuals.drawTreeFirstTime(),this.treeString&&this.gitEngine.loadTreeFromString(this.treeString),this.options.zIndex&&this.setTreeIndex(this.options.zIndex),this.shown=!1,this.setTreeOpacity(0),b.nextTick(this.fadeTreeIn.bind(this)),this.customEvents.trigger("gitEngineReady"),this.customEvents.trigger("paperReady")},clearOrigin:function(){delete this.originVis},makeOrigin:function(a){return this.originVis=new k(Object.assign({},this.options,{noKeyboardInput:!0,noClick:!0,treeString:a.treeString})),this.originVis.customEvents.on("paperReady",function(){var a=$(this.paper.canvas).css("z-index");this.originVis.setTreeIndex(a)}.bind(this)),this.originVis},originToo:function(a,b){if(this.originVis){var c=function(){this.originVis[a].apply(this.originVis,b)}.bind(this);return this.originVis.paper?void c():void this.originVis.customEvents.on("paperReady",c)}},setTreeIndex:function(a){$(this.paper.canvas).css("z-index",a),this.originToo("setTreeIndex",arguments)},setTreeOpacity:function(a){0===a&&(this.shown=!1),$(this.paper.canvas).css("opacity",a),this.originToo("setTreeOpacity",arguments)},getAnimationTime:function(){return 300},fadeTreeIn:function(){this.shown=!0,this.paper&&($(this.paper.canvas).animate({opacity:1},this.getAnimationTime()),this.originToo("fadeTreeIn",arguments))},fadeTreeOut:function(){this.shown=!1,this.paper&&this.paper.canvas&&$(this.paper.canvas).animate({opacity:0},this.getAnimationTime()),this.originToo("fadeTreeOut",arguments)},hide:function(){this.fadeTreeOut(),setTimeout(function(){$(this.paper.canvas).css("visibility","hidden")}.bind(this),this.getAnimationTime()),this.originToo("hide",arguments)},show:function(){$(this.paper.canvas).css("visibility","visible"),setTimeout(this.fadeTreeIn.bind(this),10),
this.originToo("show",arguments),this.myResize()},showHarsh:function(){$(this.paper.canvas).css("visibility","visible"),this.setTreeOpacity(1),this.originToo("showHarsh",arguments),this.myResize()},resetFromThisTreeNow:function(a){this.treeString=a;var b=this.getOriginInTreeString(a);if(b){var c=this.gitEngine.printTree(b);this.originToo("resetFromThisTreeNow",[c])}},getOriginInTreeString:function(a){var b=JSON.parse(unescape(a));return b.originTree},reset:function(a){var b=a||this.treeString;if(this.setTreeOpacity(0),b?this.gitEngine.loadTreeFromString(b):this.gitEngine.defaultInit(),this.fadeTreeIn(),this.originVis)if(b){var c=this.getOriginInTreeString(b);this.originToo("reset",[JSON.stringify(c)])}else this.originToo("reset",arguments)},tearDown:function(a){a=a||{},this.gitEngine.tearDown(),this.gitVisuals.tearDown(),delete this.paper,this.originToo("tearDown",arguments)},die:function(){this.fadeTreeOut(),setTimeout(function(){this.shown||this.tearDown({fromDie:!0})}.bind(this),this.getAnimationTime()),this.originToo("die",arguments)},myResize:function(){if(this.paper){var a=1,b=this.el,c=b.getBoundingClientRect(),d=c.width-a,e=c.height-a;if(this.containerElement)$(this.paper.canvas).css({position:"absolute"});else{var f=this.$el.offset().left,g=this.$el.offset().top;$(this.paper.canvas).css({position:"absolute",left:f+"px",top:g+"px"})}this.paper.setSize(d,e),this.gitVisuals.canvasResize(d,e),this.originToo("myResize",arguments)}}});c.Visualization=k}).call(this,a("_process"))},{"../app":176,"../git":187,"../models/collections":199,"../util/eventBaton":219,"../visuals":236,_process:12,backbone:1}],244:[function(a,b,c){c.levelSequences={intro:[a("./intro/commits").level]};var d=c.sequenceInfo={intro:{displayName:{de_DE:"Einfhrung"},about:{de_DE:"Eine gut abgestimmte Einfhrung in die wichtigsten Git-Befehle"}}};c.getTabForSequence=function(a){var b=d[a];return b.tab?b.tab:"main"}},{"./intro/commits":245}],245:[function(a,b,c){c.level={name:{de_DE:"Einfhrung in Git Commits"},goalTreeString:'{"branches":{"master":{"target":"C3","id":"master"}},"commits":{"C0":{"parents":[],"id":"C0","rootCommit":true},"C1":{"parents":["C0"],"id":"C1"},"C2":{"parents":["C1"],"id":"C2"},"C3":{"parents":["C2"],"id":"C3"}},"HEAD":{"target":"master","id":"HEAD"}}',solutionCommand:"git commit;git commit",startTree:'{"branches":{"master":{"target":"C1","id":"master"}},"commits":{"C0":{"parents":[],"id":"C0","rootCommit":true},"C1":{"parents":["C0"],"id":"C1"}},"HEAD":{"target":"master","id":"HEAD"}}',hint:{de_DE:"Gib einfach zweimal 'git commit' ein um den Level abzuschlieen"},disabledMap:{"git revert":!0},startDialog:{de_DE:{childViews:[{type:"ModalAlert",options:{markdowns:["## Git Commits","Ein Commit in ein Git-Repository speichert einen Abbildung aller Dateien in deinem Projektverzeichnis. Es ist wie ein riesiges Kopieren und Einfgen, nur besser.","","Allerdings will Git die Commits so schlank wie mglich halten, also kopiert es nicht einfach stur das ganze Verzeichnis jedes Mal wenn du committest. Es kann (wenn mglich) Commits als Menge von nderungen zusammenpacken, von einer Version des Repositorys zur nchsten.","","Auerdem fhrt Git ein Protokoll darber welche Commits wann gemacht wurden, und welcher auf welchen folgt. Deshalb werden die Commits hier mit ihrem Vorgnger ber sich gezeigt -- wir verwenden Pfeile zur Darstellung der Beziehung. Dieses Protokoll zu haben ist eine tolle Sache fr jeden, der an einem Projekt arbeitet.","","Das war jetzt eine Menge Neues, aber vorerst kannst du dir Commits einfach als Abbildungen des Projekts vorstellen. Commits sind sehr ressourcenschonend, und zwischen ihnen wechseln geht superschnell!"]}},{type:"GitDemonstrationView",options:{beforeMarkdowns:["Mal sehen wie das in der Praxis ist. Rechts sehen wir ein (kleines) Git-Repository. Es gibt akutell zwei Commits -- den initialen, `C0`, und den danach, `C1`, der irgendwelche nderungen enthlt.","","Klick die Schaltflche unten um einen neuen Commit zu erzeugen:"],afterMarkdowns:["Fertig. Klasse! Wir haben gerade nderungen gemacht und als Commit im Repository gespeichert. Der Commit, den wir gerade gemacht haben, hat den Vorgnger `C1`; der verweist wiederum auf den Commit, auf dem er basiert: `C0`."],command:"git commit",beforeCommand:""}},{type:"ModalAlert",options:{markdowns:["Probier das committen gleich mal aus! Mach zwei Commits um den Level abzuschlieen."]}}]}}}},{}]},{},[172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,201,202,203,204,205,206,207]);